{"version":3,"sources":["../node_modules/cloudinary/lib-es5/utils sync","redux/actions/authActions.js","redux/actions/friendRequestActions.js","redux/actions/messageActions.js","redux/actions/chatActions.js","redux/actions/networkActions.js","redux/actions/notifycationActions.js","redux/actions/profileActions.js","redux/actions/callActions.js","redux/actions/peerActions.js","redux/actions/createRoomChatActions.js","contants/imgContant.js","components/modalCall/NavModalCall.jsx","contants/index.js","config/axiosInstance .js","api/fetchData.js","helpers/formatTime.js","hooks/useFormatTime.js","components/statusActive/StatusActive.jsx","config/cloudinary.js","helpers/image.js","hooks/useCheckOnline.js","components/avatar/Avatar.jsx","components/modalCall/CardFriend.jsx","components/Carousel/Carousel.jsx","components/modalCall/InviteFriend.jsx","helpers/media/index.js","components/modalInviteCall/ModalInviteCall.jsx","components/modalCreateCall/ModalCreateCall.jsx","components/modalCall/ModalCall.jsx","api/authApi.js","helpers/debounceFunction.js","components/friendRequest/ButtonActionsFriendRequest.jsx","components/friendRequest/FriendRequest.jsx","components/friendRequest/DisplayFriendRequest.jsx","components/topbar/BoxFriendRequests.jsx","components/conversation/Conversation.jsx","pages/messenger/Typing.jsx","pages/messenger/DisplayMessageContent.jsx","pages/messenger/DisplayMessage.jsx","pages/messenger/DisplayImageMessage.jsx","pages/messenger/CreateMessage.jsx","pages/messenger/Call.jsx","helpers/index.js","pages/messenger/ChatRoom.jsx","pages/messenger/OptionsMessage.jsx","components/ModalCreateRoomChat/ModalCreateRoomChat.jsx","pages/messenger/Messenger.jsx","components/topbar/IconMessage.jsx","components/notification/NotificationAction.jsx","components/notification/DisplayNotification.jsx","components/notification/MenuNotifycation.jsx","components/notification/Notification.jsx","components/topbar/IconNotifycation.jsx","components/topbar/Topbar.jsx","components/userSuggestion/UserSuggestion.jsx","components/sidebar/Sidebar.jsx","components/displayimg/DisplayImg.jsx","components/comment/CommentInfo.jsx","components/comment/CommentCrud.jsx","components/modal/ModalConfirmDelete.jsx","components/commentReply/CommentReply.jsx","components/form/createComment/CreateComment.jsx","components/comment/Comment.jsx","components/post/CrudPost.jsx","components/chooseImage/ChooseImage.jsx","components/modal/ModalEditPost.jsx","components/post/Post.jsx","components/modal/ModalChooseImage.jsx","components/share/Share.jsx","components/feed/Feed.jsx","pages/profile/EditProfile.jsx","pages/profile/DisplayDetailInfo.jsx","pages/profile/AboutProfile.jsx","pages/profile/DisplayFriendList.jsx","pages/profile/NavProfile.jsx","pages/profile/ButtonFollow.jsx","pages/profile/ButtonFriend.jsx","pages/profile/ButtonMessage.jsx","pages/profile/ProfileButtonActions.jsx","pages/profile/ProfileRight.jsx","components/buttonSocials/ButtonSocials.jsx","components/UpdateImage/UpdateImage.jsx","pages/profile/ProfileLeft.jsx","components/friend/Friend.jsx","components/rightbar/Rightbar.jsx","helpers/createKeyUser.js","pages/register/Register.jsx","pages/notFound/NotFound.jsx","components/Layout/ProtectLayOut/index.jsx","pages/post/PostPage.jsx","routes/index.js","pages/login/Login.jsx","pages/home/Home.jsx","pages/profile/Profile.jsx","App.js","redux/reducers/authReducer.js","redux/reducers/chatReducer.js","redux/reducers/friendRequestReducer.js","redux/reducers/messageReducer.js","redux/reducers/networkReducer.js","redux/reducers/notifycationReducer.js","redux/reducers/profileReducer.js","redux/reducers/callReducer.js","redux/reducers/peerReducer.js","redux/reducers/createRoomChatReducer.js","redux/reducers/index.js","redux/store.js","components/GlobalStyles/index.jsx","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","LOGIN_SUCCESS","LOGIN_START","LOGIN_FAILED","UPDATE_USER","UN_FOLLOW","FOLLOW","UPDATE_BACKGROUND_USER","UPDATE_AVATAR_USER","ADD_FRIEND","REMOVE_FRIEND","USER_LOGOUT","SET_TYPE","SET_LIST_FRIEND_REQUEST","ADD_LIST_FRIEND_REQUEST","REMOVE_FRIEND_REQUEST","INCREASE_NUMBER_FRIEND_REQUEST","SET_NUMBER_FRIEND_REQUEST","SET_FILES","ADD_FILE","REMOVE_FILE","UPDATE_LAST_MESSAGE","UPDATE_STATUS_CONVERSATION","SET_STATUS_CONVERSATION","SET_CHAT","SET_LIST_CONVERSATION","SET_CONVERSATION_CHAT","SET_IS_SHOW","UPDATE_CONVERSATION_DISPLAYS","UPDATE_FRIEND_CHAT","ADD_CONVERSATION","SET_NUMBER_UNREAD","INCREASE_NUMBER_UNREAD","DECREASE_NUMBER_UNREAD","UPDATE_READ_CONVERSATION","SET_NEW_CONVERSATION_CHAT","SET_SOCKET","SET_USERS_ONLINE","ADD_USER_ONLINE","REMOVE_USER_OFFLINE","RESET_NETWORK","SET_LIST_NOTIFICATION","ADD_NOTIFICATION","SET_NUMBER_NOTIFICATION_UNREAD","INCREASE_NUMBER_NOTIFICATION_UNREAD","DECREASE_NUMBER_NOTIFICATION_UNREAD","SET_SHOW_NOTIFICATION","REMOVE_NOTIFICATION","SET_TYPE_NOTIFICATION","SET_NOTIFICATIONs_DISPLAY","REMOVE_ALL_NOTIFICATION","UPDATE_LIST_CONVERSATION","ADD_NOTIFICATION_DISPLAY","SET_SHOW_NOTIFICATION_MENU","SET_STATUS_FRIEND","SET_USER_PROFILE","SET_IS_ME","SET_CALL","END_CALL","SET_IS_ANSWER","SET_FRIEND_INVITES","REFUSE_INVITE","SET_ACCEPT_INVITE","SET_USER_STREAM","SET_IS_COMPLETE","UPDATE_CONVERSATION","SET_PEER","SET_CREATE_ROOM","ADD_FRIEND_TO_ROOM","REMOVE_FRIEND_TO_ROOM","SET_LIST_FRIEND","RESET_CREATE_ROOM","NO_AVATAR","NO_BACKGROUND","STORE_IMG","NavModalCall","src","alt","className","ACCESS_TOKEN","REFRESH_TOKEN","instance","axios","create","baseURL","isTimeExpire","token","date","Date","jwt_decode","exp","getTime","getToken","nameToken","localStorage","getItem","JSON","parse","refreshTokenRequest","handleRefreshToken","refreshToken","post","response","interceptors","request","use","accessToken","newAccessToken","data","setItem","stringify","headers","error","Promise","reject","console","log","message","toast","autoClose","getDataAPI","url","axiosInstance","get","res","postDataAPI","putDataAPI","put","patchDataAPI","patch","deleteDataAPI","delete","value","slice","timeFormat","format","replace","idx","indexOf","useFormatTime","user","useMemo","lastLogin","formatTime","StatusActive","isOnline","time","padding","style","cloudinary","require","config","cloud_name","api_key","api_secret","imageUpload","images","all","map","image","formData","FormData","camera","append","responses","public_id","removeImage","uploader","destroy","err","useCheckOnline","isLog","useState","setIsOnline","usersOnline","useSelector","state","network","userCurrent","auth","useEffect","_id","length","includes","Avatar","isStatus","width","height","link","isShowOffline","status","setStatus","friends","profilePicture","displayAvatar","to","CardFriend","friend","isDisable","setIsDisable","socket","call","isVideo","roomCallId","conversationId","timeRemaining","useRef","current","timer","setTimeout","clearTimeout","userName","type","onClick","friendId","info","emit","sender","receiverId","isCreate","Carousel","children","settings","dots","infinite","speed","slidesToShow","slidesToScroll","lazyLoad","responsive","breakpoint","initialSlide","InviteFriend","userCall","isAnswer","fristLoadFriends","friendInvites","dispatch","useDispatch","isMount","handleFetchFriends","filter","payload","body","addClass","nameClass","element","split","forEach","el","classList","add","replaceClass","class1","class2","contains","openStream","video","audio","navigator","mediaDevices","getUserMedia","findStream","streamId","Array","from","document","querySelectorAll","find","getAttribute","addVideoStream","stream","isYou","divEl","createElement","imgEl","display","setAttribute","iEl","srcObject","addEventListener","play","onclick","videoPinCurent","querySelector","remove","iconVideoPin","target","handleUpdateUserCamera","img","videoEl","pause","ModalInviteCall","userSendCall","countTime","setCountTime","peer","userStream","handleRefuseInvite","handleCountTime","prev","handleJoinCall","userReceiveCall","peerId","ModalCreateCall","isSenderCall","handleAnswer","userRefuseId","CallModal","hours","setHours","mins","setMins","second","setSecond","total","setTotal","isMic","setIsMic","isOpenVideo","setOpenVideo","userReciverCall","parseInt","on","answer","remoteStream","removeListener","timerId","setInterval","clearInterval","handleSendStream","off","handleUserCallOut","handleNotify","isClose","userCallId","userSendCallId","toogleStream","track","getTracks","kind","enabled","toString","stop","userOutCallId","defaults","login","userInfo","navigate","success","register","debounce","callback","delay","rest","ButtonActionsFriendRequest","friendRequest","acceptFriendRequest","friendRequestId","userId","text","responseCreateNotification","notification","refuseFriendRequest","deleteFriendRequest","sendToFriendRequest","FriendRequest","setUser","handleGetUser","senderId","DisplayFriendRequest","listFriendRequest","getFriendRequest","friendRequests","BoxFriendRequests","Conversation","conversation","reads","members","isMultiple","name","listMembers","nameConversation","setMessage","isRead","setIsRead","lastMessage","setLastMessage","chat","lastMessageConversation","statusConversations","handeGetInfoMembers","listMemberIds","memberId","handleSetImgConversation","key","uuidv4","listImages","ids","i","check","idxRamdom","Math","floor","random","push","member","isNotify","notify","handleGetName","Typing","DisplayMessageContent","conversationChat","userSend","DisplayMessage","updateConversation","messages","setMessages","messageRef","scrollIntoView","behavior","block","inline","removeMessage","newLastMessage","newMessage","item","receverId","ref","moment","createdAt","isDeleted","DisplayImageMessage","files","file","URL","createObjectURL","uuid","Cancel","CreateMessage","createNewMessage","isTyping","setIsTyping","handleSubmit","focus","onSubmit","preventDefault","htmlFor","accept","multiple","onChange","placeholder","onBlur","Call","friendChat","isCall","roomCall","isNext","userJoinCallId","userSenderCall","checkExit","array","addElment","ChatRoom","hasTyping","setHasTyping","handleSetTyping","updateListMessage","updateFriendConversation","userDisconnectId","getMessages","handleReceiveMessage","messageCreate","receivers","OptionsMessage","number","setNumber","listConversation","numberSet","reduce","prevState","ModalCreateRoomChat","setFile","nameRef","descRef","createRoomChat","friendAdds","handleCloseModal","desc","required","Messenger","conversationDisplays","setConversationDisplays","isShowConversationPending","getConversations","conversations","handleChosseCurrentChat","dataUpdate","isChangeType","Object","entries","IconMessage","isChat","conversationUnReads","updateNumberConversationUnRead","Chat","NotificationAction","handleRemoveNotification","handleUnReadNotification","newNotification","readNotification","DisplayNotifycation","useNavigate","fetchUser","updateReadNotification","timeago","MenuNotifycation","isShowMenu","listNotifycation","setNotifications","removeAllNotification","readAllNotification","notifications","Notification","notificationDisplays","updateListNotification","animation","animationFillMode","DisplayNotification","IconNotification","isShow","updateNumberNotification","getConversation","getNumberNotificationNotRead","Notifications","cursor","Topbar","setFirstShowNotification","usersSearch","setUsersSearch","isShowUsersSearch","setIsShowUsersSearch","isShowFriendRequests","setIsShowFriendRequests","numberFriendRequest","searchInputRef","displayUsersSearchRef","getNumberFriendRequest","updateNumberFriendRequest","handleCloseSearchUsers","removeEventListener","handleUpdateNotification","getNumberConversationUnWatch","handleSearchUsers","users","textDecoration","Search","onFocus","Person","IconNotifycation","UserSuggestion","color","Sidebar","usersSuggestion","setUsersSuggestion","getUsersSuggestion","RssFeed","PlayCircleFilledOutlined","Group","Bookmark","HelpOutline","WorkOutline","Event","School","Displayimg","setImages","setFiles","CommentInfo","comment","isEdit","setIsEdit","setText","handleReset","updateComment","newImages","imagesRemove","newImage","responseImages","newComment","postId","userPost","autoFocus","PermMedia","htmlColor","DisplayImg","CommentCrud","ModalConfirmDelete","onRemove","tabIndex","role","CommentReply","commentReply","setCommentsReply","like","setLike","isCrudComment","setIsCrudComment","isLiked","setIsLiked","likes","handleCheckClick","likeHandler","handleRemoveCommnetReply","onRemoveComment","CreateComment","onCreateComment","commentRef","Comment","setComments","isShowCommentsReply","setIsShowCommentsReply","isComment","setIsComment","commentsReply","idCreateComment","handleGetCommentReply","comments","handleCreateCommentReply","commentInfo","commentReplyId","handleRemoveComment","commentId","commentPost","CrudPost","ChooseImage","setIsTakePhoto","isTakePhoto","videoRef","canvasRef","videoStream","setVideoStream","useFrontCamera","setUseFrontCamera","setNotify","isStop","setIsStop","constraints","min","ideal","max","stopVideoStream","init","facingMode","videoWidth","videoHeight","getContext","drawImage","toDataURL","ModalEditPost","setPosts","setDesc","updatePost","newPost","userFollowings","followings","handleClose","Modal","show","onHide","Header","closeButton","Title","Body","row","Footer","Button","variant","Post","isShowComment","setIsShowComment","isCrudPost","setIsCrudPost","getComments","handleUpdateLikePost","handleUpdateCmtPost","handleCreateComment","handleRemovePost","ModalChooseImage","typeImage","onSave","Share","shareing","setShearing","handleCreatePost","userFollowingId","dataEmit","border","outline","backgroundColor","Label","Room","EmojiEmotions","Feed","posts","handleUpdateFeed","postFeed","fetchPosts","sort","p1","p2","p","EditProfile","onEdit","phoneRef","addressRef","relationshipRef","updateUser","phone","address","relationship","userUpdate","defaultValue","email","disabled","selected","DisplayDetailInfo","userProfile","profile","AboutProfile","isEditInfo","setIsEditInfo","DisplayFriendList","friendList","setFriendList","NavProfile","option","setOption","toUpperCase","ButtonFollow","followed","setFollowed","handleClick","ButtonFriend","setFriendRequest","statusFriend","setStatusFriend","isFriend","idModalRemoveFriendRequest","idModal","addListFriend","removeListFriend","updateStatus","handleCheckStatusFriend","friendRequestDb","handleSetStatusFriend","createFriendRequest","removeFriendRequest","unFriend","ButtonMessage","isClick","setIsClick","handleSetConversationChat","ProfileButtonAction","isMe","ProfileRight","ProfileButtonActions","ButtonSocials","UpdateImage","ProfileLeft","idAvatar","followers","Friend","Rightbar","updateFriendList","online","friendsUpdateStatus","HomeRightbar","ProfileRightbar","Remove","Add","city","relationships","generateKeywords","displayName","word","flagArray","result","stringArray","findPermutation","k","join","keywords","acc","cur","words","arrName","curName","letter","createKeywords","Register","emailRef","passwordRef","userNameRef","passwordAgainRef","setCustomValidity","password","minLength","justifyContent","NotFound","ProtectLayOut","isLogin","setIslogin","PostPage","useParams","setPost","fetchPost","publicRoutes","path","component","layout","isLoading","CircularProgress","size","privateRoutes","idBgc","handleUpload","dataImage","backgroundImage","coverPicture","App","firstConnect","firstGetData","isInvited","handleConnectCall","Peer","undefined","host","port","addUserOnline","userLoginId","removeUserOffline","io","handleSetUserOnline","allUser","usersFollowOnline","followingiD","route","Layout","Fragment","Page","ModalCall","initialState","authReducer","action","idUserFollow","chatReducer","newInfo","conversationAccepts","isExit","conversationPendings","friendRequestReducer","networkReducer","isComplete","peerReducer","createRoomChatReducer","rootReducer","messageReducer","notifycationReducer","profileReducer","callReducer","composeEnhancers","composeWithDevTools","applyMiddleware","thunk","createStore","GlobalStyles","ReactDOM","render","store","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3bfb083e.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 602;","// auth\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_START = \"LOGIN_START\";\nexport const LOGIN_FAILED = \"LOGIN_FAILED\";\n\n// user\nexport const UPDATE_USER = \"UPDATE_USER\";\nexport const UN_FOLLOW = \"UN_FOLLOW\";\nexport const FOLLOW = \"FOLLOW\";\nexport const UPDATE_BACKGROUND_USER = \"UPDATE_BACKGROUND_USER\";\nexport const UPDATE_AVATAR_USER = \"UPDATE_AVATAR_USER\";\nexport const ADD_FRIEND = \"ADD_FRIEND\";\nexport const REMOVE_FRIEND = \"REMOVE_FRIEND\";\nexport const USER_LOGOUT = \"USER_LOGOUT\";\n","//Friend Request\nexport const SET_TYPE = \"SET_TYPE\";\nexport const SET_LIST_FRIEND_REQUEST = \"SET_LIST_FRIEND_REQUEST\";\nexport const ADD_LIST_FRIEND_REQUEST = \"ADD_LIST_FRIEND_REQUEST\";\nexport const REMOVE_FRIEND_REQUEST = \"REMOVE_FRIEND_REQUEST\";\nexport const INCREASE_NUMBER_FRIEND_REQUEST = \"INCREASE_NUMBER_FRIEND_REQUEST\";\nexport const SET_NUMBER_FRIEND_REQUEST = \"SET_NUMBER_FRIEND_REQUEST\";\n","//message\nexport const SET_FILES = \"SET_FILES\";\nexport const ADD_FILE = \"ADD_FILE\";\nexport const REMOVE_FILE = \"REMOVE_FILE\";\n","//chat\nexport const UPDATE_LAST_MESSAGE = \"UPDATE_LAST_MESSAGE\";\nexport const UPDATE_STATUS_CONVERSATION = \"UPDATE_STATUS_CONVERSATION\";\nexport const SET_STATUS_CONVERSATION = \"SET_STATUS_CONVERSATION\";\nexport const SET_CHAT = \"SET_CHAT\";\nexport const SET_LIST_CONVERSATION = \"SET_LIST_CONVERSATION\";\nexport const ADD_STATUS_CONVERSATION = \"ADD_STATUS_CONVERSATION\";\nexport const SET_CONVERSATION_CHAT = \"SET_CONVERSATION_CHAT\";\nexport const SET_IS_SHOW = \"SET_IS_SHOW\";\nexport const DISPLAY_CONVERSATION_ACCEPTS = \"DISPLAY_CONVERSATION_ACCEPTS\";\nexport const UPDATE_CONVERSATION_DISPLAYS = \"UPDATE_CONVERSATION_DISPLAYS\";\nexport const UPDATE_FRIEND_CHAT = \"UPDATE_FRIEND_CHAT\";\n\nexport const ADD_CONVERSATION_ACCEPTS = \"ADD_CONVERSATION_ACCEPTS\";\nexport const ADD_CONVERSATION_PENDINGS = \"ADD_CONVERSATION_PENDINGS\";\nexport const ADD_CONVERSATION = \"ADD_CONVERSATION\";\n\nexport const SET_NUMBER_UNREAD = \"SET_NUMBER_UNREAD\";\nexport const INCREASE_NUMBER_UNREAD = \"INCREASE_NUMBER_UNREAD\";\nexport const DECREASE_NUMBER_UNREAD = \"DECREASE_NUMBER_UNREAD\";\n\nexport const UPDATE_READ_CONVERSATION = \"UPDATE_READ_CONVERSATION\";\nexport const SET_NEW_CONVERSATION_CHAT = \"SET_NEW_CONVERSATION_CHAT\";\n","//network\nexport const SET_SOCKET = \"SET_SOCKET\";\nexport const SET_USERS_ONLINE = \"SET_USERS_ONLINE\";\nexport const ADD_USER_ONLINE = \"ADD_USER_ONLINE\";\nexport const REMOVE_USER_OFFLINE = \"REMOVE_USER_OFFLINE\";\nexport const RESET_NETWORK = \"RESET_NETWORK\";\n","//chat\nexport const SET_LIST_NOTIFICATION = \"SET_LIST_NOTIFICATION\";\nexport const ADD_NOTIFICATION = \"ADD_NOTIFICATION\";\nexport const SET_NUMBER_NOTIFICATION_UNREAD = \"SET_NUMBER_NOTIFICATION_UNREAD\";\nexport const INCREASE_NUMBER_NOTIFICATION_UNREAD =\n  \"INCREASE_NUMBER_NOTIFICATION_UNREAD\";\nexport const DECREASE_NUMBER_NOTIFICATION_UNREAD =\n  \"DECREASE_NUMBER_NOTIFICATION_UNREAD\";\nexport const SET_SHOW_NOTIFICATION = \"SET_SHOW_NOTIFICATION\";\nexport const REMOVE_NOTIFICATION = \"REMOVE_NOTIFICATION\";\nexport const SET_TYPE_NOTIFICATION = \"SET_TYPE_NOTIFICATION\";\nexport const SET_NOTIFICATIONs_DISPLAY = \"SET_NOTIFICATIONs_DISPLAY\";\nexport const REMOVE_ALL_NOTIFICATION = \"REMOVE_ALL_NOTIFICATION\";\nexport const UPDATE_LIST_CONVERSATION = \"UPDATE_LIST_CONVERSATION\";\nexport const ADD_NOTIFICATION_DISPLAY = \"ADD_NOTIFICATION_DISPLAY\";\nexport const SET_SHOW_NOTIFICATION_MENU = \"SET_SHOW_NOTIFICATION_MENU\";\n","export const SET_STATUS_FRIEND = \"SET_STATUS_FRIEND\";\nexport const SET_USER_PROFILE = \"SET_USER_PROFILE\";\nexport const SET_IS_ME = \"SET_IS_ME\";\n\n","export const SET_CALL = \"SET_CALL\";\nexport const END_CALL = \"END_CALL\";\nexport const SET_IS_ANSWER = \"SET_IS_ANSWER\";\nexport const SET_IS_MIC = \"SET_IS_MIC\";\nexport const SET_FRIEND_INVITES = \"SET_FRIEND_INVITES\";\nexport const SET_INFO_INVITE = \"SET_INFO_INVITE\";\nexport const SET_IS_INVITED = \"SET_IS_INVITED\";\nexport const REFUSE_INVITE = \"REFUSE_INVITE\";\nexport const SET_ACCEPT_INVITE = \"SET_ACCEPT_INVITE\";\nexport const SET_USER_STREAM = \"SET_USER_STREAM\";\nexport const SET_IS_COMPLETE = \"SET_IS_COMPLETE\";\nexport const UPDATE_CONVERSATION = \"UPDATE_CONVERSATION\";\n","export const SET_PEER = \"SET_PEER\";\n","export const SET_CREATE_ROOM = \"SET_CREATE_ROOM\";\nexport const ADD_FRIEND_TO_ROOM = \"ADD_FRIEND_TO_ROOM\";\nexport const REMOVE_FRIEND_TO_ROOM = \"REMOVE_FRIEND_TO_ROOM\";\nexport const SET_LIST_FRIEND = \"SET_LIST_FRIEND\";\nexport const RESET_CREATE_ROOM = \"RESET_CREATE_ROOM\";\n","export const NO_AVATAR =\n  \"https://tse4.mm.bing.net/th?id=OIP.VwOipFm0fDDr_KOzoyrgVwAAAA&pid=Api&P=0&w=169&h=178\";\nexport const NO_BACKGROUND =\n  \"https://file.vfo.vn/hinh/2018/03/hinh-mau-trang-tinh-tron-hinh-nen-anh-dai-dien-anh-bia-toan-mau-trang4.png\";\n\nexport const STORE_IMG = \"http://localhost:8080/images/\";\n","import React from \"react\";\nimport { STORE_IMG } from \"../../contants/imgContant\";\n\nconst NavModalCall = () => {\n  return (\n    <nav>\n      <img src={STORE_IMG + \"logo.png\"} alt=\"\" />\n      <ul>\n        <li>\n          <img\n            src={STORE_IMG + \"live.png\"}\n            alt=\"\"\n            className=\"icon_modal-active\"\n          />\n        </li>\n        <li>\n          <img src={STORE_IMG + \"video.png\"} alt=\"\" />\n        </li>\n        <li>\n          <img src={STORE_IMG + \"message.png\"} alt=\"\" />\n        </li>\n        <li>\n          <img src={STORE_IMG + \"notification.png\"} alt=\"\" />\n        </li>\n        <li>\n          <img src={STORE_IMG + \"users.png\"} alt=\"\" />\n        </li>\n        <li>\n          <img src={STORE_IMG + \"setting.png\"} alt=\"\" />\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default NavModalCall;\n","const ACCESS_TOKEN = 'access_token';\r\nconst REFRESH_TOKEN = 'refresh_token';\r\n\r\nexport { ACCESS_TOKEN, REFRESH_TOKEN };","import axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nimport jwt_decode from \"jwt-decode\";\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from \"../contants\";\n\nconst instance = axios.create({\n    baseURL: \"http://localhost:8080/v1/api\",\n});\n\n\nconst isTimeExpire = (token) => {\n    if (!token) {\n        return true;\n    }\n    const date = new Date();\n    const { exp } = jwt_decode(token);\n    return exp < date.getTime() / 1000\n}\n\nconst getToken = (nameToken) => localStorage.getItem(nameToken)\n    ? JSON.parse(localStorage.getItem(nameToken))\n    : \"\";\n\n\nlet refreshTokenRequest = null;\nconst handleRefreshToken = async () => {\n    try {\n        let refreshToken = getToken(REFRESH_TOKEN);\n        if (isTimeExpire(refreshToken)) throw new Error(\"Refresh token invalid\");\n        const response = await axios.post(\n            \"http://localhost:8080/v1/api/auth/refresh-token\",\n            { refreshToken }\n        );\n        return response;\n    } catch (err) {\n        throw err;\n    }\n};\n\ninstance.interceptors.request.use(\n    async (request) => {\n        let accessToken = getToken(ACCESS_TOKEN);\n\n        if (!accessToken) {\n            throw new Error(\"Please login\");\n        }\n\n        if (isTimeExpire()) {\n            try {\n                refreshTokenRequest = refreshTokenRequest\n                    ? refreshTokenRequest\n                    : handleRefreshToken();\n\n                const response = await refreshTokenRequest;\n\n                const { newAccessToken } = response.data;\n\n                localStorage.setItem(ACCESS_TOKEN, JSON.stringify(newAccessToken));\n\n                accessToken = newAccessToken;\n            } catch (err) {\n                throw new Error(\"Refresh Token failed\");\n            }\n        }\n\n        request.headers[\"Authorization\"] = \"Bearer \" + accessToken;\n        return request;\n    },\n    function (error) {\n        return Promise.reject(error);\n    }\n);\n\ninstance.interceptors.response.use(\n    function (response) {\n        return response.data;\n    },\n    function (error) {\n        console.log(\"error on respon\", error);\n        const message = error?.response?.data?.message || error.message;\n\n        toast.error(message, { autoClose: 1000 });\n        return Promise.reject(message);\n    }\n);\n\nexport default instance;\n","import axiosInstance from \"../config/axiosInstance \";\n\nexport const getDataAPI = async (url) => {\n\n  const res = await axiosInstance.get(`${url}`);\n  return res;\n};\n\nexport const postDataAPI = async (url, data) => {\n  const res = await axiosInstance.post(`${url}`, data);\n  return res;\n};\n\nexport const putDataAPI = async (url, data) => {\n  const res = await axiosInstance.put(`${url}`, data);\n  return res;\n};\n\nexport const patchDataAPI = async (url, data) => {\n  const res = await axiosInstance.patch(`${url}`, data);\n  return res;\n};\n\nexport const deleteDataAPI = async (url) => {\n  const res = await axiosInstance.delete(`${url}`);\n  return res;\n};\n","import { format } from \"timeago.js\";\n\nexport default function (value, slice) {\n  const time = format(value);\n  let timeFormat = time.replace(\"seconds\", \"giây\");\n  timeFormat = timeFormat.replace(\"minutes\", \"phút\");\n  timeFormat = timeFormat.replace(\"hours\", \"giờ\");\n  timeFormat = timeFormat.replace(\"days\", \"ngày\");\n  const idx = timeFormat.indexOf(\" ago\");\n  return slice ? timeFormat.slice(0, idx) : timeFormat;\n}\n","import { useMemo } from \"react\";\nimport formatTime from \"../helpers/formatTime\";\n\nconst useFormatTime = (user, slice = true) => {\n  const time = useMemo(() => {\n    if (user?.lastLogin) return formatTime(user.lastLogin, slice);\n  }, [user]);\n\n  return time;\n};\n\nexport default useFormatTime;\n","import React from \"react\";\nimport \"./statusActive.scss\";\n\nconst StatusActive = ({ isOnline, time, padding }) => {\n  return (\n    <span\n      className={`active ${isOnline ? \"online\" : \"offline\"}`}\n      style={{ padding: padding }}\n    >\n      {!isOnline && time}\n    </span>\n  );\n};\n\nexport default StatusActive;\n","const cloudinary = require(\"cloudinary/lib-es5/cloudinary\");\nrequire(\"dotenv\").config();\n\ncloudinary.config({\n  cloud_name: \"ko-c\",\n  api_key: \"859769854664576\",\n  api_secret: \"4IajgOMmiGtm4j3D-kz7AhqyiCw\",\n});\n\nexport default cloudinary;\n","import cloudinary from \"../config/cloudinary\";\nimport axios from \"axios\";\nimport { NO_AVATAR } from \"../contants/imgContant\";\n\nexport const imageUpload = async (images) => {\n  try {\n    const responses = await Promise.all(\n      images.map((image) => {\n        const formData = new FormData();\n        if (image.camera) {\n          formData.append(\"file\", image.url);\n        } else formData.append(\"file\", image);\n        formData.append(\"upload_preset\", \"react-social\");\n\n        return axios.post(\n          \"https://api.cloudinary.com/v1_1/ko-c/image/upload\",\n          formData\n        );\n      })\n    );\n    return responses.map(({ data }) => {\n      return {\n        url: data.url,\n        public_id: data.public_id,\n      };\n    });\n  } catch (err) {\n    throw err;\n  }\n};\n\nexport const removeImage = (images) => {\n  try {\n    images.map((image) =>\n      cloudinary.uploader.destroy(image, (data, error) => {\n        if (error) {\n          throw error;\n        }\n      })\n    );\n  } catch (err) {\n    throw err;\n  }\n};\n\nexport const displayAvatar = (user) => {\n  return (user?.profilePicture?.length && user?.profilePicture[0]) || NO_AVATAR;\n};\nexport const displayBgc = (user) => {\n  return (user?.coverPicture?.length && user?.coverPicture[0]) || NO_AVATAR;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst useCheckOnline = (user, isLog) => {\n  const [isOnline, setIsOnline] = useState(false);\n\n  const { usersOnline } = useSelector((state) => state.network);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    if (userCurrent?._id === user?._id) return setIsOnline(true);\n    if (usersOnline && usersOnline.length > 0) {\n      return setIsOnline(usersOnline.includes(user?._id));\n    }\n    setIsOnline(false);\n  }, [usersOnline, user, userCurrent]);\n\n  return [isOnline, setIsOnline];\n};\n\nexport default useCheckOnline;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useFormatTime from \"../../hooks/useFormatTime\";\nimport StatusActive from \"../statusActive/StatusActive\";\nimport \"./avatar.scss\";\nimport { displayAvatar } from \"../../helpers/image\";\nimport { useSelector } from \"react-redux\";\nimport useCheckOnline from \"../../hooks/useCheckOnline\";\n\nconst Avatar = ({\n  isStatus = true,\n  user,\n  width,\n  height,\n  link = true,\n  isShowOffline = true,\n  className = \"\",\n}) => {\n  const [status, setStatus] = useState();\n  const [isOnline, setIsOnline] = useCheckOnline(user);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    if (!userCurrent || !user) return;\n    setStatus(\n      userCurrent._id === user._id\n        ? true\n        : userCurrent.friends.includes(user._id)\n    );\n  }, [user, userCurrent]);\n\n  const time = useFormatTime(user);\n\n  const src = useMemo(() => displayAvatar(user), [user]);\n\n  return (\n    <>\n      {link ? (\n        <Link\n          to={`/profile/${user?._id}`}\n          style={{\n            width,\n            height,\n          }}\n          className={`avatarContainer ${className}`}\n        >\n          <img className=\"avatarImg\" src={src} alt=\"\" />\n\n          {status && isStatus ? (\n            isShowOffline ? (\n              time && <StatusActive isOnline={isOnline} time={time} />\n            ) : (\n              isOnline &&\n              time && <StatusActive isOnline={isOnline} time={time} />\n            )\n          ) : (\n            <></>\n          )}\n        </Link>\n      ) : (\n        <div\n          className={`avatarContainer ${className}`}\n          style={{\n            width,\n            height,\n          }}\n        >\n          <img className=\"avatarImg\" src={src} alt=\"\" />\n          {status && isStatus ? (\n            isShowOffline ? (\n              time && <StatusActive isOnline={isOnline} time={time} />\n            ) : (\n              isOnline &&\n              time && <StatusActive isOnline={isOnline} time={time} />\n            )\n          ) : (\n            <></>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Avatar;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport Avatar from \"../avatar/Avatar\";\nimport { format } from \"timeago.js\";\nimport { NO_AVATAR } from \"../../contants/imgContant\";\n\nconst CardFriend = ({ friend }) => {\n  const [isDisable, setIsDisable] = useState(false);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { socket } = useSelector((state) => state.network);\n  const { isVideo, roomCallId, conversationId } = useSelector(\n    (state) => state.call\n  );\n\n  const timeRemaining = useRef();\n\n  useEffect(() => {\n    if (!isDisable || timeRemaining.current) return;\n    const time = 5 * 60 * 1000;\n\n    const date = new Date();\n\n    timeRemaining.current = time + date.getTime();\n\n    const removeDisable = () => {\n      setIsDisable(false);\n      timeRemaining.current = \"\";\n    };\n    const timer = setTimeout(removeDisable, 1000);\n\n    return () => clearTimeout(timer);\n  }, [isDisable]);\n\n  const handleInviteFriend = (friendId) => {\n    if (isDisable) {\n      return toast.info(\n        `Already invited this friend ${format(\n          timeRemaining.current\n        )} later can invite again`,\n        { autoClose: 1000 }\n      );\n    }\n\n    if (!socket || !userCurrent) return;\n    socket.emit(\"createCall\", {\n      isVideo,\n      sender: {\n        profilePicture: userCurrent.profilePicture,\n        userName: userCurrent.userName,\n        _id: userCurrent?._id,\n      },\n      receiverId: friend?._id,\n      roomCallId,\n      isCreate: false,\n      conversationId,\n    });\n\n    setIsDisable(true);\n  };\n\n  return (\n    <>\n      <Avatar\n        width=\"60px\"\n        height=\"60px\"\n        user={friend}\n        link={false}\n        isShowOffline={false}\n      />\n      <p>{friend?.userName}</p>\n      <button\n        type=\"button\"\n        className=\"btn btn-info\"\n        onClick={handleInviteFriend}\n      >\n        {isDisable ? \"Invited\" : \"Invite\"}\n      </button>\n    </>\n  );\n};\n\nexport default CardFriend;\n","import React, { useMemo } from \"react\";\nimport Slider from \"react-slick\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport \"./index.scss\";\n\nconst Carousel = ({ children }) => {\n  const settings = useMemo(() => {\n    return {\n      // className: \"center\",\n      dots: true,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 3,\n      slidesToScroll: 1,\n      lazyLoad: true,\n      responsive: [\n        {\n          breakpoint: 1024,\n          settings: {\n            slidesToShow: 3,\n            slidesToScroll: 3,\n            infinite: true,\n            dots: true,\n          },\n        },\n        {\n          breakpoint: 600,\n          settings: {\n            slidesToShow: 2,\n            slidesToScroll: 2,\n            initialSlide: 2,\n          },\n        },\n        {\n          breakpoint: 480,\n          settings: {\n            slidesToShow: 1,\n            slidesToScroll: 1,\n          },\n        },\n      ],\n    };\n  }, []);\n\n  return <Slider {...settings}>{children}</Slider>;\n};\n\nexport default Carousel;\n","import React, { useEffect, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDataAPI } from \"../../api/fetchData\";\nimport { SET_FRIEND_INVITES } from \"../../redux/actions\";\nimport CardFriend from \"./CardFriend\";\nimport Carousel from \"../Carousel/Carousel\";\nimport \"./InviteFriend.scss\";\nimport Slider from \"react-slick\";\n\nconst InviteFriend = () => {\n  const { userCall, isAnswer, fristLoadFriends, friendInvites } = useSelector(\n    (state) => state.call\n  );\n\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n\n    const handleFetchFriends = async () => {\n      if (userCurrent && userCurrent._id) {\n        try {\n          const response = await getDataAPI(\n            `/user/get-friends/${userCurrent?._id}`\n          );\n\n          const { message, friends } = response;\n          // toast.success(message, { autoClose: 2000 });\n\n          let data = [...friends];\n\n          if (userCall) {\n            data = friends.filter((friend) => friend?._id !== userCall._id);\n          }\n\n          if (isMount) {\n            dispatch({\n              type: SET_FRIEND_INVITES,\n              payload: data,\n            });\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n    //isAnswer && fristLoadFriends\n    if (fristLoadFriends) {\n      handleFetchFriends();\n    }\n\n    return () => (isMount = false);\n  }, [userCurrent, isAnswer]);\n\n  const settings = useMemo(() => ({\n    dots: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 3,\n    slidesToScroll: 1,\n  }));\n\n  const body = (className) =>\n    friendInvites.map((friend) => (\n      <div key={friend?._id}>\n        <div className={\"friend_invite \" + className}>\n          <CardFriend friend={friend} />\n        </div>\n      </div>\n    ));\n\n  return (\n    <div className=\"invite\">\n      <p className=\"title\">Invite More People</p>\n\n      {friendInvites.length <= 3 ? (\n        <div className=\"invite_content\">{body(\"no-slider\")}</div>\n      ) : (\n        <Slider {...settings}>{body()}</Slider>\n      )}\n\n      {/* <Carousel>\n        {friendInvites.map((friend) => (\n          <div key={friend?._id}>\n            <div className=\"friend_invite\">\n            <CardFriend friend={friend} />\n            </div>\n          </div>\n        ))}\n      </Carousel> */}\n    </div>\n  );\n};\n\nexport default InviteFriend;\n","import { v4 as uuidv4 } from \"uuid\";\n\nexport const addClass = (nameClass, element) => {\n  const array = nameClass.split(\" \");\n\n  array.forEach((el) => {\n    element.classList.add(el);\n  });\n};\n\nexport const replaceClass = (class1, class2, el) => {\n  if (el.classList.contains(class1)) {\n    el.classList.replace(class1, class2);\n  } else {\n    el.classList.replace(class2, class1);\n  }\n};\n\nexport const openStream = (isVideo) => {\n  const config = {\n    video: isVideo,\n    audio: true,\n  };\n\n  return navigator.mediaDevices.getUserMedia(config);\n};\n\nexport const findStream = (streamId) => {\n  const listVideoContainer = Array.from(document.querySelectorAll(`.video`));\n\n  return listVideoContainer.find(\n    (el) => el.getAttribute(\"streamId\") === streamId\n  );\n};\n\nexport const addVideoStream = (stream, isYou = false) => {\n  if (!stream) return;\n\n  const divStream = findStream(stream.id);\n\n  if (divStream) return;\n\n  const divEl = document.createElement(\"div\");\n  const imgEl = document.createElement(\"img\");\n  imgEl.style.display = \"none\";\n  divEl.setAttribute(\"streamId\", stream?.id);\n  const iEl = document.createElement(\"i\");\n  addClass(\"fa-solid fa-thumbtack icon_video\", iEl);\n  divEl.classList.add(\"video\");\n\n  if (isYou) {\n    divEl.classList.add(\"you_video\");\n  }\n\n  const video = document.createElement(\"video\");\n  video.srcObject = stream;\n  video.addEventListener(\"loadedmetadata\", () => {\n    video.play();\n  });\n\n  iEl.onclick = (e) => {\n    const videoPinCurent = document.querySelector(\".video.pin\");\n\n    if (iEl.classList.contains(\"fa-thumbtack\")) {\n      if (videoPinCurent) {\n        videoPinCurent.classList.remove(\"pin\");\n        const iconVideoPin = videoPinCurent.querySelector(\".icon_video\");\n        replaceClass(\"fa-thumbtack\", \"fa-circle-xmark\", iconVideoPin);\n      }\n      divEl.classList.add(\"pin\");\n    } else {\n      divEl.classList.remove(\"pin\");\n    }\n    replaceClass(\"fa-thumbtack\", \"fa-circle-xmark\", e.target);\n  };\n\n  divEl.append(video);\n  divEl.append(imgEl);\n  divEl.append(iEl);\n\n  document.querySelector(\".video-joins\").append(divEl);\n};\n\nexport const playStream = (video, stream) => {\n  if (!video) return;\n  video.srcObject = stream;\n  video.play();\n  if (!video.uuid) {\n    video.uuid = uuidv4();\n  }\n};\n\nexport const handleUpdateUserCamera = (data) => {\n  const { img, streamId } = data;\n  const divEl = findStream(streamId);\n\n  if (divEl) {\n    const videoEl = divEl.querySelector(\"video\");\n    const imgEl = divEl.querySelector(\"img\");\n\n    if (videoEl && imgEl) {\n      if (img) {\n        videoEl.style.display = \"none\";\n        videoEl.pause();\n        imgEl.src = img;\n        imgEl.style.display = \"block\";\n      } else {\n        videoEl.style.display = \"block\";\n        videoEl.play();\n        imgEl.src = \"\";\n        imgEl.style.display = \"none\";\n      }\n    }\n  }\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./modalInviteCall.scss\";\nimport Avatar from \"../avatar/Avatar\";\nimport {\n  REFUSE_INVITE,\n  SET_IS_ANSWER,\n  SET_USER_STREAM,\n} from \"../../redux/actions\";\n\nimport { addVideoStream, openStream } from \"../../helpers/media\";\n\nconst ModalInviteCall = () => {\n  const { userSendCall } = useSelector((state) => state.call);\n  const [countTime, setCountTime] = useState(20);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { socket } = useSelector((state) => state.network);\n  const peer = useSelector((state) => state.peer);\n  const {\n    isAnswer,\n    roomCallId,\n    isVideo,\n    isCreate,\n    userStream,\n    conversationId,\n  } = useSelector((state) => state.call);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isAnswer) return;\n    if (!countTime) {\n      return handleRefuseInvite();\n    }\n\n    const handleCountTime = () => setCountTime((prev) => prev - 1);\n\n    const timer = setTimeout(handleCountTime, 1000);\n\n    return () => clearTimeout(timer, handleCountTime);\n  }, [countTime, isAnswer]);\n\n  const handleJoinCall = async () => {\n    dispatch({\n      type: SET_IS_ANSWER,\n      payload: true,\n    });\n\n    const stream = await openStream(isVideo);\n    dispatch({\n      type: SET_USER_STREAM,\n      payload: stream,\n    });\n    addVideoStream(stream, true);\n\n    if (!socket) return;\n\n    socket.emit(\"joinRoomCall\", {\n      userSendCall: userSendCall?._id,\n      userReceiveCall: userCurrent?._id,\n      roomCallId,\n      peerId: peer._id,\n      isCreate: false,\n      conversationId,\n      userName: userCurrent?.userName,\n      streamId: stream.id,\n    });\n  };\n\n  const handleRefuseInvite = () => {\n    dispatch({\n      type: REFUSE_INVITE,\n    });\n\n    socket?.emit(\"refuseInviteCall\", userCurrent?._id);\n  };\n\n  return (\n    <div className=\"modalInvite_content\">\n      <span className=\"close\" onClick={handleRefuseInvite}>\n        ×\n      </span>\n      <div className=\"info\">\n        <Avatar user={userSendCall} link={false} isStatus={false} />\n        <div className=\"noMes\">\n          {`${userSendCall?.userName} Invited you to join the call`}\n        </div>\n      </div>\n      <div className=\"buttons\">\n        <button\n          type=\"button\"\n          className=\"btn btn-danger\"\n          onClick={handleRefuseInvite}\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-primary\"\n          onClick={handleJoinCall}\n        >\n          {`Join ${countTime}`}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ModalInviteCall;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  END_CALL,\n  SET_IS_ANSWER,\n  SET_USER_STREAM,\n  SET_USER_STREAMs,\n} from \"../../redux/actions\";\nimport Avatar from \"../avatar/Avatar\";\nimport { addVideoStream, openStream } from \"../../helpers/media\";\n\nconst ModalCreateCall = () => {\n  const { socket } = useSelector((state) => state.network);\n\n  const {\n    isVideo,\n    userSendCall,\n    isSenderCall,\n    isAnswer,\n    roomCallId,\n    conversationId,\n  } = useSelector((state) => state.call);\n  const peer = useSelector((state) => state.peer);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const dispatch = useDispatch();\n\n  const refuseCall = () => {\n    socket.emit(\"userRefuseCall\", {\n      userRefuseId: userCurrent?._id,\n      receiverId: userSendCall?._id,\n      isCreate: true,\n    });\n\n    dispatch({\n      type: END_CALL,\n    });\n  };\n\n  const handleAnswer = async () => {\n    dispatch({\n      type: SET_IS_ANSWER,\n      payload: true,\n    });\n\n    let stream;\n    try {\n      stream = await openStream(isVideo);\n\n      dispatch({\n        type: SET_USER_STREAM,\n        payload: stream,\n      });\n      addVideoStream(stream, true);\n      if (!socket) return;\n\n      socket.emit(\"joinRoomCall\", {\n        userSendCall: userSendCall?._id,\n        userReceiveCall: userCurrent?._id,\n        roomCallId,\n        peerId: peer._id,\n        isCreate: true,\n        conversationId,\n        isVideo,\n        userName: userCurrent?.userName,\n        streamId: stream.id,\n      });\n    } catch (err) {\n      console.log(\"err\", { err });\n    }\n  };\n\n  return (\n    <div className=\"call_box\">\n      <div className=\"text-center call_info\" style={{ padding: \"40px 0\" }}>\n        <Avatar\n          width=\"150px\"\n          height=\"150px\"\n          user={userSendCall}\n          link={false}\n          isStatus={false}\n        />\n        <h4>{userSendCall?.userName}</h4>\n      </div>\n\n      {!isAnswer && (\n        <div>\n          {isVideo ? (\n            <span>calling video...</span>\n          ) : (\n            <span>calling audio...</span>\n          )}\n\n          {/* <div className=\"timer\">\n            <small>{mins.toString().length < 2 ? \"0\" + mins : mins}</small>\n            <small>:</small>\n            <small>\n              {second.toString().length < 2 ? \"0\" + second : second}\n            </small>\n          </div> */}\n        </div>\n      )}\n\n      <div className=\"call_menu\">\n        <i\n          className=\"fa-solid fa-phone-slash text-danger\"\n          onClick={refuseCall}\n        ></i>\n\n        {!isSenderCall && !isAnswer && (\n          <i className=\"fa-solid fa-phone-flip\" onClick={handleAnswer}></i>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ModalCreateCall;\n","import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { NO_AVATAR, STORE_IMG } from \"../../contants/imgContant\";\nimport { END_CALL, SET_IS_ANSWER, SET_USER_STREAM } from \"../../redux/actions\";\n\nimport \"./modalCall.scss\";\nimport NavModalCall from \"./NavModalCall\";\nimport InviteFriend from \"./InviteFriend\";\nimport ModalInviteCall from \"../modalInviteCall/ModalInviteCall\";\nimport ModalCreateCall from \"../modalCreateCall/ModalCreateCall\";\nimport {\n  addVideoStream,\n  handleUpdateUserCamera,\n  openStream,\n  findStream,\n} from \"../../helpers/media\";\n\nconst CallModal = () => {\n  const [hours, setHours] = useState(0);\n  const [mins, setMins] = useState(0);\n  const [second, setSecond] = useState(0);\n  const [total, setTotal] = useState(0);\n\n  const [isMic, setIsMic] = useState(true);\n  const [isOpenVideo, setOpenVideo] = useState(true);\n\n  const {\n    isVideo,\n    userReciverCall,\n    isAnswer,\n    isCreate,\n    roomCallId,\n    isSenderCall,\n    userStream,\n    conversationId,\n  } = useSelector((state) => state.call);\n\n  const { socket } = useSelector((state) => state.network);\n  const peer = useSelector((state) => state.peer);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const dispatch = useDispatch();\n\n  // Set Time\n\n  useEffect(() => {\n    setSecond(total % 60);\n    setMins(parseInt(total / 60));\n    setHours(parseInt(total / 3600));\n  }, [total]);\n\n  useEffect(() => {\n    if (!peer || !userStream) return;\n\n    peer.on(\"call\", (call) => {\n      call.answer(userStream);\n      call.on(\"stream\", function (remoteStream) {\n        addVideoStream(remoteStream);\n      });\n    });\n\n    return () => peer.removeListener(\"call\");\n  }, [userStream, peer]);\n\n  useEffect(() => {\n    const timerId = setInterval(() => setTotal((prev) => prev + 1), 1000);\n\n    return () => {\n      setTotal(0);\n      clearInterval(timerId);\n    };\n  }, []);\n\n  useEffect(() => {\n    const handleSendStream = async (data) => {\n      const { peerId, userName } = data;\n\n      toast.info(`${userName} joined the call`, { autoClose: 1000 });\n\n      let stream;\n\n      if (!userStream) {\n        stream = await openStream(isVideo);\n        dispatch({\n          type: SET_USER_STREAM,\n          payload: stream,\n        });\n      } else {\n        stream = userStream;\n      }\n\n      const call = peer.call(peerId, stream);\n\n      if (!isAnswer) {\n        dispatch({\n          type: SET_IS_ANSWER,\n          payload: true,\n        });\n        addVideoStream(stream, true);\n      }\n\n      if (!call) return;\n\n      call.on(\"stream\", (remoteStream) => {\n        addVideoStream(remoteStream);\n      });\n    };\n\n    socket.on(\"user-joined-call\", handleSendStream);\n\n    return () => socket?.off(\"user-joined-call\", handleSendStream);\n  }, [socket, userStream, isAnswer]);\n\n  useEffect(() => {\n    const handleUserCallOut = (data) => {\n      const { streamId, userName } = data;\n\n      toast.info(`${userName} got off the call`, {\n        autoClose: 1000,\n      });\n\n      const divEl = findStream(streamId);\n\n      if (divEl) divEl.remove();\n    };\n\n    socket.on(\"user-call-out\", handleUserCallOut);\n\n    return () => socket?.off(\"user-call-out\", handleUserCallOut);\n  }, [socket]);\n\n  useEffect(() => {\n    if (!socket) return;\n\n    const handleNotify = (message, isClose) => {\n      toast.info(message, {\n        autoClose: 500,\n      });\n\n      if (isClose) {\n        dispatch({\n          type: END_CALL,\n        });\n      }\n    };\n\n    socket.on(\"callRefused\", () => {\n      handleNotify(`${userReciverCall?.userName} refuse the call`);\n    });\n\n    socket.on(\"userCallBusy\", (isClose) => {\n      handleNotify(`${userReciverCall.userName} is on another call!`, isClose);\n    });\n\n    return () => {\n      socket?.off(\"userCallBusy\");\n      socket?.off(\"callRefused\");\n    };\n  }, [socket, userReciverCall]);\n\n  useEffect(() => {\n    if (!socket) return;\n\n    socket.on(\"update-user-camera\", handleUpdateUserCamera);\n\n    return () => socket?.off(\"update-user-camera\", handleUpdateUserCamera);\n  }, [socket]);\n\n  useEffect(() => {\n    if (isAnswer) {\n      setTotal(0);\n    } else {\n\n      const timerId = setTimeout(() => {\n        if (isSenderCall) {\n          socket?.emit(\"userCallNoReaction\", {\n            userCallId: userReciverCall._id,\n            userSendCallId: userCurrent._id,\n            conversationId,\n            isVideo,\n          });\n        }\n\n        dispatch({\n          type: END_CALL,\n        });\n      }, 10000);\n\n      return () => clearTimeout(timerId);\n    }\n  }, [isAnswer]);\n\n  const endCall = () => {\n    const streamId = userStream.id;\n\n    const tracks = userStream?.getTracks();\n    tracks.forEach((track) => track.stop());\n\n    dispatch({\n      type: END_CALL,\n    });\n    socket?.emit(\"end-call\", {\n      userOutCallId: userCurrent?._id,\n      streamId,\n    });\n  };\n\n  const toogleStream = (type) => {\n    if (!userStream) return;\n\n    const track = userStream.getTracks().find((track) => track.kind === type);\n\n    if (!track) return;\n\n    let data = {};\n\n    if (track.enabled) {\n      if (type === \"video\") {\n        data.img = userCurrent?.profilePicture.length\n          ? userCurrent?.profilePicture[0]\n          : NO_AVATAR;\n      }\n\n      track.enabled = false;\n    } else {\n      track.enabled = true;\n    }\n\n    if (type === \"video\") {\n      data.streamId = userStream?.id;\n      data.roomCallId = roomCallId;\n\n      socket.emit(\"user-turn-off-video\", {\n        ...data,\n      });\n      handleUpdateUserCamera(data);\n    }\n  };\n\n  return (\n    <div className=\"call_modal\">\n      <div\n        className=\"modal_container\"\n        style={{\n          display: isAnswer ? \"none\" : \"flex\",\n        }}\n      >\n        {!isAnswer && (isCreate ? <ModalCreateCall /> : <ModalInviteCall />)}\n      </div>\n      <div\n        className=\"header\"\n        style={{\n          display: `${isAnswer ? \"block\" : \"none\"}`,\n        }}\n      >\n        <NavModalCall />\n\n        <div className=\"container\">\n          <div className=\"top-icons\">\n            <img src={STORE_IMG + \"search.png\"} alt=\"\" />\n            <img src={STORE_IMG + \"menu.png\"} alt=\"\" />\n          </div>\n          <div className=\"video_layout\">\n            <div className=\"content_left\">\n              <div className=\"pin_video border_center\"></div>\n              <div className=\"time_video\">\n                <span>{hours.toString().length < 2 ? \"0\" + hours : hours}</span>\n                <span>:</span>\n                <span>{mins.toString().length < 2 ? \"0\" + mins : mins}</span>\n                <span>:</span>\n                <span>\n                  {second.toString().length < 2 ? \"0\" + second : second}\n                </span>\n              </div>\n              <div className=\"controls\">\n                <div className=\"icon-control\">\n                  <img src={STORE_IMG + \"chat.png\"} alt=\"\" />\n                </div>\n\n                <div\n                  className=\"icon-control\"\n                  onClick={() => {\n                    toogleStream(\"video\");\n                    setOpenVideo((prev) => !prev);\n                  }}\n                >\n                  {isOpenVideo ? (\n                    <i className=\"fa-solid fa-video-slash\"></i>\n                  ) : (\n                    <i className=\"fa-solid fa-video\"></i>\n                  )}\n                </div>\n                <div className=\"icon-control\">\n                  <img\n                    src={STORE_IMG + \"call.png\"}\n                    alt=\"\"\n                    className=\"call-icon\"\n                    onClick={endCall}\n                  />\n                </div>\n                <div\n                  className=\"icon-mic icon-control\"\n                  onClick={() => {\n                    toogleStream(\"audio\");\n                    setIsMic((prev) => !prev);\n                  }}\n                >\n                  {isMic ? (\n                    <img src={STORE_IMG + \"mic.png\"} alt=\"\" />\n                  ) : (\n                    <i className=\"fa-solid fa-microphone-slash\"></i>\n                  )}\n                </div>\n                <div className=\"icon-control\">\n                  <img src={STORE_IMG + \"cast.png\"} alt=\"\" />\n                </div>\n              </div>\n            </div>\n            <div className=\"content_right\">\n              <div className=\"joined\">\n                <p>People Joined</p>\n                <div className=\"video-joins\"></div>\n              </div>\n              <InviteFriend />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CallModal;\n","import { LOGIN_START, LOGIN_SUCCESS, LOGIN_FAILED } from \"../redux/actions\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from \"../contants\";\n\naxios.defaults.baseURL = \"http://localhost:8080/v1/api\";\n\nexport const login = (userInfo, navigate) => async (dispatch) => {\n    dispatch({\n        type: LOGIN_START,\n    });\n    try {\n        const response = await axios.post(\"/auth/login\", userInfo);\n        const { user, message, accessToken, refreshToken } = response.data;\n\n        toast.success(message, { autoClose: 500 });\n\n        dispatch({\n            type: LOGIN_SUCCESS,\n            payload: user,\n        });\n\n        localStorage.setItem(ACCESS_TOKEN, JSON.stringify(accessToken));\n        localStorage.setItem(REFRESH_TOKEN, JSON.stringify(refreshToken));\n\n        navigate(\"/\");\n    } catch (err) {\n        const message = err.message || err?.response?.data?.message;\n        toast.error(message, { autoClose: 2000 });\n\n        dispatch({\n            type: LOGIN_FAILED,\n            payload: err,\n        });\n    }\n};\n\nexport const register = async (userInfo, navigate) => {\n    try {\n        const response = await axios.post(\"/auth/register\", userInfo);\n        navigate(\"/login\");\n    } catch (err) {\n        const message = err.message || err?.response?.data?.message;\n        toast.error(message, { autoClose: 2000 });\n    }\n};\n","export const debounce = (callback, delay, ...rest) => {\n  if (!delay) delay = 1000;\n  let timerId;\n\n  return () => {\n    if (timerId) {\n      clearTimeout(timerId);\n      timerId = null;\n    }\n\n    timerId = setTimeout(() => {\n      callback(...rest);\n    }, delay);\n  };\n};\n","import React, { useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { deleteDataAPI, postDataAPI, putDataAPI } from \"../../api/fetchData\";\nimport { REMOVE_FRIEND_REQUEST } from \"../../redux/actions\";\n\nconst ButtonActionsFriendRequest = ({ friendRequest, user }) => {\n  const { type } = useSelector((state) => state.friendRequest);\n  const { socket } = useSelector((state) => state.network);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const status = useMemo(() => friendRequest.status, [friendRequest]);\n\n  const dispatch = useDispatch();\n\n  const acceptFriendRequest = async () => {\n    try {\n      if (friendRequest) {\n        const response = await putDataAPI(\n          `/friend-request/accept-friend-request`,\n          {\n            friendId: user?._id,\n            friendRequestId: friendRequest?._id,\n          }\n        );\n\n        const { message } = response;\n\n        toast.success(message, { autoClose: 1000 });\n\n        dispatch({\n          type: REMOVE_FRIEND_REQUEST,\n          payload: friendRequest?._id,\n        });\n\n        const responseCreateNotification = await postDataAPI(\"/notification\", {\n          link: \"\",\n          userId: user?._id,\n          text: userCurrent?.userName + \" has accepted your friend request\",\n        });\n\n        const { notification } = responseCreateNotification;\n\n        // socket?.emit(\"acceptFriendRequest\", {\n        //   friendId: user?._id,\n        //   userId: userCurrent?._id,\n        // });\n      } else {\n        toast.error(\"An error occurred while making this request!!!\", {\n          autoClose: 1000,\n        });\n      }\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const refuseFriendRequest = async () => {\n    try {\n      if (friendRequest) {\n        const response = await putDataAPI(`/friend-request/refuse-request`, {\n          friendRequestId: friendRequest?._id,\n        });\n\n        dispatch({\n          type: REMOVE_FRIEND_REQUEST,\n          payload: friendRequest?._id,\n        });\n\n        const { message } = response;\n\n        toast.success(message, { autoClose: 1000 });\n\n        // socket?.emit(\"changeFriendRequest\", {\n        //   friendId: user?._id,\n        //   status: \"\",\n        // });\n      } else {\n        toast.error(\"An error occurred while making this request!!!\", {\n          autoClose: 1000,\n        });\n      }\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const deleteFriendRequest = async () => {\n    try {\n      if (friendRequest) {\n        const response = await deleteDataAPI(\n          `/friend-request/${friendRequest?._id}`\n        );\n\n        dispatch({\n          type: REMOVE_FRIEND_REQUEST,\n          payload: friendRequest?._id,\n        });\n\n        const { message } = response;\n\n        toast.success(message, { autoClose: 1000 });\n\n        // socket?.emit(\"changeFriendRequest\", {\n        //   friendId: user?._id,\n        //   status: \"\",\n        // });\n      } else {\n        toast.error(\"An error occurred while making this request!!!\", {\n          autoClose: 1000,\n        });\n      }\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const sendToFriendRequest = async () => {\n    try {\n      if (friendRequest) {\n        const response = await putDataAPI(`/friend-request`, {\n          friendRequestId: friendRequest?._id,\n          status: 1,\n        });\n\n        dispatch({\n          type: REMOVE_FRIEND_REQUEST,\n          payload: friendRequest?._id,\n        });\n\n        const { message } = response;\n\n        toast.success(message, { autoClose: 1000 });\n\n        const responseCreateNotification = await postDataAPI(\"/notification\", {\n          link: \"\",\n          userId: user?._id,\n          text: userCurrent?.userName + \" sent a friend request\",\n        });\n\n        const { notification } = responseCreateNotification;\n\n        socket?.emit(\"createNotification\", { notification });\n      } else {\n        toast.error(\"An error occurred while making this request!!!\", {\n          autoClose: 1000,\n        });\n        throw new Error(\"Friend Request not Exit\");\n      }\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <div className=\"button-actions\">\n      {type === \"received\" ? (\n        <>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary\"\n            onClick={acceptFriendRequest}\n          >\n            Accept\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn btn-secondary\"\n            onClick={refuseFriendRequest}\n          >\n            Refusse\n          </button>\n        </>\n      ) : (\n        <>\n          {status === 1 ? (\n            <>\n              <button\n                type=\"button\"\n                className=\"btn btn-warning\"\n                onClick={deleteFriendRequest}\n              >\n                Cancel invitation\n              </button>\n            </>\n          ) : (\n            <>\n              <button\n                type=\"button\"\n                className=\"btn btn-light\"\n                onClick={sendToFriendRequest}\n              >\n                Send to\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-danger\"\n                onClick={deleteFriendRequest}\n              >\n                Remove\n              </button>\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ButtonActionsFriendRequest;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { getDataAPI } from \"../../api/fetchData\";\nimport Avatar from \"../avatar/Avatar\";\nimport ButtonActionsFriendRequest from \"./ButtonActionsFriendRequest\";\n\nconst FriendRequest = ({ friendRequest }) => {\n  const [user, setUser] = useState();\n\n  const { type } = useSelector((state) => state.friendRequest);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const handleGetUser = async () => {\n      try {\n        const id =\n          type === \"received\"\n            ? friendRequest?.senderId\n            : friendRequest?.receiverId;\n        if (!id) {\n          toast.error(\"id user not found\", { autoClose: 1000 });\n          throw new Error(\"id user not found\");\n        }\n        const response = await getDataAPI(`/user?userId=${id}`);\n\n        const { message, user } = response;\n\n        if (isMount) setUser(user);\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    };\n\n    handleGetUser();\n\n    return () => (isMount = false);\n  }, []);\n\n  return (\n    <>\n      {user && (\n        <>\n          <div className=\"info\">\n            <Avatar height=\"60px\" width=\"60px\" user={user} />\n            <span>{user?.userName}</span>\n          </div>\n          <ButtonActionsFriendRequest\n            user={user}\n            friendRequest={friendRequest}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default FriendRequest;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FriendRequest from \"./FriendRequest\";\nimport { getDataAPI } from \"../../api/fetchData\";\nimport { SET_LIST_FRIEND_REQUEST } from \"../../redux/actions\";\n\nconst DisplayFriendRequest = () => {\n  const { type, listFriendRequest } = useSelector(\n    (state) => state.friendRequest\n  );\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n\n    const getFriendRequest = async () => {\n      if (type) {\n        try {\n          const response = await getDataAPI(\n            `/friend-request/get-all-requests-${type}`\n          );\n\n          const { message, friendRequests } = response;\n\n          // toast.success(message, { autoClose: 2000 });\n          if (isMount) {\n            dispatch({\n              type: SET_LIST_FRIEND_REQUEST,\n              payload: friendRequests,\n            });\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n    getFriendRequest();\n\n    return () => (isMount = false);\n  }, [type]);\n\n  return (\n    <>\n      {listFriendRequest &&\n        listFriendRequest.map((friendRequest) => (\n          <div className=\"friendRequest\" key={friendRequest?._id}>\n            <FriendRequest friendRequest={friendRequest} />\n          </div>\n        ))}\n    </>\n  );\n};\n\nexport default DisplayFriendRequest;\n","import React from \"react\";\nimport \"./boxFriendRequests.scss\";\nimport DisplayFriendRequest from \"../friendRequest/DisplayFriendRequest\";\nimport { SET_TYPE } from \"../../redux/actions\";\nimport { useDispatch } from \"react-redux\";\n\nconst BoxFriendRequests = () => {\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"boxFriendRequest nav-item dropdown\">\n      <h3 className=\"title\">Options</h3>\n      <div className=\"button-options\">\n        <button\n          type=\"button\"\n          className=\"btn btn-success\"\n          onClick={() =>\n            dispatch({\n              type: SET_TYPE,\n              payload: \"received\",\n            })\n          }\n        >\n          Friend request received\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-dark\"\n          onClick={() =>\n            dispatch({\n              type: SET_TYPE,\n              payload: \"sent\",\n            })\n          }\n        >\n          Friend request sent\n        </button>\n      </div>\n      <DisplayFriendRequest />\n      <div className=\"friendRequest\"></div>\n    </div>\n  );\n};\n\nexport default BoxFriendRequests;\n","import { useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Avatar from \"../avatar/Avatar\";\nimport { getDataAPI } from \"../../api/fetchData\";\nimport { NO_AVATAR } from \"../../contants/imgContant\";\nimport { UPDATE_CONVERSATION } from \"../../redux/actions\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default function Conversation({ conversation }) {\n  const {\n    _id: id,\n    reads,\n    members,\n    isMultiple,\n    name,\n    image,\n    listMembers,\n    images,\n    nameConversation,\n  } = conversation;\n  const [message, setMessage] = useState(\"\");\n  const [isRead, setIsRead] = useState(true);\n  const [lastMessage, setLastMessage] = useState(\n    () => conversation.lastMessage || \"\"\n  );\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { lastMessageConversation, statusConversations } = useSelector(\n    (state) => state.chat\n  );\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n    if (!conversation) return;\n\n    const handeGetInfoMembers = async () => {\n      const listMemberIds = members.filter(\n        (memberId) => memberId !== userCurrent?._id\n      );\n\n      const responses = await Promise.all(\n        listMemberIds.map((memberId) => getDataAPI(`/user?userId=${memberId}`))\n      );\n\n      const listMembers = responses.map((response) => {\n        const { user } = response;\n        return user;\n      });\n\n      if (isMount) {\n        dispatch({\n          type: UPDATE_CONVERSATION,\n          payload: {\n            conversationId: conversation?._id,\n            listMembers,\n          },\n        });\n      }\n    };\n\n    if (!listMembers) {\n      handeGetInfoMembers();\n    }\n\n    return () => (isMount = false);\n  }, [conversation, listMembers]);\n\n  useEffect(() => {\n    let isMount = true;\n    if (!conversation || !userCurrent) return;\n\n    const handleSetImgConversation = async () => {\n      if (isMultiple) {\n        //get img conversation\n        if (image.length) {\n          if (isMount)\n            dispatch({\n              type: UPDATE_CONVERSATION,\n              payload: {\n                conversationId: conversation?._id,\n                images: [\n                  {\n                    src: image[0],\n                    key: uuidv4(),\n                  },\n                ],\n              },\n            });\n        }\n      }\n    };\n\n    if (!images) handleSetImgConversation();\n\n    return () => (isMount = false);\n  }, [conversation, userCurrent, images]);\n\n  useEffect(() => {\n    if (!conversation || !userCurrent || nameConversation) return;\n\n    if (isMultiple) {\n      dispatch({\n        type: UPDATE_CONVERSATION,\n        payload: {\n          conversationId: conversation?._id,\n          nameConversation: name,\n        },\n      });\n    } else {\n      if (!listMembers) return;\n      const { userName } = listMembers[0];\n      dispatch({\n        type: UPDATE_CONVERSATION,\n        payload: {\n          conversationId: conversation?._id,\n          nameConversation: userName,\n        },\n      });\n    }\n  }, [conversation, userCurrent, nameConversation, listMembers, name]);\n\n  useEffect(() => {\n    if (!reads || !userCurrent) return;\n\n    setIsRead(() => reads.includes(userCurrent._id));\n  }, [reads, userCurrent]);\n\n  useEffect(() => {\n    if (\n      !lastMessageConversation ||\n      lastMessageConversation?.conversationId !== id\n    )\n      return;\n\n    setLastMessage(lastMessageConversation);\n  }, [lastMessageConversation]);\n\n  useEffect(() => {\n    if (!listMembers || !userCurrent || (images && images.length > 0)) return;\n\n    let listImages = [];\n\n    if (isMultiple) {\n      const ids = [];\n      const length = members.length;\n      for (let i = 0; i < 2; ++i) {\n        let check;\n        do {\n          const idxRamdom = Math.floor(Math.random() * length);\n          if (!ids.includes(members[idxRamdom])) {\n            ids.push(members[idxRamdom]);\n            check = true;\n          }\n        } while (!check);\n      }\n\n      listImages = ids.map((id) => {\n        let img;\n\n        if (id === userCurrent?._id) {\n          img = userCurrent.profilePicture;\n        } else {\n          img = listMembers.find((member) => member?._id === id).profilePicture;\n        }\n\n        return {\n          src: img && img.length ? img[0] : NO_AVATAR,\n          key: uuidv4(),\n        };\n      });\n    } else {\n      const { profilePicture } = listMembers[0];\n\n      listImages.push({\n        src: profilePicture.length ? profilePicture[0] : NO_AVATAR,\n        key: uuidv4(),\n      });\n    }\n\n    dispatch({\n      type: UPDATE_CONVERSATION,\n      payload: {\n        conversationId: conversation?._id,\n        images: listImages,\n      },\n    });\n  }, [listMembers, members, images, userCurrent]);\n\n  useEffect(() => {\n    if (!lastMessage || !listMembers || !userCurrent) return;\n    const { isNotify, senderId, notify, text } = lastMessage;\n\n    // if (isNotify) {\n    //   let message;\n    //   if (senderId) {\n    //     const { userName } = friendContact;\n\n    //     message =\n    //       userCurrent?._id === senderId\n    //         ? `${userName} missed your call`\n    //         : `You missed the call with ${userName}`;\n    //   } else {\n    //     message = notify[0];\n    //   }\n    //   return setMessage(message);\n    // }\n\n    let data;\n\n    if (senderId === userCurrent?._id) {\n      data = \"You\";\n    } else {\n      const sender = listMembers.find((member) => member?._id === senderId);\n      data = handleGetName(sender?.userName);\n    }\n\n    setMessage(data + \": \" + text);\n  }, [lastMessage, listMembers]);\n\n  const handleGetName = (name) => {\n    const data = name.split(\" \");\n    const length = data.length;\n\n    if (!data || !length) {\n      return name?.userName || \"\";\n    }\n\n    return data[length - 1];\n  };\n\n  return (\n    <>\n      <div className=\"pic banner\">\n        {/* <Avatar user={friendContact} width=\"64px\" height=\"64px\" link={false} /> */}\n\n        {images &&\n          (images.length === 1 ? (\n            <img className=\"one-img\" src={images[0].src} alt=\"\" />\n          ) : (\n            <div className=\"multiple-img\">\n              {images.map((img) => (\n                <img src={img.src} key={img.key} />\n              ))}\n            </div>\n          ))}\n      </div>\n\n      <div className={`name ${!isRead ? \"unread\" : \"\"}`}>\n        {nameConversation}\n      </div>\n      <div className={`message ${!isRead ? \"unread\" : \"\"}`}>\n        {lastMessage?.[0] === \"notify\" ? lastMessage?.[1] : message}\n      </div>\n      {!isRead && <div className=\"NotificationCircle\"></div>}\n    </>\n  );\n}\n","import React from \"react\";\n\nconst Typing = () => {\n  return (\n    <>\n      <div className=\"message stark\">\n        <div className=\"typing typing-1\"></div>\n        <div className=\"typing typing-2\"></div>\n        <div className=\"typing typing-3\"></div>\n      </div>\n    </>\n  );\n};\n\nexport default Typing;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst DisplayMessageContent = ({ message }) => {\n  const [user, setUser] = useState();\n\n  const {\n    conversationChat: { listMembers },\n  } = useSelector((state) => state.chat);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    if (!message || !listMembers) return;\n\n    let userSend;\n    if (message.senderId === userCurrent?._id) userSend = { ...userCurrent };\n    else {\n      userSend = listMembers.find((member) => member?._id === message.senderId);\n    }\n\n    setUser({\n      profilePicture: userSend.profilePicture,\n      userName: userSend.userName,\n    });\n  }, [message, listMembers, userCurrent]);\n\n  return (\n    <>\n      {message?.isNotify ? (\n        message?.senderId ? (\n          <div\n            className={`message ${\n              message.senderId === userCurrent?._id ? \"user\" : \"friend\"\n            }`}\n          >\n            {message.senderId === userCurrent?._id\n              ? message?.notify[0]\n              : message?.notify[1]}\n          </div>\n        ) : (\n          <div className={`message notify`}>{message.notify[0]}</div>\n        )\n      ) : (\n        message?.text && (\n          <div\n            className={`message ${\n              message.senderId === userCurrent?._id ? \"user\" : \"friend\"\n            }`}\n          >\n            {message.text}\n          </div>\n        )\n      )}\n    </>\n  );\n};\n\nexport default DisplayMessageContent;\n","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { deleteDataAPI } from \"../../api/fetchData\";\nimport { UPDATE_LAST_MESSAGE } from \"../../redux/actions\";\nimport DisplayMessageContent from \"./DisplayMessageContent\";\n\nconst DisplayMessage = ({ updateConversation, messages, setMessages }) => {\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { conversationChat } = useSelector((state) => state.chat);\n\n  const { socket } = useSelector((state) => state.network);\n\n  const dispatch = useDispatch();\n\n  const messageRef = useRef();\n\n  useEffect(() => {\n    if (messageRef.current) {\n      messageRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"end\",\n        inline: \"nearest\",\n      });\n    }\n  }, [messages]);\n\n  const removeMessage = async (message) => {\n    const lastMessage = messages[messages.length - 1];\n\n    try {\n      const response = await deleteDataAPI(`/message/${message?._id}`);\n\n      let newLastMessage = null;\n\n      if (lastMessage?._id === message?._id) {\n        newLastMessage = {\n          conversationId: message.conversationId,\n          senderId: userCurrent?._id,\n          message: \" has withdrawn the message\",\n        };\n\n        updateConversation({\n          conversationId: message?.conversationId,\n          lastMessage: [userCurrent?._id, \" has withdrawn the message\"],\n        });\n\n        dispatch({\n          type: UPDATE_LAST_MESSAGE,\n          payload: newLastMessage,\n        });\n      }\n\n      const { newMessage } = response;\n\n      // toast.success(message, { autoClose: 2000 });\n\n      setMessages((prev) =>\n        prev.map((item) => (item._id == newMessage?._id ? newMessage : item))\n      );\n\n      socket.emit(\"removeMessage\", {\n        newMessage,\n        receverId: conversationChat.members.find(\n          (memberId) => memberId !== userCurrent?._id\n        ),\n        lastMessage: newLastMessage,\n      });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <>\n      {messages.map((message) => (\n        <div className={`messageContent`} key={message?._id} ref={messageRef}>\n          <DisplayMessageContent message={message} />\n\n          {!message?.notify && (\n            <div\n              className={`imgsContainer ${!message?.text && \"add-space\"} ${\n                message.senderId === userCurrent?._id ? \"user\" : \"friend\"\n              }`}\n            >\n              <div className={`imgs `}>\n                {message.images.map((img) => (\n                  <div className=\"img\" key={img.public_id}>\n                    <img src={img.url} />\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div\n            className={`time ${\n              (message?.notify && \"notify\") ||\n              (message.senderId === userCurrent?._id && \"user\")\n            }`}\n          >\n            {moment(message?.createdAt).format(\"HH:mm\")}\n          </div>\n\n          {!message.isDeleted && message.senderId === userCurrent?._id && (\n            <span className=\"CrudMessage\">\n              <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAFBJREFUSEtjZKAxYKSx+Qwjy4L/aMFJlO+JUgQ1eNQC2iRYUuKALBeQYsFoJBMMYpoHEUEXYFNASiTT3AKaB9GoBWTFIUFNgyoVEXTtgOQDAEM9DBleh0KcAAAAAElFTkSuQmCC\" />\n\n              <div className=\"buttonActions\">\n                <button type={\"button\"} onClick={() => removeMessage(message)}>\n                  Remove\n                </button>\n              </div>\n            </span>\n          )}\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default DisplayMessage;\n","import { Cancel } from \"@material-ui/icons\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { REMOVE_FILE } from \"../../redux/actions\";\n\nconst DisplayImageMessage = () => {\n  const { files } = useSelector((state) => state.message);\n\n  const dispatch = useDispatch();\n\n  return (\n    <div\n      className=\"display-image-message\"\n      style={{\n        padding: `${files.length && \"10px\"}`,\n      }}\n    >\n      {files.map((file) => (\n        <div className=\"imgMessage\" key={file.uuid}>\n          <img src={URL.createObjectURL(file)} />\n          <span\n            className=\"imgCancel\"\n            onClick={() =>\n              dispatch({\n                type: REMOVE_FILE,\n                payload: file.uuid,\n              })\n            }\n          >\n            <Cancel />\n          </span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default DisplayImageMessage;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { SET_FILES } from \"../../redux/actions\";\nimport DisplayImageMessage from \"./DisplayImageMessage\";\n\nconst CreateMessage = ({ createNewMessage }) => {\n  const [isTyping, setIsTyping] = useState(false);\n\n  const messageRef = useRef();\n\n  const { files } = useSelector((state) => state.message);\n  const { conversationChat } = useSelector((state) => state.chat);\n\n  const { socket } = useSelector((state) => state.network);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isTyping) return;\n\n    socket?.emit(\"typing\", {\n      receiverId: conversationChat?.friend?._id,\n      conversationId: conversationChat?._id,\n    });\n  }, [isTyping]);\n\n  const handleSubmit = () => {\n    createNewMessage(messageRef.current.value);\n    messageRef.current.value = \"\";\n    messageRef.current.focus();\n  };\n\n  return (\n    <form\n      className={`input ${!conversationChat && \"disable\"} ${\n        files.length && \"files\"\n      }`}\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n      }}\n    >\n      <label htmlFor={conversationChat?._id} className=\"icon-camera\">\n        <i className=\"fas fa-camera\"></i>\n      </label>\n      <input\n        style={{ display: \" none\" }}\n        type={\"file\"}\n        id={conversationChat?._id}\n        accept=\".png,.jpeg,.jpg\"\n        multiple\n        onChange={(e) => {\n          const data = Array.from(e.target.files);\n\n          dispatch({\n            type: SET_FILES,\n            payload: [\n              ...data.map((file) => {\n                file.uuid = uuidv4();\n                return file;\n              }),\n              ...files,\n            ],\n          });\n        }}\n      />\n\n      <i className=\"far fa-laugh-beam\"></i>\n\n      <div className=\"inputContainer\">\n        <DisplayImageMessage />\n        <div className=\"inputCreate\">\n          <input\n            ref={messageRef}\n            placeholder=\"Aa\"\n            type=\"text\"\n            onChange={() => setIsTyping(true)}\n            onBlur={() => setIsTyping(false)}\n          />\n          <img\n            src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAARpJREFUSEu9lIERwUAQRX8qoBNUQgeUoAQqQAd0QAdUgA7ogA7MyyyTObncJhE7kzFD/Hd/999m6riyjvX1d8BFUk/SQtLuF+5CBw8DoH2TtJW0kcT3jSoE7CWNAyXE101BIWAuaRU5KiAOsDR3LkchYCjp7PgnrXOBylJUnEOKhSNmdIy9WAbAxcweEuUpADj6AqXuwcRA4eBjUGJOID4RTwHeQv2Cq4HDEqAR79UBTA1CC1N1lZS/lwLQIoT59BTCtIiU5RUb8vu0tMZTJ1svriHXienBTuyOqfeikRIWIvuqsuqsiqetCpdwbAZlyw5hBsdTe6tWreu7paGRcMwBF4Tk0IZP1FJ9rvo9dQ/aaEfvQWvRokDnDl64CTgZWvgaSwAAAABJRU5ErkJggg==\"\n            onClick={handleSubmit}\n          />\n        </div>\n      </div>\n      <i className=\"fas fa-microphone\"></i>\n    </form>\n  );\n};\n\nexport default CreateMessage;\n","import React, { useEffect, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { SET_CALL, SET_USER_STREAM } from \"../../redux/actions\";\nimport ModalCall from \"../../components/modalCall/ModalCall\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { getDataAPI } from \"../../api/fetchData\";\nimport { addVideoStream, openStream } from \"../../helpers/media\";\n\nconst Call = () => {\n  const dispatch = useDispatch();\n\n  const { friendChat } = useSelector((state) => state.chat);\n  const {\n    conversationChat: { _id },\n  } = useSelector((state) => state.chat);\n  const { socket } = useSelector((state) => state.network);\n  const peer = useSelector((state) => state.peer);\n  const { userCurrent } = useSelector((state) => state.auth);\n  const {\n    userStream,\n    isCall,\n    isVideo,\n    userReciverCall,\n    roomCallId,\n    isAnswer,\n    conversationId,\n  } = useSelector((state) => state.call);\n\n  const call = async (isVideo) => {\n    try {\n      const response = await getDataAPI(`/room-chat?conversationId=${_id}`);\n\n      const { roomCall } = response;\n\n      const stream = await openStream(isVideo);\n      dispatch({\n        type: SET_USER_STREAM,\n        payload: stream,\n      });\n\n      if (roomCall) {\n        const { conversationId, isVideo, roomCallId } = roomCall;\n\n        dispatch({\n          type: SET_CALL,\n          payload: {\n            isVideo,\n            isAnswer: true,\n            isCall: true,\n            isCreate: false,\n            conversationId: conversationId,\n          },\n        });\n\n        addVideoStream(stream, true);\n\n        if (!socket) return;\n\n        socket.emit(\"joinRoomCall\", {\n          roomCallId,\n          peerId: peer._id,\n          isCreate: false,\n          conversationId,\n          isVideo,\n          isNext: true,\n          userJoinCallId: userCurrent?._id,\n          userName: userCurrent?.userName,\n          streamId: stream.id,\n        });\n      } else {\n\n        dispatch({\n          type: SET_CALL,\n          payload: {\n            isVideo,\n            userSenderCall: null,\n            userReciverCall: friendChat,\n            isSenderCall: true,\n            roomCallId: uuidv4(),\n            isCall: true,\n            isCreate: true,\n            conversationId: _id,\n          },\n        });\n      }\n    } catch (err) {\n      console.log(\"err\", { err });\n    }\n  };\n\n  useEffect(() => {\n    if (!socket || !userCurrent || !isCall || !userStream) return;\n    if (!isAnswer) {\n      socket?.emit(\"createCall\", {\n        isVideo,\n        sender: {\n          profilePicture: userCurrent.profilePicture,\n          userName: userCurrent.userName,\n          _id: userCurrent?._id,\n        },\n        conversationId,\n        receiverId: userReciverCall?._id,\n        roomCallId,\n        isCreate: true,\n        streamId: userStream.id,\n      });\n    }\n  }, [socket, userCurrent, isCall, userStream, isAnswer]);\n\n  return (\n    <>\n      <div className=\"icon-call\">\n        <i className=\"fa-solid fa-phone\" onClick={() => call(false)}></i>\n        <i className=\"fa-solid fa-video\" onClick={() => call(true)}></i>\n      </div>\n    </>\n  );\n};\n\nexport default Call;\n","export const checkExit = (array, value) => array.includes(value);\n\nexport const addElment = (array, value, callback, isFrist = true) => {\n  const isExit =\n    (callback && callback(array, value)) || checkExit(array, value);\n\n  if (isExit) return array;\n  return isFrist ? [...array, value] : [...array, value];\n};\n","import { getDataAPI, postDataAPI } from \"../../api/fetchData\";\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport Typing from \"./Typing\";\nimport DisplayMessage from \"./DisplayMessage\";\nimport CreateMessage from \"./CreateMessage\";\nimport Call from \"./Call\";\n\nimport {\n  SET_FILES,\n  UPDATE_LAST_MESSAGE,\n} from \"../../redux/actions\";\n\n\nimport { imageUpload } from \"../../helpers/image\";\nimport { addElment } from \"../../helpers\";\n\nconst ChatRoom = () => {\n  const [messages, setMessages] = useState([]);\n  const [hasTyping, setHasTyping] = useState(false);\n\n  const { conversationChat } = useSelector((state) => state.chat);\n\n  const { socket } = useSelector((state) => state.network);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { files } = useSelector((state) => state.message);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n\n    if (!socket) return;\n\n    const handleSetTyping = (conversationId) => {\n      if (conversationChat?._id !== conversationId) return;\n      if (isMount) setHasTyping(true);\n    };\n\n    const updateListMessage = ({ newMessage, lastMessage }) => {\n      if (lastMessage) {\n        dispatch({\n          type: UPDATE_LAST_MESSAGE,\n          payload: lastMessage,\n        });\n      }\n\n      if (newMessage?.conversationId === conversationChat?._id) {\n        setMessages((prev) =>\n          prev.map((message) =>\n            message?._id === newMessage?._id ? newMessage : message\n          )\n        );\n      }\n    };\n\n    const updateFriendConversation = ({ userDisconnectId, time }) => {\n      // if (friendChat?._id === userDisconnectId) {\n      //   dispatch({\n      //     type: UPDATE_FRIEND_CHAT,\n      //     payload: time,\n      //   });\n      // }\n    };\n\n    socket.on(\"displayTyping\", handleSetTyping);\n    socket.on(\"updateMessage\", updateListMessage);\n    socket.on(\"friendLogout\", updateFriendConversation);\n\n    return () => {\n      isMount = false;\n      socket?.off(\"displayTyping\", handleSetTyping);\n      socket?.off(\"updateMessage\", updateListMessage);\n      socket?.off(\"friendLogout\", updateFriendConversation);\n    };\n  }, [socket]);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const getMessages = async () => {\n      if (conversationChat?._id) {\n        try {\n          const response = await getDataAPI(`/message/${conversationChat._id}`);\n          const { message, messages } = response;\n\n          // toast.success(message, { autoClose: 2000 });\n          if (isMount) {\n            setMessages(messages);\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n\n    if (conversationChat) getMessages();\n\n    return () => (isMount = false);\n  }, [conversationChat]);\n\n  useEffect(() => {\n    const handleReceiveMessage = ({ newMessage, receiverId }) => {\n      const { conversationId, text, senderId } = newMessage;\n\n      dispatch({\n        type: UPDATE_LAST_MESSAGE,\n        payload: newMessage,\n      });\n\n      if (!conversationChat) return;\n\n      if (conversationId === conversationChat._id) {\n        updateConversation({\n          receiverId,\n          conversationId,\n          isRead: true,\n        });\n\n        console.log('nhan duoc tin nhan')\n\n        // setArrivalMessage(newMessage);\n\n        setMessages(\n          (prev) =>\n            addElment(prev, newMessage, (array, newMessage) =>\n              array.find((el) => el?._id === newMessage?._id)\n            ),\n          false\n        );\n\n        setHasTyping(false);\n      }\n    };\n\n    socket?.on(\"getMessage\", handleReceiveMessage);\n\n    return () => {\n      socket?.off(\"getMessage\", handleReceiveMessage);\n    };\n  }, [socket, conversationChat]);\n\n  const updateConversation = async (data) => {\n    try {\n      const response = await postDataAPI(\n        `/conversation/update-conversation`,\n        data\n      );\n\n      const { message } = response;\n\n      // toast.success(message, { autoClose: 2000 });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const createNewMessage = async (text) => {\n    if (!text && !files.length) return;\n    try {\n      const messageCreate = {\n        conversationId: conversationChat?._id,\n        senderId: userCurrent?._id,\n      };\n\n      if (text) messageCreate.text = text;\n\n      const images = await imageUpload(files);\n      messageCreate.images = [...images];\n\n      const response = await postDataAPI(`/message`, messageCreate);\n      const { message, newMessage } = response;\n\n      updateConversation({\n        conversationId: conversationChat?._id,\n        reads: [userCurrent?._id],\n      });\n\n      dispatch({\n        type: UPDATE_LAST_MESSAGE,\n        payload: newMessage,\n      });\n\n      dispatch({\n        type: SET_FILES,\n        payload: [],\n      });\n\n      socket?.emit(\"sendMessage\", {\n        receivers: conversationChat.members,\n        newMessage,\n      });\n\n      // toast.success(message, { autoClose: 2000 });\n\n      setMessages((prev) => [...prev, newMessage]);\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"contact bar\">\n        {conversationChat && (\n          <>\n            <div className=\"pic\">\n              {conversationChat.images &&\n                (conversationChat.images.length === 1 ? (\n                  <img\n                    className=\"one-img\"\n                    src={conversationChat.images[0].src}\n                    alt=\"\"\n                  />\n                ) : (\n                  <div className=\"multiple-img\">\n                    {conversationChat.images.map((img) => (\n                      <img src={img.src} key={img.key} />\n                    ))}\n                  </div>\n                ))}\n            </div>\n            <div className=\"contact-info\">\n              <div className=\"name\">{conversationChat.nameConversation}</div>\n              {/* <div className=\"seen\">\n                {userCurrent?.friends.includes(friendChat?._id)\n                  ? isOnline\n                    ? \"Active\"\n                    : \"Active \" + time + \" ago\"\n                  : \"\"}\n              </div> */}\n            </div>\n            <Call />\n          </>\n        )}\n      </div>\n      <div className=\"messages\" id=\"chat\">\n        {conversationChat ? (\n          <div className=\"messagesContainer\">\n            <DisplayMessage\n              updateConversation={updateConversation}\n              setMessages={setMessages}\n              messages={messages}\n            />\n            {hasTyping && <Typing />}\n          </div>\n        ) : (\n          <div className=\"noMes\">Chon ban de chat</div>\n        )}\n      </div>\n      <CreateMessage createNewMessage={createNewMessage} />\n    </>\n  );\n};\n\nexport default ChatRoom;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { DISPLAY_CONVERSATION_PENDING, SET_IS_SHOW } from \"../../redux/actions\";\nimport \"./optionsMessage.scss\";\n\nconst OptionsMessage = () => {\n  const [number, setNumber] = useState(0);\n\n  const { listConversation } = useSelector((state) => state.chat);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!listConversation || !userCurrent) return;\n\n    const { _id } = userCurrent;\n\n    const numberSet = listConversation.reduce((prevState, conversation) => {\n      const {status} = conversation;\n      return status.includes(_id) ? prevState : prevState + 1;\n    }, 0);\n\n    setNumber(numberSet);\n  }, [listConversation, userCurrent]);\n\n  const displayConversationPending = () => {\n    dispatch({\n      type: SET_IS_SHOW,\n      payload: true,\n    });\n  };\n\n  return (\n    <h2 className=\"options-message\" onClick={displayConversationPending}>\n      <div className=\"number\">\n        <i className=\"fa-solid fa-message\"></i>\n        <span>{number}</span>\n      </div>\n      Message waiting\n    </h2>\n  );\n};\n\nexport default OptionsMessage;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport \"./ModalCreateRoomChat.scss\";\nimport { NO_AVATAR } from \"../../contants/imgContant\";\nimport {\n  ADD_CONVERSATION,\n  ADD_FRIEND_TO_ROOM,\n  REMOVE_FRIEND_TO_ROOM,\n  RESET_CREATE_ROOM,\n  SET_LIST_FRIEND,\n} from \"../../redux/actions\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getDataAPI, postDataAPI } from \"../../api/fetchData\";\nimport Avatar from \"../avatar/Avatar\";\nimport { imageUpload } from \"../../helpers/image\";\nimport { toast } from \"react-toastify\";\n\nconst ModalCreateRoomChat = () => {\n  const [file, setFile] = useState();\n\n  const nameRef = useRef(\"\");\n  const descRef = useRef(\"\");\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { friends, friendAdds } = useSelector((state) => state.createRoomChat);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n\n    const handleFetchFriends = async () => {\n      if (userCurrent && userCurrent._id) {\n        try {\n          const response = await getDataAPI(\n            `/user/get-friends/${userCurrent?._id}`\n          );\n\n          const { message, friends } = response;\n\n          if (isMount) {\n            dispatch({\n              type: SET_LIST_FRIEND,\n              payload: friends,\n            });\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n\n    handleFetchFriends();\n\n    return () => (isMount = false);\n  }, [userCurrent]);\n\n  const handleCloseModal = () =>\n    dispatch({\n      type: RESET_CREATE_ROOM,\n    });\n\n  const handleSubmit = async () => {\n    const data = {};\n\n    if (!nameRef.current.value) {\n      return toast.info(`Please enter name room chat`, { autoClose: 500 });\n    }\n\n    if (!friendAdds.length) {\n      return toast.info(`Please add members to room chat`, { autoClose: 500 });\n    }\n\n    data.members = [\n      userCurrent?._id,\n      ...friendAdds.map((friend) => friend?._id),\n    ];\n\n    if (file) {\n      const images = await imageUpload([file]);\n      data.image = [];\n      for (const key in images[0]) {\n        data.image.push(images[0][key]);\n      }\n    }\n\n    data.name = nameRef.current.value;\n    data.desc = descRef.current.value;\n\n    data.reads = [userCurrent?._id, ...friendAdds.map((friend) => friend?._id)];\n    data.status = [userCurrent?._id];\n    data.isMultiple = true;\n\n    const { conversation } = await postDataAPI(\"/conversation\", data);\n\n    dispatch({\n      type: ADD_CONVERSATION,\n      payload: { conversation },\n    });\n\n    handleCloseModal();\n  };\n\n  return (\n    <div className=\"create_room_modal\">\n      <div className=\"container\">\n        <h3 className=\"title\">Create New Room Chat</h3>\n\n        <div className=\"content\">\n          <div className=\"content-left\">\n            <h4>Add friends to the room</h4>\n\n            {/* List friend */}\n\n            <div className=\"list_friend\">\n              {friends.map((friend) => (\n                <div className=\"friend\" key={friend?._id}>\n                  <div className=\"friend-info\">\n                    <Avatar user={friend} link={false} isStatus={false} />\n                    <p className=\"friend-name\">{friend?.userName}</p>\n                  </div>\n                  <div className=\"button-actions\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-success\"\n                      onClick={() =>\n                        dispatch({\n                          type: ADD_FRIEND_TO_ROOM,\n                          payload: friend,\n                        })\n                      }\n                    >\n                      Add\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"content-right\">\n            <h4>Room information you want to create</h4>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"name-room\">Name Room</label>\n              <input\n                ref={nameRef}\n                type=\"text\"\n                className=\"form-control\"\n                id=\"name-room\"\n                placeholder=\"abc\"\n                required\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"desc-room\">Description</label>\n              <input\n                ref={descRef}\n                type=\"text\"\n                className=\"form-control\"\n                id=\"desc-room\"\n                placeholder=\"abc\"\n              />\n            </div>\n\n            <div className=\"custom-file\">\n              <input\n                onChange={(e) => setFile(e.target.files[0])}\n                type=\"file\"\n                className=\"custom-file-input\"\n                id=\"validatedCustomFile\"\n              />\n              <label\n                className=\"custom-file-label\"\n                htmlFor=\"validatedCustomFile\"\n              >\n                Choose Avatar...\n              </label>\n            </div>\n\n            <div className=\"display_room_avatar\">\n              {file && <img src={URL.createObjectURL(file)} alt=\"\" />}\n            </div>\n\n            {friendAdds.length > 0 && (\n              <>\n                <h5 className=\"members mt-4\">members</h5>\n                <div className=\"list_friend\">\n                  {friendAdds.map((friend) => (\n                    <div className=\"friend\" key={friend?._id}>\n                      <div className=\"friend-info\">\n                        <Avatar user={friend} link={false} isStatus={false} />\n                        <p className=\"friend-name\">{friend?.userName}</p>\n                      </div>\n                      <div className=\"button-actions\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-success\"\n                          onClick={() =>\n                            dispatch({\n                              type: REMOVE_FRIEND_TO_ROOM,\n                              payload: friend,\n                            })\n                          }\n                        >\n                          Delete\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n        <div className=\"footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-danger\"\n            onClick={handleCloseModal}\n          >\n            Cancel\n          </button>\n          <button type=\"button\" className=\"btn btn-info\" onClick={handleSubmit}>\n            Save\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ModalCreateRoomChat;\n","import \"./messenger.scss\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { getDataAPI, postDataAPI } from \"../../api/fetchData\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport Conversation from \"../../components/conversation/Conversation\";\nimport ChatRoom from \"./ChatRoom\";\nimport OptionsMessage from \"./OptionsMessage\";\nimport ModalCreateRoomChat from \"../../components/ModalCreateRoomChat/ModalCreateRoomChat\";\n\nimport {\n  SET_LIST_CONVERSATION,\n  SET_CONVERSATION_CHAT,\n} from \"../../redux/actions/chatActions\";\nimport { toast } from \"react-toastify\";\nimport { SET_CREATE_ROOM } from \"../../redux/actions\";\n\nexport default function Messenger() {\n  const [conversationDisplays, setConversationDisplays] = useState([]);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { isCreate } = useSelector((state) => state.createRoomChat);\n  const { conversationChat, listConversation, isShowConversationPending } =\n    useSelector((state) => state.chat);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n\n    const getConversations = async () => {\n      if (userCurrent) {\n        try {\n          const response = await getDataAPI(\n            `/conversation/get-all-conversations`\n          );\n\n          let { message, conversations } = response;\n\n          // toast.success(message, { autoClose: 2000 });\n\n          conversations = conversations.map((conversation) => {\n            if (conversation.roomCallId) {\n              return {\n                ...conversation,\n                lastMessage: [\"notify\", `${\"Conversation going on\"}`],\n              };\n            }\n\n            return conversation;\n          });\n\n          if (isMount) {\n            dispatch({\n              type: SET_LIST_CONVERSATION,\n              payload: {\n                userId: userCurrent?._id,\n                conversations,\n              },\n            });\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n    getConversations();\n\n    return () => (isMount = false);\n  }, [userCurrent]);\n\n  useEffect(() => {\n    if (!listConversation || !userCurrent) return;\n\n    const { _id } = userCurrent;\n\n    let data;\n\n    if (isShowConversationPending) {\n      data = listConversation.filter(\n        (conversation) => !conversation.status.includes(_id)\n      );\n    } else {\n      data = listConversation.filter((conversation) =>\n        conversation.status.includes(_id)\n      );\n    }\n\n    setConversationDisplays(data);\n  }, [listConversation, isShowConversationPending, userCurrent]);\n\n  const handleChosseCurrentChat = async (conversation) => {\n    if (!conversationChat || conversation?._id !== conversationChat._id) {\n      const { _id } = userCurrent;\n      const { status, reads } = conversation;\n\n      const dataUpdate = {};\n      let isChangeType = false;\n\n      if (!status.includes(_id)) {\n        isChangeType = true;\n\n        dataUpdate.status = [...status, _id];\n      }\n\n      if (!reads.includes(_id)) {\n        dataUpdate.reads = [...reads, _id];\n      }\n\n      if (Object.entries(dataUpdate).length) {\n        const response = await postDataAPI(\n          \"/conversation/update-conversation\",\n          {\n            conversationId: conversation?._id,\n            ...dataUpdate,\n          }\n        );\n      }\n\n      dispatch({\n        type: SET_CONVERSATION_CHAT,\n        payload: {\n          conversationChat: {\n            ...conversation,\n            ...dataUpdate,\n          },\n          isChangeType,\n        },\n      });\n    }\n  };\n\n  return (\n    <>\n      <div className=\"center\">\n        <div className=\"contacts\">\n          <div className=\"options-chat\">\n            <i className=\"fas fa-bars fa-2x\"></i>\n            <div className=\"list_options_chat\">\n              <button\n                onClick={() => {\n                  dispatch({\n                    type: SET_CREATE_ROOM,\n                    payload: true,\n                  });\n                }}\n              >\n                Create chat room\n              </button>\n            </div>\n          </div>\n\n          <OptionsMessage />\n\n          <div className=\"contacts-container\">\n            {conversationDisplays &&\n              conversationDisplays.map((conversation) => (\n                <div\n                  className=\"contact\"\n                  key={conversation?._id}\n                  onClick={() => {\n                    handleChosseCurrentChat(conversation);\n                  }}\n                >\n                  <Conversation conversation={conversation} />\n                </div>\n              ))}\n          </div>\n        </div>\n        <div className=\"chat\">\n          <ChatRoom conversationChat={conversationChat} />\n        </div>\n      </div>\n\n      {isCreate && <ModalCreateRoomChat />}\n    </>\n  );\n}\n","import { Chat } from \"@material-ui/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Messenger from \"../../pages/messenger/Messenger\";\nimport {\n  INCREASE_NUMBER_UNREAD,\n  SET_CHAT,\n  SET_NUMBER_UNREAD,\n} from \"../../redux/actions\";\n\nconst IconMessage = () => {\n  const [number, setNumber] = useState(0);\n\n  const { isChat, conversationUnReads } = useSelector((state) => state.chat);\n\n  const { socket } = useSelector((state) => state.network);\n  const { conversationChat } = useSelector((state) => state.chat);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!conversationUnReads) return;\n\n    setNumber(conversationUnReads.length);\n  }, [conversationUnReads]);\n\n  useEffect(() => {\n    const updateNumberConversationUnRead = ({ newMessage }) => {\n      const { conversationId } = newMessage;\n\n      if (!conversationChat || conversationChat?._id !== conversationId) {\n        if (!conversationUnReads.includes(conversationId)) {\n          dispatch({\n            type: INCREASE_NUMBER_UNREAD,\n          });\n        }\n      }\n    };\n\n    socket?.on(\"getMessage\", updateNumberConversationUnRead);\n\n    return () => {\n      socket?.off(\"getMessage\", updateNumberConversationUnRead);\n    };\n  }, [socket, conversationUnReads , conversationChat]);\n\n  const toogleMessage = () => {\n    const data = {\n      isChat: !isChat,\n    };\n\n    if (isChat) {\n      data.conversationChat = null;\n    }\n\n    dispatch({\n      type: SET_CHAT,\n      payload: data,\n    });\n  };\n\n  return (\n    <>\n      <Chat onClick={toogleMessage} />\n      <span className=\"topbarIconBadge\">{number}</span>\n\n      {isChat && <Messenger />}\n    </>\n  );\n};\n\nexport default IconMessage;\n","import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { putDataAPI, deleteDataAPI } from \"../../api/fetchData\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./notificationAction.scss\";\nimport {\n  REMOVE_FRIEND_REQUEST,\n  REMOVE_NOTIFICATION,\n  UPDATE_LIST_CONVERSATION,\n} from \"../../redux/actions\";\n\nconst NotificationAction = ({ notification }) => {\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const dispatch = useDispatch();\n\n  const handleRemoveNotification = async () => {\n    try {\n      const response = await deleteDataAPI(\n        `/notification/${notification._id}`\n      );\n\n      const { message } = response;\n\n      toast.success(message, { autoClose: 1000 });\n\n      dispatch({\n        type: REMOVE_NOTIFICATION,\n        payload: notification?._id,\n      });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const handleUnReadNotification = async () => {\n    try {\n      const response = await putDataAPI(\n        `/notification/unRead/${notification._id}`\n      );\n\n      const { message, newNotification } = response;\n\n      toast.success(message, { autoClose: 1000 });\n\n      dispatch({\n        type: UPDATE_LIST_CONVERSATION,\n        payload: newNotification,\n      });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const readNotification = async () => {\n    try {\n      const response = await putDataAPI(`/notification/${notification._id}`);\n\n      const { message, newNotification } = response;\n\n      toast.success(message, { autoClose: 1000 });\n\n      dispatch({\n        type: UPDATE_LIST_CONVERSATION,\n        payload: newNotification,\n      });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"notificationCrudAction\">\n        <button\n          className={`${notification.isRead ? \"disable\" : \"\"} `}\n          onClick={readNotification}\n        >\n          Mark\n        </button>\n\n        <button\n          onClick={handleUnReadNotification}\n          className={`${!notification.isRead ? \"disable\" : \"\"} `}\n        >\n          Unread\n        </button>\n\n        <button onClick={handleRemoveNotification}>Remove</button>\n      </div>\n    </>\n  );\n};\n\nexport default NotificationAction;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Avatar from \"../avatar/Avatar\";\nimport { toast } from \"react-toastify\";\nimport * as timeago from \"timeago.js\";\nimport NotificationAction from \"./NotificationAction\";\nimport { getDataAPI, putDataAPI } from \"../../api/fetchData\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { UPDATE_LIST_CONVERSATION } from \"../../redux/actions\";\n\nconst DisplayNotifycation = ({ notification }) => {\n  const [user, setUser] = useState(null);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const navigate = useNavigate();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n\n    const fetchUser = async () => {\n      if (!notification?.senderId) return;\n\n      try {\n        const response = await getDataAPI(\n          `/user?userId=${notification?.senderId}`\n        );\n\n        const { user } = response;\n\n        if (isMount) {\n          setUser(user);\n        }\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    };\n    fetchUser();\n\n    return () => {\n      isMount = false;\n    };\n  }, [notification]);\n\n  const updateReadNotification = async () => {\n    try {\n      if (!notification || notification?.isRead || !userCurrent) return;\n\n      const response = await putDataAPI(`/notification/${notification?._id}`);\n\n      const { message, notification: newNotification } = response;\n      dispatch({\n        type: UPDATE_LIST_CONVERSATION,\n        payload: newNotification,\n      });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"circle\"></div>\n      <span className=\"time\">{timeago.format(notification?.createdAt)}</span>\n      <p\n        className={`${notification?.isRead ? \"read\" : \"\"}`}\n        onClick={() => {\n          updateReadNotification();\n          navigate(notification?.link);\n        }}\n      >\n        <b>{user?.userName}</b>\n        {notification?.text.slice(\n          notification?.text.indexOf(user?.userName) + user?.userName?.length\n        )}\n      </p>\n      <NotificationAction notification={notification} />\n    </>\n  );\n};\n\nexport default DisplayNotifycation;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { deleteDataAPI, putDataAPI } from \"../../api/fetchData\";\nimport { debounce } from \"../../helpers/debounceFunction\";\nimport {\n  REMOVE_ALL_NOTIFICATION,\n  SET_NOTIFICATIONs_DISPLAY,\n  SET_TYPE_NOTIFICATION,\n} from \"../../redux/actions\";\n\nconst MenuNotifycation = () => {\n  const { isShowMenu, listNotifycation, type } = useSelector(\n    (state) => state.notification\n  );\n\n  const setNotifications = (type) => {\n    dispatch({\n      type: SET_TYPE_NOTIFICATION,\n      payload: type,\n    });\n  };\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n    let payload;\n\n    if (!listNotifycation) return;\n\n    if (type === \"all\") payload = listNotifycation;\n    else if (type === \"unread\") {\n      payload = listNotifycation.filter((notification) => !notification.isRead);\n    } else\n      payload = listNotifycation.filter((notification) => notification.isRead);\n\n    if (isMount) {\n      dispatch({\n        type: SET_NOTIFICATIONs_DISPLAY,\n        payload,\n      });\n    }\n\n    return () => (isMount = false);\n  }, [type]);\n\n  const removeAllNotification = async () => {\n    try {\n      const response = await deleteDataAPI(\n        `/notification/delete-all-notification`\n      );\n\n      const { message } = response;\n\n      dispatch({\n        type: REMOVE_ALL_NOTIFICATION,\n      });\n\n      toast.success(message, { autoClose: 1000 });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const readAllNotification = async () => {\n    try {\n      const response = await putDataAPI(`/notification/read-all-notification`);\n\n      const { message, notifications } = response;\n\n      toast.success(message, { autoClose: 1000 });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <div className={`menu ${isShowMenu && \"active\"}`}>\n      <ul>\n        <li\n          className=\"hvr-underline-from-left\"\n          onClick={debounce(setNotifications, 500, \"all\")}\n        >\n          <span className=\"fa-solid fa-border-all\"></span>All\n        </li>\n        <li\n          className=\"hvr-underline-from-left\"\n          onClick={debounce(setNotifications, 500, \"read\")}\n        >\n          <span className=\"fa-solid fa-check-double\"></span>Read\n        </li>\n        <li\n          className=\"hvr-underline-from-left\"\n          onClick={debounce(setNotifications, 500, \"unread\")}\n        >\n          <span className=\"fa-solid fa-rectangle-xmark\"></span>Un Read\n        </li>\n        <li\n          className=\"hvr-underline-from-left\"\n          onClick={debounce(removeAllNotification, 500)}\n        >\n          <span className=\"fa-solid fa-trash-can\"></span>Remove all\n        </li>\n        <li\n          className=\"hvr-underline-from-left\"\n          onClick={debounce(readAllNotification, 500)}\n        >\n         <span className=\"fa-solid fa-marker\"></span>Mark\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default MenuNotifycation;\n","import React, { useState, useEffect } from \"react\";\nimport DisplayNotification from \"./DisplayNotification\";\nimport \"./notification.scss\";\nimport { debounce } from \"../../helpers/debounceFunction\";\nimport { toast } from \"react-toastify\";\nimport { putDataAPI, deleteDataAPI } from \"../../api/fetchData\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  ADD_NOTIFICATION,\n  ADD_NOTIFICATION_DISPLAY,\n  SET_SHOW_NOTIFICATION_MENU,\n} from \"../../redux/actions\";\nimport MenuNotifycation from \"./MenuNotifycation\";\n\nconst Notification = () => {\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { type, listNotifycation, notificationDisplays, isShowMenu } =\n    useSelector((state) => state.notification);\n  const { socket } = useSelector((state) => state.network);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!socket) return;\n\n    const updateListNotification = ({ notification }) => {\n      if (type === \"all\" && type === \"read\") {\n        dispatch({\n          type: ADD_NOTIFICATION_DISPLAY,\n          payload: notification,\n        });\n      }\n\n      dispatch({\n        type: ADD_NOTIFICATION,\n        payload: notification,\n      });\n    };\n\n    socket.on(\"updateNotification\", updateListNotification);\n\n    return () => socket?.off(\"updateNotification\", updateListNotification);\n  }, [socket]);\n\n  return (\n    // <div\n    //   className=\"notifycationContainer\"\n    //   style={{\n    //     animation: \"\",\n    //   }}\n    // >\n    //   <div className=\"notificationOptions\">\n    //     <button\n    //       className=\"btn-notification allNotification\"\n    //\n    //     >\n    //       All Notification\n    //     </button>\n    //     <button\n    //\n    //       className=\"btn-notification notificationReads\"\n    //     >\n    //       Read\n    //     </button>\n    //     <button\n    //       className=\"btn-notification notificationNotReads\"\n    //\n    //     >\n    //       Unread\n    //     </button>\n    //     <button\n    //       className=\"btn-notification removeAllNotifycation\"\n    //\n    //     >\n    //       Remove all notifications\n    //     </button>\n    //     <button\n    //       className=\"btn-notification markAllAsRead\"\n    //\n    //     >\n    //       Mark all as read\n    //     </button>\n    //   </div>\n    //   {notificationDisplays &&\n    //     notificationDisplays.map((notification) => (\n    //       <DisplayNotification\n    //         notification={notification}\n    //         key={notification?._id}\n    //       />\n    //     ))}\n    // </div>\n\n    <div className=\"frame\">\n      <div className={`panel ${isShowMenu && \"show-menu\"}`}>\n        <div className=\"header flex\">\n          <div\n            className=\"menu-icon\"\n            onClick={() => dispatch({ type: SET_SHOW_NOTIFICATION_MENU })}\n          >\n            <div className={`dash-top ${isShowMenu && \"slide-top\"}`}></div>\n            <div className=\"dash-bottom\"></div>\n            <div className={`circle circle-1 ${isShowMenu && \"slide\"}`}></div>\n          </div>\n          <span className=\"title\">Notifications</span>\n        </div>\n\n        <div className=\"notifications clearfix\">\n          <div className=\"line\"></div>\n          {notificationDisplays &&\n            notificationDisplays.map((notification, idx) => (\n              <div\n                className=\"notification\"\n                key={notification?._id}\n                style={{\n                  animation: `here-am-i 0.5s ease-out ${0.4 + idx * 0.2}s`,\n                  animationFillMode: \"both\",\n                }}\n              >\n                <DisplayNotification\n                  key={notification?._id}\n                  notification={notification}\n                />\n              </div>\n            ))}\n        </div>\n      </div>\n\n      <MenuNotifycation />\n    </div>\n  );\n};\n\nexport default Notification;\n","import { Notifications } from \"@material-ui/icons\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDataAPI } from \"../../api/fetchData\";\nimport {\n  SET_SHOW_NOTIFICATION,\n  SET_LIST_NOTIFICATION,\n  SET_NUMBER_NOTIFICATION_UNREAD,\n  INCREASE_NUMBER_NOTIFICATION_UNREAD,\n} from \"../../redux/actions\";\nimport Notification from \"../notification/Notification\";\nimport \"./iconNotification.scss\";\n\nconst IconNotification = () => {\n  const { number, isShow } = useSelector((state) => state.notification);\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { socket } = useSelector((state) => state.network);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!socket) return;\n\n    const updateNumberNotification = () => {\n      if (!isShow) {\n        dispatch({\n          type: INCREASE_NUMBER_NOTIFICATION_UNREAD,\n        });\n      }\n    };\n\n    socket.on(\"updateNotification\", updateNumberNotification);\n\n    return () => socket?.off(\"updateNotification\", updateNumberNotification);\n  }, [socket, isShow]);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const getConversation = async () => {\n      if (userCurrent && isShow) {\n        try {\n          const response = await getDataAPI(`/notification`);\n\n          const { message, notifications } = response;\n\n          const data = [];\n          notifications.forEach((notification) => {\n            !notification.isRead && data.push(notification);\n          });\n          notifications.forEach((notification) => {\n            notification.isRead && data.push(notification);\n          });\n\n          // toast.success(message, { autoClose: 1000 });\n          if (isMount) {\n            dispatch({\n              type: SET_LIST_NOTIFICATION,\n              payload: data,\n            });\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n    getConversation();\n\n    return () => (isMount = false);\n  }, [userCurrent, isShow]);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const getNumberNotificationNotRead = async () => {\n      if (userCurrent) {\n        try {\n          const response = await getDataAPI(\n            `/notification/get-number-notification-not-read`\n          );\n\n          const { message, number } = response;\n\n          // toast.success(message, { autoClose: 1000 });\n          if (isMount) {\n            dispatch({\n              type: SET_NUMBER_NOTIFICATION_UNREAD,\n              payload: number,\n            });\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n    getNumberNotificationNotRead();\n\n    return () => (isMount = false);\n  }, [userCurrent]);\n\n  const toogleNotification = () => {\n    dispatch({\n      type: SET_SHOW_NOTIFICATION,\n      payload: !isShow,\n    });\n  };\n\n  return (\n    <>\n      <Notifications\n        className=\"svg-notification\"\n        style={{\n          cursor: \"pointer\",\n        }}\n        onClick={toogleNotification}\n      />\n      <span className=\"topbarIconBadge\">{number}</span>\n      <div className=\"my-btn-border-notification\"></div>\n      <div className=\"my-btn-1\"></div>\n      {/* <div className=\"my-btn\" onClick={toogleNotification}>\n        <div className=\"my-btn-border\"></div>\n        <i className=\"fas fa-bell btn-bell\"></i>\n        <span className=\"topbarIconBadge\">{number}</span>\n      </div> */}\n\n      {isShow && <Notification />}\n    </>\n  );\n};\n\nexport default IconNotification;\n","import \"./topbar.scss\";\nimport { Search, Person } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { debounce } from \"../../helpers/debounceFunction\";\nimport { getDataAPI } from \"../../api/fetchData\";\nimport Avatar from \"../avatar/Avatar\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  SET_STATUS_CONVERSATION,\n  INCREASE_NUMBER_FRIEND_REQUEST,\n  SET_NUMBER_FRIEND_REQUEST,\n  USER_LOGOUT,\n  RESET_NETWORK,\n  SET_PEER,\n} from \"../../redux/actions\";\nimport BoxFriendRequests from \"./BoxFriendRequests\";\nimport IconMessage from \"./IconMessage\";\nimport IconNotifycation from \"./IconNotifycation\";\n\nexport default function Topbar() {\n  const [notifications, setNotifications] = useState([]);\n  const [isShowNotification, setIsShowNotification] = useState(false);\n  const [firstShowNotification, setFirstShowNotification] = useState(false);\n  const [usersSearch, setUsersSearch] = useState();\n  const [isShowUsersSearch, setIsShowUsersSearch] = useState(false);\n  const [isShowFriendRequests, setIsShowFriendRequests] = useState(false);\n\n  const { socket } = useSelector((state) => state.network);\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { isChat, statusConversations } = useSelector((state) => state.chat);\n  const { number: numberFriendRequest } = useSelector(\n    (state) => state.friendRequest\n  );\n\n  const searchInputRef = useRef();\n  const displayUsersSearchRef = useRef();\n\n  const dispatch = useDispatch();\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    let isMount = true;\n\n    const getNumberFriendRequest = async () => {\n      try {\n        const response = await getDataAPI(`/friend-request/get-number`);\n\n        const { message, number } = response;\n\n        if (isMount) {\n          dispatch({\n            type: SET_NUMBER_FRIEND_REQUEST,\n            payload: number,\n          });\n        }\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    };\n\n    getNumberFriendRequest();\n\n    return () => (isMount = false);\n  }, []);\n\n  useEffect(() => {\n    const updateNumberFriendRequest = () => {\n      dispatch({\n        type: INCREASE_NUMBER_FRIEND_REQUEST,\n      });\n    };\n\n    if (socket) {\n      socket.on(\"updateNotification\", updateNumberFriendRequest);\n    }\n\n    return () => socket?.off(\"updateNotification\", updateNumberFriendRequest);\n  }, [socket]);\n\n  useEffect(() => {\n    const handleCloseSearchUsers = (e) => {\n      if (\n        e.target !== displayUsersSearchRef.current &&\n        e.target !== searchInputRef.current\n      ) {\n        setIsShowUsersSearch(false);\n      }\n    };\n    document.body.addEventListener(\"click\", handleCloseSearchUsers);\n\n    return () => {\n      document.body.removeEventListener(\"click\", handleCloseSearchUsers);\n    };\n  }, [displayUsersSearchRef?.current]);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const handleUpdateNotification = ({ notification }) => {\n      if (isMount) {\n        setNotifications((prev) => [notification, ...prev]);\n        setFirstShowNotification(false);\n      }\n    };\n\n    if (socket) {\n      socket.on(\"updateNotification\", handleUpdateNotification);\n    }\n\n    return () => {\n      isMount = false;\n      socket?.off(\"updateNotification\", handleUpdateNotification);\n    };\n  }, [socket]);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const getNumberConversationUnWatch = async () => {\n      if (userCurrent) {\n        try {\n          const response = await getDataAPI(\n            `/conversation/get-status-conversation`\n          );\n\n          const { message, conversations } = response;\n\n          dispatch({\n            type: SET_STATUS_CONVERSATION,\n            payload: conversations,\n          });\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n    getNumberConversationUnWatch();\n\n    return () => (isMount = false);\n  }, [userCurrent]);\n\n  const handleSearchUsers = async () => {\n    if (!searchInputRef?.current?.value) {\n      return;\n    }\n\n    try {\n      const response = await getDataAPI(\n        `/user/search-user/${searchInputRef.current.value}`\n      );\n\n      const { message, users } = response;\n\n      toast.success(message, { autoClose: 1000 });\n\n      if (users.length) {\n        setIsShowUsersSearch(true);\n        setUsersSearch(users);\n      }\n\n      toast.success(message, { autoClose: 1000 });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const logOut = () => {\n    dispatch({\n      type: USER_LOGOUT,\n    });\n    dispatch({\n      type: RESET_NETWORK,\n    });\n    dispatch({\n      type: SET_PEER,\n      payload: null,\n    });\n\n    localStorage.setItem(\"refresh-token\", \"\");\n    localStorage.setItem(\"access-token\", \"\");\n\n    localStorage.setItem(\"userId\", \"\");\n\n    socket?.emit(\"userLogOut\", userCurrent?._id);\n    navigate(\"/login\");\n  };\n\n  return (\n    <div className=\"topbarContainer\">\n      <div className=\"topbarLeft\">\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n          <span className=\"logo\">CoderNoob</span>\n        </Link>\n      </div>\n      <div className=\"topbarCenter\">\n        <div className=\"searchbar\">\n          <Search className=\"searchIcon\" />\n          <input\n            ref={searchInputRef}\n            placeholder=\"Search for friend, post or video\"\n            className=\"searchInput\"\n            onFocus={() => {\n              if (!isShowUsersSearch) setIsShowUsersSearch(true);\n            }}\n            onChange={debounce(handleSearchUsers, 2000)}\n          />\n\n          {usersSearch && isShowUsersSearch && (\n            <div className=\"displayUsersSearch\" ref={displayUsersSearchRef}>\n              {usersSearch.map((user) => (\n                <div\n                  className=\"userSearchContainer\"\n                  key={user?._id}\n                  onClick={() => navigate(`/profile/${user?._id}`)}\n                >\n                  <Avatar user={user} />\n                  <span>{user?.userName}</span>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"topbarRight\">\n        <div className=\"topbarLinks\">\n          <span className=\"topbarLink\">Homepage</span>\n          <span className=\"topbarLink\">Timeline</span>\n        </div>\n        <div className=\"topbarIcons\">\n          <div className=\"topbarIconItem\">\n            <Person onClick={() => setIsShowFriendRequests((prev) => !prev)} />\n            {isShowFriendRequests && <BoxFriendRequests />}\n            <span className=\"topbarIconBadge\">{numberFriendRequest}</span>\n          </div>\n          <div className=\"topbarIconItem\">\n            <IconMessage />\n          </div>\n          <div className=\"topbarIconItem\">\n            <IconNotifycation />\n          </div>\n        </div>\n        <div onClick={logOut} className=\"logout\">\n          <i className=\"fa-solid fa-right-from-bracket topbarImg\"></i>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./userSuggestion.css\";\nimport { NO_AVATAR } from \"../../contants/imgContant\";\nimport { Link } from \"react-router-dom\";\n\nexport default function UserSuggestion({ user }) {\n  return (\n    <Link\n      to={\"/profile/\" + user?._id}\n      style={{\n        textDecoration: \"none\",\n        color: \"#333\",\n      }}\n    >\n      <li className=\"sidebarFriend\">\n        <img\n          className=\"sidebarFriendImg\"\n          src={\n            user?.profilePicture?.length &&\n            user?.profilePicture[0]  ||\n            NO_AVATAR\n          }\n          alt=\"\"\n        />\n        <span className=\"sidebarFriendName\">{user.userName}</span>\n      </li>\n    </Link>\n  );\n}\n","import \"./sidebar.css\";\nimport {\n  RssFeed,\n  Chat,\n  PlayCircleFilledOutlined,\n  Group,\n  Bookmark,\n  HelpOutline,\n  WorkOutline,\n  Event,\n  School,\n} from \"@material-ui/icons\";\nimport UserSuggestion from \"../userSuggestion/UserSuggestion\";\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDataAPI } from \"../../api/fetchData\";\nimport { SET_CHAT } from \"../../redux/actions\";\n\nexport default function Sidebar() {\n  const [usersSuggestion, setUsersSuggestion] = useState([]);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n\n    const getUsersSuggestion = async () => {\n      if (userCurrent?._id) {\n        try {\n          const response = await getDataAPI(\n            `/user/get-users-suggestion/${userCurrent?._id}`\n          );\n          const { message, users } = response;\n\n          // toast.success(message, { autoClose: 2000 });\n          if (isMount) {\n            setUsersSuggestion(users);\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n    getUsersSuggestion();\n\n    return () => (isMount = false);\n  }, [userCurrent]);\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebarWrapper\">\n        <ul className=\"sidebarList\">\n          <li className=\"sidebarListItem\">\n            <RssFeed className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Feed</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Chat className=\"sidebarIcon\" />\n            <span\n              className=\"sidebarListItemText\"\n              onClick={() =>\n                dispatch({\n                  type: SET_CHAT,\n                  payload: true,\n                })\n              }\n            >\n              Chats\n            </span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <PlayCircleFilledOutlined className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Videos</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Group className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Groups</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Bookmark className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Bookmarks</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <HelpOutline className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Questions</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <WorkOutline className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Jobs</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Event className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Events</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <School className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Courses</span>\n          </li>\n        </ul>\n        <button className=\"sidebarButton\">Show More</button>\n        <hr className=\"sidebarHr\" />\n        <ul className=\"sidebarUsersSuggestion\">\n          <h4 className=\"sidebarDesc\">Recommend friends</h4>\n          {usersSuggestion.map((user) => (\n            <UserSuggestion key={user?._id} user={user} />\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./displayImg.css\";\nimport { Cancel } from \"@material-ui/icons\";\n\nconst Displayimg = ({ image, file, setImages, setFiles }) => {\n  return (\n    <>\n      <img\n        src={image ? image : file.camera ? file.url : URL.createObjectURL(file)}\n      />\n      <span\n        className=\"imgCancel\"\n        onClick={() =>\n          image\n            ? setImages((prev) => prev.filter((item) => item.url !== image))\n            : setFiles((prev) => prev.filter((item) => item.uuid !== file.uuid))\n        }\n      >\n        <Cancel />\n      </span>\n    </>\n  );\n};\n\nexport default Displayimg;\n","import React, { useEffect, useState } from \"react\";\nimport \"./commentInfo.css\";\nimport { toast } from \"react-toastify\";\nimport DisplayImg from \"../displayimg/DisplayImg\";\nimport { PermMedia } from \"@material-ui/icons\";\nimport { putDataAPI } from \"../../api/fetchData\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { removeImage, imageUpload } from \"../../helpers/image\";\nimport { useSelector } from \"react-redux\";\n\nconst CommentInfo = ({\n  post,\n  user,\n  comment,\n  isEdit,\n  setIsEdit,\n  setMessages,\n}) => {\n  const [images, setImages] = useState([]);\n  const [text, setText] = useState(comment?.text || \"\");\n  const [files, setFiles] = useState([]);\n\n  const { socket } = useSelector((state) => state.network);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    setImages(comment?.images);\n  }, [comment?.images]);\n\n  const handleReset = (comment) => {\n    setImages(comment?.images);\n    setText(comment?.text || \"\");\n    setFiles([]);\n    setIsEdit(false);\n  };\n\n  const updateComment = async () => {\n    try {\n      let newImages = images ? [...images] : [];\n\n      const imagesRemove = comment?.images.filter((image) => {\n        return !newImages.find((newImage) => image.url === newImage.url);\n      });\n\n      if (imagesRemove.length) {\n        removeImage(imagesRemove.map((image) => image.public_id));\n      }\n\n      const responseImages = await imageUpload(files);\n      newImages = [...newImages, ...responseImages];\n\n      const response = await putDataAPI(\n        `/comment/update-comment/${comment?._id}`,\n        {\n          text,\n          images: newImages,\n          userId: userCurrent?._id,\n          isEdit: true,\n        }\n      );\n\n      const { message, newComment } = response;\n      console.log(\"newComment\", newComment);\n\n      toast.success(message, { autoClose: 2000 });\n\n      socket?.emit(\"commentPostHandler\", {\n        type: \"update\",\n        comment: newComment,\n        postId: post?._id,\n        userPost: post.userId,\n        message: userCurrent?.userName + \"updated comment on your post\",\n      });\n\n      setMessages((prev) =>\n        prev.map((item) => (item._id === newComment._id ? newComment : item))\n      );\n\n      handleReset(newComment);\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <div className={`commentInfo ${isEdit && \"edit\"}`}>\n      {isEdit ? (\n        <>\n          <div className={`editCommentContainer`}>\n            <input\n              className=\"editCommentInput\"\n              type=\"text\"\n              autoFocus\n              value={text}\n              onChange={(e) => setText(e.target.value)}\n            />\n\n            <button\n              onClick={() => handleReset()}\n              type=\"button\"\n              className=\"btn btn-secondary \n              btnEdit btnCancelEdit \"\n            >\n              Cancel\n            </button>\n\n            <button\n              type=\"button\"\n              className=\"btn btn-success\n              btnEdit btnConfirmEdit\"\n              onClick={updateComment}\n            >\n              Edit\n            </button>\n          </div>\n          <div className=\"editImgPost\">\n            <div className=\"editImgPostTop\">\n              <div className=\"shareOption\">\n                <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n\n                <span className=\"shareOptionText\">Posted photo</span>\n              </div>\n            </div>\n\n            <div className=\"disPlayImgCreateComment\">\n              {images &&\n                images.map((image) => (\n                  <div className=\"imgContainer\" key={image.url}>\n                    <DisplayImg image={image.url} setImages={setImages} />\n                  </div>\n                ))}\n            </div>\n\n            <div className=\"editImgPostTop\">\n              <label\n                htmlFor={\"editEomment\" + comment._id}\n                className=\"shareOption\"\n              >\n                <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n                <span className=\"shareOptionText\">Add Photo or Video</span>\n              </label>\n              <input\n                style={{ display: \" none\" }}\n                type={\"file\"}\n                id={\"editEomment\" + comment._id}\n                accept=\".png,.jpeg,.jpg\"\n                multiple\n                onChange={(e) => {\n                  const data = Array.from(e.target.files);\n                  setFiles((prev) => [\n                    ...prev,\n                    ...data.map((file) => {\n                      file.uuid = uuidv4();\n                      return file;\n                    }),\n                  ]);\n                }}\n              />\n            </div>\n\n            <div className=\"disPlayImgCreateComment\">\n              {files.map((file) => (\n                <div className=\"imgContainer\" key={file.uuid}>\n                  <DisplayImg file={file} setFiles={setFiles} />\n                </div>\n              ))}\n            </div>\n          </div>\n        </>\n      ) : (\n        <>\n          <div className=\"commentInfoTop\">\n            <span className=\"commentUserName\">{user?.userName}</span>\n            <span className=\"commentText\">{comment?.text}</span>\n          </div>\n          <div className=\"commentInfoImgContainer\">\n            {comment.images.map((image, idx) => (\n              <img\n                className=\"commentInfoImg\"\n                key={image.url}\n                style={{\n                  width: `${\n                    comment.images.length % 2 !== 0\n                      ? idx === comment.images.length - 1\n                        ? \"100%\"\n                        : \"calc(100%/2)\"\n                      : \"calc(100%/2)\"\n                  }`,\n                }}\n                src={image && image.url}\n              />\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default CommentInfo;\n","import React from \"react\";\n\nconst CommentCrud = ({ id, setIsEdit }) => {\n  return (\n    <>\n      <div className=\"commentCrudAction\">\n        <button\n          className=\"updateComment\"\n          onClick={() => setIsEdit((prev) => !prev)}\n        >\n          Edit\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"removeComment\"\n          data-toggle=\"modal\"\n          data-target={\"#\" + id}\n        >\n          Remove\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default CommentCrud;\n","import React from \"react\";\n\nconst ModalConfirmDelete = ({ id, onRemove, text }) => {\n  return (\n    <>\n      <div\n        className=\"modal fade\"\n        id={id}\n        tabIndex=\"-1\"\n        role=\"dialog\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                Confirm\n              </h5>\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              {`You confirm to permanently delete this ` + text}\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-danger\"\n                onClick={onRemove}\n                data-dismiss=\"modal\"\n              >\n                Remove\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-dismiss=\"modal\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ModalConfirmDelete;\n","import \"./commentReply.css\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport * as timeago from \"timeago.js\";\nimport { toast } from \"react-toastify\";\nimport Avatar from \"../avatar/Avatar\";\nimport CommentInfo from \"../comment/CommentInfo\";\nimport CommentCrud from \"../comment/CommentCrud\";\nimport ModalConfirmDelete from \"../modal/ModalConfirmDelete\";\nimport { getDataAPI, putDataAPI, deleteDataAPI } from \"../../api/fetchData\";\nimport { useSelector } from \"react-redux\";\n\nfunction CommentReply({ comment, commentReply, setCommentsReply }) {\n  const [like, setLike] = useState();\n  const [user, setUser] = useState({});\n  const [isCrudComment, setIsCrudComment] = useState(false);\n  const [isEdit, setIsEdit] = useState(false);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const [isLiked, setIsLiked] = useState(false);\n\n  useEffect(() => {\n    setLike(commentReply?.likes.length);\n    setIsLiked(commentReply?.likes.includes(userCurrent._id));\n  }, [commentReply?.likes, userCurrent?._id]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await getDataAPI(\n          `/user?userId=${commentReply?.userId}`\n        );\n\n        const { user } = response;\n        setUser(user);\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    };\n    fetchUser();\n  }, [commentReply]);\n\n  useEffect(() => {\n    const handleCheckClick = (e) => {\n      if (isCrudComment) {\n        setIsCrudComment(false);\n      }\n    };\n\n    document.body.addEventListener(\"click\", handleCheckClick);\n\n    return () => document.body.removeEventListener(\"click\", handleCheckClick);\n  }, [isCrudComment]);\n\n  const likeHandler = async () => {\n    try {\n      const response = isLiked\n        ? await putDataAPI(`/comment/unlike-comment/${commentReply._id}`, {\n            userId: userCurrent._id,\n          })\n        : await putDataAPI(`/comment/like-comment/${commentReply._id}`, {\n            userId: userCurrent._id,\n          });\n      const { message } = response;\n      toast.success(message, { autoClose: 1000 });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n    setIsLiked(!isLiked);\n    setLike(isLiked ? like - 1 : like + 1);\n  };\n\n  const handleRemoveCommnetReply = async () => {\n    try {\n      const response = await deleteDataAPI(\n        `/comment/remove-comment-reply/${comment._id}/${commentReply._id}/${userCurrent._id}`\n      );\n\n      const { message } = response;\n      toast.success(message, { autoClose: 1000 });\n\n      setCommentsReply((prev) =>\n        prev.filter((item) => item._id !== commentReply._id)\n      );\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"commentReplyContainer\">\n        <div className=\"commentReplyLeft\">\n          <Avatar user={userCurrent} />\n        </div>\n        <div className=\"commentReplyRight\">\n          <div className=\"commentReplyRightTop\">\n            <CommentInfo\n              user={userCurrent}\n              comment={commentReply}\n              isEdit={isEdit}\n              setIsEdit={setIsEdit}\n              setMessages={setCommentsReply}\n            />\n\n            {commentReply?.userId === userCurrent._id && (\n              <div\n                className=\"commentCrud\"\n                onClick={() => setIsCrudComment(!isCrudComment)}\n              >\n                <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAHVJREFUSEtjZKAxYKSx+QyjFhAM4dEgGqFB5MDAwDAf6vdEBgaGA1A2qeJgbdhS0QMGBgZ5qKEgtiISmxRxnBZ8YGBg4Ica+pCBgUEByiZVHKcFoKBYADU0AS2ISBHHaQHBpEeKgtGcTDC0RoNoNIgIhgBBBQBNkxgZxgF3rgAAAABJRU5ErkJggg==\" />\n\n                {isCrudComment && (\n                  <CommentCrud\n                    id={commentReply._id}\n                    onRemoveComment={handleRemoveCommnetReply}\n                    setIsEdit={setIsEdit}\n                  />\n                )}\n              </div>\n            )}\n          </div>\n          <div className=\"commentReplyAction\">\n            <div className=\"commentReplyLikeContainer\">\n              <span\n                className={`commentReplyLike ${isLiked && \"like\"}`}\n                onClick={likeHandler}\n              >\n                Like\n              </span>\n              <span className=\"commentReplyNumberLike\">{like}</span>\n            </div>\n\n            <span className=\"commentRefDate\">\n              {timeago.format(commentReply?.createdAt)}\n            </span>\n\n            {commentReply.isEdit && <span className=\"showIsEdit\">Edited</span>}\n          </div>\n        </div>\n\n        <ModalConfirmDelete\n          id={commentReply?._id}\n          onRemove={handleRemoveCommnetReply}\n          text=\"this comment ?\"\n        />\n      </div>\n    </>\n  );\n}\n\nexport default CommentReply;\n","import React, { useRef } from \"react\";\nimport \"./createComment.css\";\nimport { PermMedia } from \"@material-ui/icons\";\nimport DisplayImg from \"../../displayimg/DisplayImg\";\nimport Avatar from \"../../avatar/Avatar\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst CreateComment = ({ onCreateComment, user, setFiles, files, id }) => {\n  const commentRef = useRef();\n\n  return (\n    <>\n      <form\n        className=\"createComment\"\n        onSubmit={(e) => {\n          onCreateComment(e, commentRef.current.value);\n          commentRef.current.value = \"\";\n        }}\n      >\n        <div className=\"createCommentInput\">\n          <Avatar width={\"50px\"} height={\"50px\"} user={user} />\n          <div className=\"createCommentInputTop\">\n            <input\n              autoFocus\n              type=\"text\"\n              ref={commentRef}\n              placeholder={\"Enter comment...\"}\n            />\n\n            <label htmlFor={\"filesCreateComment\" + id} className=\"shareOption\">\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n            </label>\n            <input\n              style={{ display: \" none\" }}\n              type={\"file\"}\n              id={\"filesCreateComment\" + id}\n              accept=\".png,.jpeg,.jpg\"\n              multiple\n              onChange={(e) => {\n                const data = Array.from(e.target.files);\n                setFiles([\n                  ...data.map((file) => {\n                    file.uuid = uuidv4();\n                    return file;\n                  }),\n                ]);\n              }}\n            />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary btnCreateComment\">\n            Send\n          </button>\n        </div>\n        <div className=\"disPlayImgCreateComment\">\n          {files.map((file) => (\n            <div className=\"imgContainer\" key={file.uuid}>\n              <DisplayImg file={file} setFiles={setFiles} />\n            </div>\n          ))}\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default CreateComment;\n","import \"./comment.css\";\nimport React, { useEffect, useState\n  , useRef } from \"react\";\nimport * as timeago from \"timeago.js\";\nimport { toast } from \"react-toastify\";\nimport CommentReply from \"../commentReply/CommentReply\";\nimport ModalConfirmDelete from \"../modal/ModalConfirmDelete\";\nimport CreateComment from \"../form/createComment/CreateComment\";\nimport CommentCrud from \"./CommentCrud\";\nimport CommentInfo from \"./CommentInfo\";\nimport Avatar from \"../avatar/Avatar\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useSelector } from \"react-redux\";\nimport { getDataAPI, putDataAPI, postDataAPI } from \"../../api/fetchData\";\nimport { imageUpload } from \"../../helpers/image\";\n\nfunction Comment({ comment, post, setComments }) {\n  const [like, setLike] = useState();\n  const [user, setUser] = useState({});\n  const [isShowCommentsReply, setIsShowCommentsReply] = useState(false);\n  const [isEdit, setIsEdit] = useState(false);\n  const [isComment, setIsComment] = useState(false);\n  const [commentsReply, setCommentsReply] = useState([]);\n  const [isCrudComment, setIsCrudComment] = useState(false);\n  const [files, setFiles] = useState([]);\n  const [isLiked, setIsLiked] = useState(false);\n\n  const { socket } = useSelector((state) => state.network);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const idCreateComment = useRef(uuidv4());\n\n  useEffect(() => {\n    const handleCheckClick = (e) => {\n      if (isCrudComment) {\n        setIsCrudComment(false);\n      }\n    };\n\n    document.body.addEventListener(\"click\", handleCheckClick);\n\n    return () => document.body.removeEventListener(\"click\", handleCheckClick);\n  }, [isCrudComment]);\n\n  useEffect(() => {\n    setLike(comment?.likes.length);\n    setIsLiked(comment?.likes.includes(userCurrent._id));\n  }, [comment?.likes, userCurrent?._id]);\n\n  useEffect(() => {\n    let isMount = true;\n    const fetchUser = async () => {\n      try {\n        const response = await getDataAPI(`/user?userId=${comment?.userId}`);\n\n        const { user } = response;\n        if (isMount) setUser(user);\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    };\n    fetchUser();\n\n    return () => (isMount = false);\n  }, [comment]);\n\n  useEffect(() => {\n    let isMount = true;\n    const handleGetCommentReply = async () => {\n      try {\n        const response = await getDataAPI(\n          `/comment/get-all-comments-reply/${comment?._id}`\n        );\n\n        const { message, comments } = response;\n\n        if (isMount) setCommentsReply(comments);\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    };\n    if (isShowCommentsReply) {\n      handleGetCommentReply();\n    }\n\n    return () => (isMount = false);\n  }, [isShowCommentsReply]);\n\n  const likeHandler = async () => {\n    try {\n      const response = isLiked\n        ? await putDataAPI(`/comment/unlike-comment/${comment._id}`, {\n            userId: userCurrent._id,\n          })\n        : await putDataAPI(`/comment/like-comment/${comment._id}`, {\n            userId: userCurrent._id,\n          });\n      const { message } = response;\n      toast.success(message, { autoClose: 1000 });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n    setIsLiked(!isLiked);\n    setLike(isLiked ? like - 1 : like + 1);\n  };\n\n  const handleCreateCommentReply = async (e, text) => {\n    e.preventDefault();\n\n    try {\n      if (!text && !files.length) {\n        return toast.info(\"Please enter data to comment\", { autoClose: 2000 });\n      }\n      const commentInfo = {\n        postId: post?._id,\n        userId: user?._id,\n        text,\n      };\n\n      const images = await imageUpload(files);\n      commentInfo.images = [...images];\n\n      const response = await postDataAPI(`/comment`, commentInfo);\n\n      const { comment: commentReply, message } = response;\n\n      const responseToAddCommentReply = await postDataAPI(\n        `/comment/add-comment-reply/${comment?._id}`,\n        {\n          commentReplyId: commentReply._id,\n        }\n      );\n\n      if (isShowCommentsReply) {\n        setCommentsReply((prev) => [commentReply, ...prev]);\n      }\n\n      setFiles([]);\n      setIsShowCommentsReply(true);\n\n      toast.success(message, { autoClose: 2000 });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const handleRemoveComment = async () => {\n    try {\n      const response = await postDataAPI(`/post/remove-comment/${post?._id}`, {\n        commentId: comment?._id,\n        userId: userCurrent?._id,\n      });\n\n      const { message } = response;\n      toast.success(message, { autoClose: 2000 });\n\n      setComments((prev) =>\n        prev.filter((commentPost) => commentPost._id !== comment._id)\n      );\n\n      socket?.emit(\"commentPostHandler\", {\n        type: \"remove\",\n        comment,\n        postId: post?._id,\n        userPost: post.userId,\n        message: userCurrent?.userName + \" deleted the comment on your post\",\n      });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"commentLeft\">\n        <Avatar user={user} />\n      </div>\n      <div className=\"commentRight\">\n        <div className=\"commentRightTop\">\n          <CommentInfo\n            post={post}\n            user={user}\n            comment={comment}\n            isEdit={isEdit}\n            setIsEdit={setIsEdit}\n            setMessages={setComments}\n          />\n\n          {comment?.userId === userCurrent?._id && (\n            <div\n              className=\"commentCrud\"\n              onClick={() => setIsCrudComment(!isCrudComment)}\n            >\n              <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAHVJREFUSEtjZKAxYKSx+QyjFhAM4dEgGqFB5MDAwDAf6vdEBgaGA1A2qeJgbdhS0QMGBgZ5qKEgtiISmxRxnBZ8YGBg4Ica+pCBgUEByiZVHKcFoKBYADU0AS2ISBHHaQHBpEeKgtGcTDC0RoNoNIgIhgBBBQBNkxgZxgF3rgAAAABJRU5ErkJggg==\" />\n\n              {isCrudComment && (\n                <CommentCrud\n                  id={comment?._id}\n                  onRemoveComment={handleRemoveComment}\n                  setIsEdit={setIsEdit}\n                />\n              )}\n            </div>\n          )}\n        </div>\n\n        <div className=\"commentAction\">\n          <div className=\"commentLikeContainer\">\n            <span\n              className={`commentLike ${isLiked && \"like\"}`}\n              onClick={likeHandler}\n            >\n              Like\n            </span>\n            <span className=\"commentNumberLike\">{like}</span>\n          </div>\n          <span\n            className=\"reply\"\n            onClick={() => {\n              setIsComment(!isComment);\n            }}\n          >\n            Reply\n          </span>\n          <span className=\"commentDate\">\n            {timeago.format(comment?.createdAt)}\n          </span>\n          <span\n            className=\"showFeedback\"\n            onClick={() => setIsShowCommentsReply(!isShowCommentsReply)}\n          >\n            feedbacks\n          </span>\n\n          {comment.isEdit && <span className=\"showIsEdit\">Edited</span>}\n        </div>\n\n        <div className=\"comentBottom\">\n          {isComment && (\n            <CreateComment\n              id={idCreateComment.current}\n              files={files}\n              setFiles={setFiles}\n              user={userCurrent}\n              onCreateComment={handleCreateCommentReply}\n            />\n          )}\n\n          {isShowCommentsReply &&\n            commentsReply.map((commentReply) => (\n              <CommentReply\n                comment={comment}\n                setCommentsReply={setCommentsReply}\n                key={commentReply?._id}\n                commentReply={commentReply}\n              />\n            ))}\n        </div>\n\n        <ModalConfirmDelete\n          text=\"this comment ?\"\n          id={comment?._id}\n          onRemove={handleRemoveComment}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default Comment;\n","import React from \"react\";\nimport \"./crudPost.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nconst CrudPost = ({ id, setIsEdit }) => {\n  const navigate = useNavigate();\n  return (\n    <>\n      <>\n        <button className=\"detailPost\" onClick={() => navigate(\"/post/\" + id)}>\n          Detail Post\n        </button>\n        <button\n          className=\"updatePost\"\n          onClick={() => setIsEdit((prev) => !prev)}\n        >\n          Edit\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"removePost\"\n          data-toggle=\"modal\"\n          data-target={\"#\" + id}\n        >\n          Remove\n        </button>\n      </>\n    </>\n  );\n};\n\nexport default CrudPost;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { PermMedia } from \"@material-ui/icons\";\nimport Displayimg from \"../displayimg/DisplayImg\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useSelector } from \"react-redux\";\n\nconst ChooseImage = ({\n  setIsTakePhoto,\n  isTakePhoto,\n  files,\n  height,\n  width,\n  id,\n  multiple,\n  setFiles,\n}) => {\n  const videoRef = useRef();\n  const canvasRef = useRef();\n  const [videoStream, setVideoStream] = useState();\n  // camera truoc\n  const [useFrontCamera, setUseFrontCamera] = useState(true);\n  const [notify, setNotify] = useState(\"\");\n  const [isStop, setIsStop] = useState(false);\n\n  const constraints = useRef({\n    video: {\n      width: {\n        min: 1280,\n        ideal: 1920,\n        max: 2560,\n      },\n      height: {\n        min: 720,\n        ideal: 1080,\n        max: 1440,\n      },\n    },\n  });\n\n  const stopVideoStream = () => {\n    if (videoStream) {\n      videoStream.getTracks().forEach((track) => {\n        track.stop();\n      });\n    }\n  };\n\n  const init = async () => {\n    stopVideoStream();\n    constraints.current.video.facingMode = useFrontCamera\n      ? \"user\"\n      : \"environment\";\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia(\n        constraints.current\n      );\n\n      videoRef.current.srcObject = stream;\n      videoRef.current.play();\n      setVideoStream(stream);\n    } catch (error) {\n      setNotify(\"An error occurred while starting the camera\");\n    }\n  };\n\n  useEffect(() => {\n    if (!isTakePhoto) {\n      videoRef?.current?.pause();\n      stopVideoStream();\n      setVideoStream();\n      return;\n    }\n    if (\n      !\"mediaDevices\" in navigator ||\n      !\"getUserMedia\" in navigator.mediaDevices\n    ) {\n      setNotify(\"Not support API camera\");\n      return;\n    }\n\n    init();\n\n    return () => {\n      videoRef?.current?.srcObject.getTracks().forEach((track) => {\n        track.stop();\n      });\n    };\n  }, [isTakePhoto, useFrontCamera]);\n\n  const handleTakePhoto = () => {\n    canvasRef.current.width = videoRef.current.videoWidth;\n    canvasRef.current.height = videoRef.current.videoHeight;\n    canvasRef.current.getContext(\"2d\").drawImage(videoRef.current, 0, 0);\n\n    const image = canvasRef.current.toDataURL(\"image/png\");\n\n    if (multiple) {\n      setFiles((prev) => [\n        ...prev,\n        {\n          camera: true,\n          url: image,\n          uuid: uuidv4(),\n        },\n      ]);\n    } else {\n      setFiles([\n        {\n          camera: true,\n          url: image,\n          uuid: uuidv4(),\n        },\n      ]);\n    }\n  };\n\n  const handleChangeVideo = () => {\n    setUseFrontCamera((prev) => !prev);\n  };\n\n  return (\n    <div>\n      <div className=\"optionUploadImage\">\n        <button\n          type=\"button\"\n          className=\"btn btn-primary\"\n          onClick={() => setIsTakePhoto(false)}\n        >\n          Upload photos\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-info\"\n          onClick={() => setIsTakePhoto(true)}\n        >\n          Take a photo\n        </button>\n      </div>\n      <div className=\"uploadImageContent\">\n        {!isTakePhoto ? (\n          <div className=\"uploadImageContentTop\">\n            <label htmlFor={`file${id}`} className=\"shareOption\">\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">{\"Choose photo\"}</span>\n            </label>\n            <input\n              multiple={multiple}\n              style={{ display: \" none\" }}\n              type={\"file\"}\n              id={`file${id}`}\n              accept=\".png,.jpeg,.jpg\"\n              onChange={(e) => {\n                const data = Array.from(e.target.files).map((file) => {\n                  file.uuid = uuidv4();\n                  return file;\n                });\n\n                if (multiple) {\n                  setFiles((prev) => [...prev, ...data]);\n                } else {\n                  setFiles([...data]);\n                }\n              }}\n            />\n          </div>\n        ) : (\n          <>\n            <div className=\"takeVideoTop\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={() => {\n                  if (isStop) videoRef.current.play();\n                  else videoRef.current.pause();\n\n                  setIsStop((prev) => !prev);\n                }}\n              >\n                {`${isStop ? \"Play\" : \"Stop\"} video`}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-warning\"\n                onClick={handleTakePhoto}\n              >\n                Shot\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-dark\"\n                onClick={handleChangeVideo}\n              >\n                Change camera\n              </button>\n            </div>\n            <div className=\"takeVideoBody\">\n              {notify ? notify : <video ref={videoRef}></video>}\n              <canvas\n                style={{\n                  display: \"none\",\n                }}\n                ref={canvasRef}\n              ></canvas>\n            </div>\n          </>\n        )}\n\n        <div className=\"uploadImageContentBody\">\n          <div className=\"shareImgContainer\">\n            {files.map((file) => {\n              return (\n                <div\n                  className=\"imgContainer\"\n                  style={{\n                    width: width,\n                    height: height,\n                  }}\n                  key={file.uuid}\n                >\n                  <Displayimg file={file} setFiles={setFiles} />\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChooseImage;\n","import React, { useRef, useState } from \"react\";\nimport \"./modal.css\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport { PermMedia } from \"@material-ui/icons\";\nimport { toast } from \"react-toastify\";\nimport DisplayImg from \"../displayimg/DisplayImg\";\nimport { putDataAPI, postDataAPI } from \"../../api/fetchData\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { removeImage, imageUpload } from \"../../helpers/image\";\nimport ChooseImage from \"../chooseImage/ChooseImage\";\nimport { useSelector } from \"react-redux\";\n\nconst ModalEditPost = ({ setPosts, post, setIsEdit }) => {\n  const [images, setImages] = useState(post?.images);\n  const [desc, setDesc] = useState(post?.desc || \"\");\n  const [files, setFiles] = useState([]);\n  const [isTakePhoto, setIsTakePhoto] = useState(false);\n\n  const id = useRef(uuidv4());\n\n  const { socket } = useSelector((state) => state.network);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const updatePost = async () => {\n    try {\n      let newImages = [...images];\n\n      const imagesRemove = post?.images.filter((image) => {\n        return !newImages.find((newImage) => image.url === newImage.url);\n      });\n\n      if (imagesRemove.length) {\n        removeImage(imagesRemove.map((image) => image.public_id));\n      }\n\n      const responseImages = await imageUpload(files);\n      newImages = [...newImages, ...responseImages];\n\n      const response = await putDataAPI(`/post/${post?._id}`, {\n        desc,\n        images: newImages,\n        userId: userCurrent._id,\n      });\n\n      const { message, newPost } = response;\n\n      toast.success(message, { autoClose: 2000 });\n\n      setPosts((prev) =>\n        prev.map((item) => (item._id === newPost._id ? newPost : item))\n      );\n\n      socket?.emit(\"postHandler\", {\n        type: \"updatePost\",\n        post: newPost,\n        userFollowings: userCurrent?.followings,\n        message: `${userCurrent?.userName} just edit a new post`,\n      });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const handleClose = () => {\n    setImages(post?.images);\n    setDesc(post?.desc || \"\");\n    setFiles([]);\n    setIsEdit(false);\n  };\n\n  return (\n    <>\n      <Modal show={true} onHide={handleClose} className=\"modalEditContainer\">\n        <Modal.Header closeButton>\n          <Modal.Title>Edit Post</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className={\"modalEditPostBody\"}>\n          <div className=\"editDescPost\">\n            <textarea\n              className=\"editDescPostInput\"\n              value={desc}\n              onChange={(e) => setDesc(e.target.value)}\n              autoFocus\n              row={1000}\n            ></textarea>\n          </div>\n\n          <div className=\"editImgPost\">\n            <div className=\"editImgPostTop\">\n              <div className=\"shareOption\">\n                <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n                <span className=\"shareOptionText\">Posted photo</span>\n              </div>\n            </div>\n\n            <div className=\"disPlayImgCreateComment\">\n              {images.map((image) => (\n                <div className=\"imgContainer\" key={image.url}>\n                  <DisplayImg image={image.url} setImages={setImages} />\n                </div>\n              ))}\n            </div>\n\n            <ChooseImage\n              setIsTakePhoto={setIsTakePhoto}\n              isTakePhoto={isTakePhoto}\n              files={files}\n              id={id.current}\n              multiple={true}\n              setFiles={setFiles}\n            />\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={() => {\n              updatePost();\n              handleClose();\n            }}\n          >\n            Save Changes\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default ModalEditPost;\n","import \"./post.css\";\nimport { useEffect, useState, useRef } from \"react\";\nimport * as timeago from \"timeago.js\";\nimport { STORE_IMG } from \"../../contants/imgContant\";\nimport Comment from \"../comment/Comment\";\nimport CreateComment from \"../form/createComment/CreateComment\";\nimport CrudPost from \"./CrudPost\";\nimport Avatar from \"../avatar/Avatar\";\nimport ModalEditPost from \"../modal/ModalEditPost\";\nimport ModalConfirmDelete from \"../modal/ModalConfirmDelete\";\nimport { toast } from \"react-toastify\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { debounce } from \"../../helpers/debounceFunction\";\nimport { useSelector } from \"react-redux\";\nimport {\n  getDataAPI,\n  putDataAPI,\n  postDataAPI,\n  deleteDataAPI,\n} from \"../../api/fetchData\";\nimport { imageUpload } from \"../../helpers/image\";\nimport useCheckOnline from \"../../hooks/useCheckOnline\";\n\nexport default function Post({ post, setPosts, className }) {\n  const [like, setLike] = useState(post?.likes.length);\n  const [isLiked, setIsLiked] = useState(false);\n  const [user, setUser] = useState({});\n  const [isComment, setIsComment] = useState(false);\n  const [comments, setComments] = useState([]);\n  const [isShowComment, setIsShowComment] = useState(false);\n  const [isCrudPost, setIsCrudPost] = useState(false);\n  const [isEdit, setIsEdit] = useState(false);\n  const [files, setFiles] = useState([]);\n\n  const { socket } = useSelector((state) => state.network);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const idCreateComment = useRef(uuidv4());\n\n  useEffect(() => {\n    const handleCheckClick = (e) => {\n      if (isCrudPost) {\n        setIsCrudPost(false);\n      }\n    };\n\n    document.body.addEventListener(\"click\", handleCheckClick);\n\n    return () => document.body.removeEventListener(\"click\", handleCheckClick);\n  }, [isCrudPost]);\n\n  useEffect(() => {\n    setIsLiked(post?.likes.includes(userCurrent._id));\n    setLike(post?.likes.length);\n  }, [post?.likes, userCurrent?._id]);\n\n  useEffect(() => {\n    let isMount = true;\n    const getComments = async () => {\n      try {\n        const response = await getDataAPI(`/post/get-all-comment/${post?._id}`);\n\n        const { message, comments } = response;\n\n        if (isMount) setComments(comments);\n\n        // toast.success(message, { autoClose: 2000 });\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    };\n\n    if (isShowComment) getComments();\n\n    return () => (isMount = false);\n  }, [isShowComment, post?.comments]);\n\n  useEffect(() => {\n    let isMount = true;\n\n    if (userCurrent?._id !== post?.userId) {\n      const fetchUser = async () => {\n        try {\n          const response = await getDataAPI(`/user?userId=${post?.userId}`);\n\n          const { user } = response;\n          setUser(user);\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      };\n      fetchUser();\n    } else {\n      if (isMount) setUser(userCurrent);\n    }\n\n    return () => (isMount = false);\n  }, [userCurrent, post?.userId]);\n\n  useEffect(() => {\n    const handleUpdateLikePost = ({ type, message, postId }) => {\n      if (post?._id !== postId) return;\n\n      setLike((prev) => (type === \"like\" ? prev + 1 : prev - 1));\n    };\n\n    const handleUpdateCmtPost = ({ message, postId, type, comment }) => {\n      if (post?._id !== postId) return;\n\n      setComments((prev) =>\n        type === \"remove\"\n          ? prev.filter((commentPost) => commentPost?._id !== comment?._id)\n          : type === \"update\"\n          ? prev.map((commentPost) =>\n              commentPost?._id !== comment?._id ? commentPost : comment\n            )\n          : [comment, ...prev]\n      );\n    };\n\n    if (socket) {\n      socket.on(\"updateLikePost\", handleUpdateLikePost);\n      socket.on(\"updateCommentPost\", handleUpdateCmtPost);\n    }\n\n    return () => {\n      socket?.off(\"getNotify\", handleUpdateLikePost);\n      socket?.off(\"updateCommentPost\", handleUpdateCmtPost);\n    };\n  }, [socket]);\n\n  const likeHandler = async () => {\n    try {\n      const response = isLiked\n        ? await putDataAPI(`/post/dislike-post/${post._id}`, {\n            userId: userCurrent._id,\n          })\n        : await putDataAPI(`/post/like-post/${post._id}`, {\n            userId: userCurrent._id,\n          });\n      const { message } = response;\n      toast.success(message, { autoClose: 2000 });\n\n      if (!isLiked && post?.userId !== userCurrent?._id) {\n        const responseCreateNotification = await postDataAPI(\"/notification\", {\n          link: \"/post/\" + post?._id,\n          receiverId: post?.userId,\n          text: userCurrent?.userName + \" liked on your post\",\n          senderId: userCurrent?._id,\n        });\n\n        const { notification } = responseCreateNotification;\n\n        socket?.emit(\"createNotification\", { notification });\n      }\n      setIsLiked((prev) => !prev);\n      setLike((prev) => (isLiked ? prev - 1 : prev + 1));\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const handleCreateComment = async (e, text) => {\n    e.preventDefault();\n    try {\n      const commentInfo = {\n        postId: post?._id,\n        userId: userCurrent?._id,\n        text,\n        images: [],\n      };\n\n      const images = await imageUpload(files);\n      commentInfo.images = [...images];\n\n      const response = await postDataAPI(`/comment`, commentInfo);\n\n      const { comment, message } = response;\n\n      const responseAddToPost = await postDataAPI(\n        `/post/add-comment/${post?._id}`,\n        {\n          commentId: comment?._id,\n        }\n      );\n\n      toast.success(message, { autoClose: 2000 });\n\n      const responseCreateNotification = await postDataAPI(\"/notification\", {\n        link: \"/post/\" + post?._id,\n        receiverId: post?.userId,\n        text: userCurrent?.userName + \" commented on your post\",\n        senderId: userCurrent?._id,\n      });\n\n      const { notification } = responseCreateNotification;\n\n      socket?.emit(\"createNotification\", { notification });\n\n      // socket?.emit(\"commentPostHandler\", {\n      //   comment,\n      //   postId: post?._id,\n      //   userPost: post.userId,\n      //   message: userCurrent?.userName + \" commented on your post\",\n      // });\n\n      setComments((prev) => [comment, ...prev]);\n      setFiles([]);\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const handleRemovePost = async () => {\n    try {\n      const response = await deleteDataAPI(`/post/${post?._id}`);\n\n      const { message } = response;\n\n      toast.success(message, { autoClose: 2000 });\n\n      setPosts((prev) => prev.filter((item) => item._id !== post?._id));\n\n      socket.emit(\"postHandler\", {\n        type: \"remove\",\n        post,\n        userFollowings: userCurrent?.followings,\n        message: `${userCurrent?.userName} just edit a new post`,\n      });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <>\n      <div className={className ? className : \"post\"}>\n        <div className=\"postWrapper\">\n          <div className=\"postTop\">\n            <div className=\"postTopLeft\">\n              <Avatar user={user} width=\"50px\" height=\"50px\" />\n\n              <span className=\"postUsername\">{user?.userName}</span>\n              <span className=\"postDate\">\n                {timeago.format(post?.createdAt)}\n              </span>\n            </div>\n\n            {post?.userId === userCurrent?._id && (\n              <div className=\"postTopRight\">\n                <span\n                  className=\"CrudPost\"\n                  onClick={() => setIsCrudPost(!isCrudPost)}\n                >\n                  <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAFBJREFUSEtjZKAxYKSx+Qwjy4L/aMFJlO+JUgQ1eNQC2iRYUuKALBeQYsFoJBMMYpoHEUEXYFNASiTT3AKaB9GoBWTFIUFNgyoVEXTtgOQDAEM9DBleh0KcAAAAAElFTkSuQmCC\" />\n                </span>\n\n                {isCrudPost && (\n                  <div className=\"postCrudAction\">\n                    <CrudPost id={post?._id} setIsEdit={setIsEdit} />\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          <div className=\"postCenter\">\n            <span className=\"postText\">{post?.desc}</span>\n            <div className=\"postImgContainer\">\n              {post?.images.map((image, idx) => {\n                return (\n                  <div\n                    className=\"postImg\"\n                    key={image.url}\n                    style={{\n                      width: `${\n                        post.images.length % 2 !== 0\n                          ? idx === post.images.length - 1\n                            ? \"100%\"\n                            : \"calc(100%/2)\"\n                          : \"calc(100%/2)\"\n                      }`,\n                    }}\n                  >\n                    <img src={image.url} alt=\"\" />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"postBottom\">\n            <div className=\"postBottomLeft\">\n              <img\n                className=\"likeIcon\"\n                src={`${STORE_IMG}/like.png`}\n                onClick={debounce(likeHandler, 2000)}\n                alt=\"\"\n              />\n              <img\n                className=\"likeIcon\"\n                src={`${STORE_IMG}/heart.png`}\n                onClick={debounce(likeHandler, 2000)}\n                alt=\"\"\n              />\n              <span className=\"postLikeCounter\">{like} people like it</span>\n            </div>\n            <div\n              className=\"postBottomRight\"\n              onClick={() => {\n                setIsShowComment(!isShowComment);\n                setIsComment(!isComment);\n              }}\n            >\n              <span className=\"postCommentIcon\">\n                <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAIdJREFUSEvtlcENgCAMRR+TqJs4ik6mbuIoOommRpKGoB5aPMGV9n36IZ9A4RUK89ECPTABrVF0A0ZgFY4WkI3GCI/twupSgcMJHjHX4fUEVSB1uFr0+eaqRdWiTwdeC/aYyiWySOBDLq512C13kW2OhzR1g+fi2hWeCsxetmhff/30zReaA5yXYh0Zr3VkxgAAAABJRU5ErkJggg==\" />\n              </span>\n              <span className=\"postCommentText\">comments</span>\n            </div>\n          </div>\n\n          <div className=\"commentContainer\">\n            {isComment && (\n              <CreateComment\n                id={idCreateComment.current}\n                files={files}\n                setFiles={setFiles}\n                user={user}\n                onCreateComment={handleCreateComment}\n              />\n            )}\n\n            <div className=\"displayComment\">\n              {isShowComment &&\n                comments.map((comment) => (\n                  <div className=\"comment\" key={comment._id}>\n                    <Comment\n                      setComments={setComments}\n                      post={post}\n                      comment={comment}\n                    />\n                  </div>\n                ))}\n            </div>\n          </div>\n        </div>\n\n        {isEdit && (\n          <ModalEditPost\n            setPosts={setPosts}\n            setIsEdit={setIsEdit}\n            post={post}\n          />\n        )}\n      </div>\n\n      <ModalConfirmDelete\n        onRemove={handleRemovePost}\n        id={post?._id}\n        text=\"this post ?\"\n      />\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport ChooseImage from \"../chooseImage/ChooseImage\";\nimport { useDispatch } from \"react-redux\";\n\nconst ModalChooseImage = ({\n  height,\n  width,\n  id,\n  text,\n  multiple,\n  typeImage,\n  onSave,\n}) => {\n  const [files, setFiles] = useState([]);\n  const [isTakePhoto, setIsTakePhoto] = useState(false);\n\n  const handleSave = () => {\n    onSave(files, typeImage);\n    setFiles([]);\n    setIsTakePhoto(false);\n  };\n\n  return (\n    <>\n      <div\n        className=\"modal fade\"\n        id={id}\n        tabIndex=\"-1\"\n        role=\"dialog\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className={`modal-dialog chooseImgage`} role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                {`${text}`}\n              </h5>\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n                onClick={() => {\n                  setIsTakePhoto(false);\n                }}\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <ChooseImage\n                setIsTakePhoto={setIsTakePhoto}\n                isTakePhoto={isTakePhoto}\n                files={files}\n                height={height}\n                width={width}\n                setFiles={setFiles}\n                multiple={multiple}\n                id={id}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-danger\"\n                onClick={handleSave}\n                data-dismiss=\"modal\"\n              >\n                Save\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-dismiss=\"modal\"\n                onClick={() => {\n                  setIsTakePhoto(false);\n                }}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ModalChooseImage;\n","import \"./share.css\";\nimport { PermMedia, Label, Room, EmojiEmotions } from \"@material-ui/icons\";\nimport { useState, useRef } from \"react\";\nimport { NO_AVATAR } from \"../../contants/imgContant\";\nimport { toast } from \"react-toastify\";\nimport DisplayImg from \"../displayimg/DisplayImg\";\nimport { Link } from \"react-router-dom\";\nimport { postDataAPI } from \"../../api/fetchData\";\nimport { useSelector } from \"react-redux\";\nimport ModalChooseImage from \"../modal/ModalChooseImage\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { imageUpload } from \"../../helpers/image\";\nimport Avatar from \"../avatar/Avatar\";\n\nexport default function Share({ setPosts }) {\n  const { socket } = useSelector((state) => state.network);\n  const { userCurrent } = useSelector((state) => state.auth);\n  const [shareing, setShearing] = useState(false);\n\n  const [files, setFiles] = useState([]);\n  const descRef = useRef();\n  const id = useRef(uuidv4());\n\n  const handleSaveImages = (files) => {\n    setFiles((prev) => [...prev, ...files]);\n  };\n\n  const handleCreatePost = async (e) => {\n    e.preventDefault();\n    if (shareing) return;\n\n    if (!files.length && !descRef.current.value) {\n      return toast.info(\"Please enter information to create a post\", {\n        autoClose: 1000,\n      });\n    }\n    setShearing(true);\n\n    const newPost = {\n      desc: descRef.current.value,\n      userId: userCurrent?._id,\n      images: [],\n    };\n\n    const images = await imageUpload(files);\n\n    newPost.images = images;\n    try {\n      const response = await postDataAPI(\"/post\", newPost);\n      const { message, post } = response;\n\n      descRef.current.value = \"\";\n      toast.success(message, { autoClose: 2000 });\n\n      const responses = await Promise.all(\n        userCurrent.followings.map((userFollowingId) =>\n          postDataAPI(\"/notification\", {\n            link: \"/post/\" + post?._id,\n            receiverId: userFollowingId,\n            text: userCurrent?.userName + \" created a new post\",\n            senderId: userCurrent?._id,\n          })\n        )\n      );\n\n      const dataEmit = [];\n      responses.forEach((response) =>\n        dataEmit.push(response?.data?.notification)\n      );\n\n      socket?.emit(\"createPost\", {\n        dataEmit,\n      });\n\n      setPosts((prev) => [post, ...prev]);\n      setFiles([]);\n      setShearing(false);\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <div className=\"share\">\n      <div className=\"shareWrapper\">\n        <div className=\"shareTop\">\n          <Avatar user={userCurrent} width=\"50px\" height=\"50px\" />\n\n          <input\n            required\n            placeholder={`What's in your mind ${userCurrent?.userName} ?`}\n            className=\"shareInput\"\n            ref={descRef}\n          />\n        </div>\n        <hr className=\"shareHr\" />\n        <form className=\"\" onSubmit={handleCreatePost}>\n          <div className=\"shareBottom\">\n            <div className=\"shareOptions\">\n              <button\n                type={\"button\"}\n                data-target={`#${id.current}`}\n                data-toggle=\"modal\"\n                className=\"shareOption\"\n                style={{\n                  border: 0,\n                  outline: 0,\n                  backgroundColor: \"transparent\",\n                }}\n              >\n                <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n                <span className=\"shareOptionText\">Photo or Video</span>\n              </button>\n              <div className=\"shareOption\">\n                <Label htmlColor=\"blue\" className=\"shareIcon\" />\n                <span className=\"shareOptionText\">Tag</span>\n              </div>\n              <div className=\"shareOption\">\n                <Room htmlColor=\"green\" className=\"shareIcon\" />\n                <span className=\"shareOptionText\">Location</span>\n              </div>\n              <div className=\"shareOption\">\n                <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\" />\n                <span className=\"shareOptionText\">Feelings</span>\n              </div>\n            </div>\n            <button\n              type={\"submit\"}\n              className={`shareButton ${shareing ? \"isShareing\" : \"\"}`}\n            >\n              Share\n            </button>\n          </div>\n\n          <div className=\"shareImgContainer\">\n            {files.map((file) => {\n              return (\n                <div className=\"imgContainer\" key={file.uuid}>\n                  <DisplayImg file={file} setFiles={setFiles} />\n                </div>\n              );\n            })}\n          </div>\n        </form>\n      </div>\n      <ModalChooseImage\n        onSave={handleSaveImages}\n        height={\"150px\"}\n        multiple={true}\n        id={id.current}\n        text={\"Choose a photo for the post\"}\n      />\n    </div>\n  );\n}\n","import Post from \"../post/Post\";\nimport Share from \"../share/Share\";\nimport \"./feed.css\";\nimport { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { getDataAPI } from \"../../api/fetchData\";\n\nexport default function Feed({ userName }) {\n  const [posts, setPosts] = useState([]);\n\n  const { socket } = useSelector((state) => state.network);\n\n  const { userCurrent, accessToken } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    const handleUpdateFeed = ({ post, type, message }) => {\n      toast.info(message, { autoClose: 2000 });\n\n      setPosts((prev) =>\n        type === \"removePost\"\n          ? prev.filter((postFeed) => postFeed?._id !== post?._id)\n          : type === \"updatePost\"\n          ? prev.map((postFeed) =>\n              postFeed?._id !== post?._id ? postFeed : post\n            )\n          : [post, ...prev]\n      );\n    };\n\n    if (socket) {\n      socket.on(\"updateFeed\", handleUpdateFeed);\n    }\n\n    return () => {\n      socket?.off(\"updateFeed\", handleUpdateFeed);\n    };\n  }, [socket]);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const fetchPosts = async () => {\n      try {\n        if (userName || userCurrent?._id) {\n          const response = userName\n            ? await getDataAPI(`/post/profile/${userName}`)\n            : await getDataAPI(`/post/get-all-post/${userCurrent?._id}`);\n\n          const { posts } = response;\n          if (isMount) {\n            setPosts(\n              posts.sort(\n                (p1, p2) => new Date(p2.createdAt) - new Date(p1.createdAt)\n              )\n            );\n          }\n        }\n      } catch (err) {}\n    };\n    fetchPosts();\n\n    return () => (isMount = false);\n  }, [userName, userCurrent?._id]);\n\n  return (\n    <div className=\"feedWrapper\">\n      {(!userName || userName === userCurrent?.userName) && (\n        <Share setPosts={setPosts} />\n      )}\n      {posts.map((p) => (\n        <Post setPosts={setPosts} key={p._id} post={p} />\n      ))}\n    </div>\n  );\n}\n","import \"./editProfile.scss\";\n\nimport React, { useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { toast } from \"react-toastify\";\nimport { patchDataAPI } from \"../../api/fetchData\";\nimport { UPDATE_USER } from \"../../redux/actions\";\n\nconst EditProfile = ({ onEdit }) => {\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  const dispatch = useDispatch();\n\n  const nameRef = useRef();\n  const phoneRef = useRef();\n  const addressRef = useRef();\n  const descRef = useRef();\n  const relationshipRef = useRef();\n\n  const updateUser = async (e) => {\n    e.preventDefault();\n\n    if (!nameRef.current.value) {\n      return toast.error(\"This field cannot be left blank\", {\n        autoClose: 1000,\n      });\n    }\n\n    try {\n      const data = {\n        userName: nameRef.current.value,\n        phone: phoneRef.current.value,\n        address: addressRef.current.value,\n        relationship: relationshipRef.current.value,\n        desc: descRef.current.value,\n        userId: userCurrent?._id,\n      };\n\n      const response = await patchDataAPI(\"/user/update-user\", data);\n\n      const { message, user: userUpdate } = response;\n\n      dispatch({\n        type: UPDATE_USER,\n        payload: userUpdate,\n      });\n\n      onEdit(false);\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <form className=\"edit-profile\" onSubmit={updateUser}>\n      <div className=\"page\">\n        <label className=\"field field_v1\">\n          <input\n            defaultValue={userCurrent?.userName || \"\"}\n            ref={nameRef}\n            className=\"field__input\"\n            placeholder=\"e.g Coder Noob\"\n          />\n          <span className=\"field__label-wrap\">\n            <span className=\"field__label\">Full name</span>\n          </span>\n        </label>\n        <label className=\"field field_v2\">\n          <input\n            defaultValue={userCurrent?.email}\n            className=\"field__input\"\n            placeholder=\"abc@gmail.com\"\n            disabled\n          />\n          <span className=\"field__label-wrap\">\n            <span className=\"field__label\">Email</span>\n          </span>\n        </label>\n        <label className=\"field field_v3\">\n          <input\n            defaultValue={userCurrent?.address || \"\"}\n            ref={addressRef}\n            className=\"field__input\"\n            placeholder=\"e.g Nam Dinh, Viet Nam\"\n          />\n          <span className=\"field__label-wrap\">\n            <span className=\"field__label\">Address</span>\n          </span>\n        </label>\n        <label className=\"field field_v2\">\n          <input\n            defaultValue={userCurrent?.phone || \"\"}\n            ref={phoneRef}\n            className=\"field__input\"\n            placeholder=\"e.g (+84) 0399738474\"\n          />\n          <span className=\"field__label-wrap\">\n            <span className=\"field__label\">Phone</span>\n          </span>\n        </label>\n        <label className=\"field field_v3\">\n          <input\n            defaultValue={userCurrent?.desc || \"\"}\n            ref={descRef}\n            className=\"field__input\"\n            placeholder=\"Fill in what you like\"\n          />\n          <span className=\"field__label-wrap\">\n            <span className=\"field__label\">Description</span>\n          </span>\n        </label>\n        <div className=\"input-group mb-3\">\n          <div className=\"input-group-prepend\">\n            <label className=\"input-group-text\" htmlFor=\"inputGroupSelect01\">\n              Relationship\n            </label>\n          </div>\n          <select\n            ref={relationshipRef}\n            className=\"custom-select\"\n            id=\"inputGroupSelect01\"\n          >\n            <option value=\"\" selected>\n              Choose...\n            </option>\n            <option value=\"Single\">Single</option>\n            <option value=\"Get married\">Get married</option>\n            <option value=\"Dating\">Dating</option>\n            <option value=\"In a complicated relationship\">\n              In a complicated relationship\n            </option>\n          </select>\n        </div>\n      </div>\n      <div className=\"linktr\">\n        <button\n          type=\"button\"\n          className=\"btn btn-danger\"\n          onClick={() => onEdit(false)}\n        >\n          Cancel\n        </button>\n        <button className=\"btn btn-primary\" type=\"submit\">\n          Save\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default EditProfile;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst DisplayDetailInfo = ({ onEdit }) => {\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { userProfile } = useSelector((state) => state.profile);\n\n  return (\n    <div className=\"col-12\">\n      <div className=\"card mb-3\">\n        <div className=\"card-body\">\n          <div className=\"row\">\n            <div className=\"col-sm-3\">\n              <h6 className=\"mb-0\">Full Name</h6>\n            </div>\n\n            <div className=\"col-sm-9 text-secondary\">\n              {userProfile?.userName}\n            </div>\n          </div>\n          <hr />\n          <div className=\"row\">\n            <div className=\"col-sm-3\">\n              <h6 className=\"mb-0\">Email</h6>\n            </div>\n\n            <div className=\"col-sm-9 text-secondary\">{userProfile?.email}</div>\n          </div>\n          <hr />\n          <div className=\"row\">\n            <div className=\"col-sm-3\">\n              <h6 className=\"mb-0\">Phone</h6>\n            </div>\n\n            <div className=\"col-sm-9 text-secondary\">\n              {userProfile?.phone\n                ? userProfile?.phone\n                : \"Not updated information\"}\n            </div>\n          </div>\n          <hr />\n          <div className=\"row\">\n            <div className=\"col-sm-3\">\n              <h6 className=\"mb-0\">Relationship</h6>\n            </div>\n            <div className=\"col-sm-9 text-secondary\">\n              {userProfile?.relationship\n                ? userProfile?.relationship\n                : \"Not updated information\"}\n            </div>\n          </div>\n          <hr />\n          <div className=\"row\">\n            <div className=\"col-sm-3\">\n              <h6 className=\"mb-0\">Address</h6>\n            </div>\n\n            <div className=\"col-sm-9 text-secondary\">\n              {userProfile?.address\n                ? userProfile?.address\n                : \"Not updated information\"}\n            </div>\n          </div>\n          <hr />\n\n          {userProfile?._id === userCurrent?._id && (\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <button className=\"btn btn-info\" onClick={() => onEdit(true)}>\n                  Edit\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DisplayDetailInfo;\n","import React, { useState } from \"react\";\nimport EditProfile from \"./EditProfile\";\nimport DisplayDetailInfo from \"./DisplayDetailInfo\";\n\nconst AboutProfile = ({ user }) => {\n  const [isEditInfo, setIsEditInfo] = useState(false);\n\n  return (\n    <>\n      {!isEditInfo ? (\n        <DisplayDetailInfo onEdit={setIsEditInfo} />\n      ) : (\n        <EditProfile onEdit={setIsEditInfo} />\n      )}\n    </>\n  );\n};\n\nexport default AboutProfile;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { getDataAPI } from \"../../api/fetchData\";\nimport { NO_AVATAR } from \"../../contants/imgContant\";\nimport \"./displayFriendList.scss\";\nimport Carousel from \"../../components/Carousel/Carousel\";\n\nconst DisplayFriendList = () => {\n  const [friendList, setFriendList] = useState([]);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { userProfile } = useSelector((state) => state.profile);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const handleFetchFriends = async () => {\n      if (userProfile && userProfile._id) {\n        try {\n          const response = await getDataAPI(\n            `/user/get-friends/${userProfile?._id}`\n          );\n\n          const { message, friends } = response;\n          // toast.success(message, { autoClose: 2000 });\n\n          if (isMount) {\n            setFriendList(friends);\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n    handleFetchFriends();\n\n    return () => (isMount = false);\n  }, [userProfile?._id, userCurrent]);\n\n  return (\n    <div className=\"row friend-container\">\n      <Carousel>\n        {friendList.map((friend) => (\n          <div key={friend?._id} >\n            <div className=\"our-friend\">\n              <div className=\"picture\">\n                <img\n                  className=\"img-fluid\"\n                  src={\n                    (friend?.profilePicture?.length &&\n                      friend?.profilePicture[0]) ||\n                    NO_AVATAR\n                  }\n                />\n              </div>\n              <div className=\"friend-content\">\n                <p className=\"name\">{friend?.userName}</p>\n                <h4 className=\"title\">{friend?.desc}</h4>\n              </div>\n              <ul className=\"social\">\n                <li>\n                  <i className=\"fa-brands fa-facebook-square\"></i>\n                </li>\n                <li>\n                  <i className=\"fa-brands fa-twitter-square\"></i>\n                </li>\n                <li>\n                  <i className=\"fa-brands fa-youtube-square\"></i>\n                </li>\n                <li>\n                  <i className=\"fa-brands fa-github-square\"></i>\n                </li>\n              </ul>\n            </div>\n          </div>\n        ))}\n      </Carousel>\n    </div>\n  );\n};\n\nexport default DisplayFriendList;\n","import React from \"react\";\n\nconst NavProfile = ({ option, setOption }) => {\n  const options = [\"friends\", \"about\", \"posts\", \"share\", \"moreOption\"];\n\n  return (\n    <ul className=\"nav\">\n      {options.map((el) => (\n        <li\n          key={el}\n          className={`${option === el ? \"choose\" : \"\"}`}\n          onClick={() => setOption(el)}\n        >\n          {el[0].toUpperCase() + el.slice(1)}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default NavProfile;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { putDataAPI } from \"../../api/fetchData\";\nimport { FOLLOW, UN_FOLLOW } from \"../../redux/actions\";\n\nconst ButtonFollow = () => {\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { userProfile } = useSelector((state) => state.profile);\n\n  const [followed, setFollowed] = useState(\n    () => userCurrent?.followings.includes(userProfile?._id) || false\n  );\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (userCurrent) {\n      setFollowed(userCurrent?.followings.includes(userProfile?._id));\n    }\n  }, [userCurrent, userProfile]);\n\n  const handleClick = async () => {\n    if (userProfile?._id) {\n      try {\n        let response;\n        if (followed) {\n          response = await putDataAPI(`/user/unfollow/${userProfile._id}`, {\n            userId: userCurrent._id,\n          });\n\n          dispatch({\n            type: UN_FOLLOW,\n            payload: userProfile._id,\n          });\n        } else {\n          response = await putDataAPI(`/user/follow/${userProfile._id}`, {\n            userId: userCurrent._id,\n          });\n          dispatch({\n            type: FOLLOW,\n            payload: userProfile._id,\n          });\n        }\n\n        const { message } = response;\n        toast.success(message, { autoClose: 2000 });\n        setFollowed(!followed);\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    }\n  };\n\n  return (\n    <button\n      className=\"card__action__button card__action--follow\"\n      onClick={handleClick}\n    >\n      {followed ? \"Unfollow\" : \"Follow\"}\n    </button>\n  );\n};\n\nexport default ButtonFollow;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport {\n  getDataAPI,\n  postDataAPI,\n  putDataAPI,\n  deleteDataAPI,\n} from \"../../api/fetchData\";\nimport ModalConfirmDelete from \"../../components/modal/ModalConfirmDelete\";\nimport {\n  ADD_FRIEND,\n  REMOVE_FRIEND,\n  SET_STATUS_FRIEND,\n} from \"../../redux/actions\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst ButtonFriend = () => {\n  const [friendRequest, setFriendRequest] = useState();\n  const [statusFriend, setStatusFriend] = useState(\"\");\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { userProfile, isFriend } = useSelector((state) => state.profile);\n\n  const { socket } = useSelector((state) => state.network);\n\n  const idModalRemoveFriendRequest = useRef(uuidv4());\n  const idModal = useRef(uuidv4());\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const addListFriend = (userId) => {\n      dispatch({\n        type: ADD_FRIEND,\n        payload: userId,\n      });\n    };\n\n    const removeListFriend = (userId) => {\n      dispatch({\n        type: REMOVE_FRIEND,\n        payload: userId,\n      });\n    };\n\n    const updateStatus = ({ status, friendRequest }) => {\n      if (!status) {\n        setStatusFriend(\"\");\n        setFriendRequest();\n      } else {\n        setStatusFriend(status);\n        setFriendRequest(friendRequest);\n      }\n    };\n\n    if (socket) {\n      socket.on(\"addListFriend\", addListFriend);\n      socket.on(\"removeListFriend\", removeListFriend);\n      socket.on(\"updateStatus\", updateStatus);\n    }\n\n    return () => {\n      socket?.off(\"addListFriend\", addListFriend);\n      socket?.off(\"removeListFriend\", removeListFriend);\n      socket?.off(\"updateStatus\", updateStatus);\n    };\n  }, [socket]);\n\n  useEffect(() => {\n    const handleCheckStatusFriend = async () => {\n      const responses = await Promise.all([\n        getDataAPI(\n          `/friend-request?friendId=${userProfile?._id}&type=sender&status=1`\n        ),\n        getDataAPI(\n          `/friend-request?friendId=${userProfile?._id}&type=receive&status=1`\n        ),\n      ]);\n\n      let status = \"\";\n\n      responses.forEach((response) => {\n        const { message, friendRequestDb, type } = response;\n\n        if (friendRequestDb) {\n          setFriendRequest(friendRequestDb);\n          status = type;\n        }\n      });\n\n      return status;\n    };\n\n    const handleSetStatusFriend = async () => {\n      if (userProfile && userCurrent) {\n        if (isFriend) {\n          setStatusFriend(\"friend\");\n        } else {\n          const status = await handleCheckStatusFriend();\n          setStatusFriend(status);\n        }\n      }\n    };\n\n    handleSetStatusFriend();\n  }, [userProfile, userCurrent]);\n\n  const createFriendRequest = async () => {\n    try {\n      const response = await postDataAPI(\"/friend-request\", {\n        receiverId: userProfile?._id,\n      });\n\n      const { message, friendRequestDb } = response;\n\n      toast.success(message, { autoClose: 1000 });\n\n      setFriendRequest(friendRequestDb);\n      setStatusFriend(\"sender\");\n\n      socket?.emit(\"changeFriendRequest\", {\n        friendId: userProfile?._id,\n        friendRequest: friendRequestDb,\n        status: \"receiver\",\n      });\n\n      const responseCreateNotification = await postDataAPI(\"/notification\", {\n        link: `/profile/${userCurrent?._id}`,\n        receiverId: userProfile?._id,\n        text: userCurrent?.userName + \" sent a friend request\",\n        senderId: userCurrent?._id,\n      });\n\n      const { notification } = responseCreateNotification;\n\n      socket?.emit(\"createNotification\", { notification });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const removeFriendRequest = async () => {\n    try {\n      if (friendRequest) {\n        const response = await deleteDataAPI(\n          `/friend-request/${friendRequest?._id}`\n        );\n\n        const { message } = response;\n\n        // toast.success(message, { autoClose: 1000 });\n\n        setFriendRequest();\n        setStatusFriend(\"\");\n\n        socket?.emit(\"changeFriendRequest\", {\n          friendId: userProfile?._id,\n          status: \"\",\n        });\n      } else {\n        toast.error(\"An error occurred while making this request!!!\", {\n          autoClose: 1000,\n        });\n      }\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const refuseFriendRequest = async () => {\n    try {\n      if (friendRequest) {\n        const response = await putDataAPI(`/friend-request/refuse-request`, {\n          friendRequestId: friendRequest?._id,\n        });\n\n        const { message } = response;\n\n        toast.success(message, { autoClose: 1000 });\n\n        setFriendRequest();\n        setStatusFriend(\"\");\n\n        socket?.emit(\"changeFriendRequest\", {\n          friendId: userProfile?._id,\n          status: \"\",\n        });\n      } else {\n        toast.error(\"An error occurred while making this request!!!\", {\n          autoClose: 1000,\n        });\n      }\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const acceptFriendRequest = async () => {\n    try {\n      if (friendRequest) {\n        const response = await putDataAPI(\n          `/friend-request/accept-friend-request`,\n          {\n            friendId: userProfile?._id,\n            friendRequestId: friendRequest?._id,\n          }\n        );\n\n        const { message } = response;\n\n        toast.success(message, { autoClose: 1000 });\n\n        setFriendRequest();\n        setStatusFriend(\"friend\");\n\n        dispatch({\n          type: ADD_FRIEND,\n          payload: userProfile?._id,\n        });\n\n        dispatch({\n          type: SET_STATUS_FRIEND,\n          payload: true,\n        });\n\n        const responseCreateNotification = await postDataAPI(\"/notification\", {\n          link: `/profile/${userCurrent?._id}`,\n          receiverId: userProfile?._id,\n          text: userCurrent?.userName + \" has accept friend request\",\n          senderId: userCurrent?._id,\n        });\n\n        const { notification } = responseCreateNotification;\n\n        socket?.emit(\"acceptFriendRequest\", {\n          friendId: userProfile?._id,\n          userId: userCurrent?._id,\n          notification,\n        });\n      } else {\n        toast.error(\"An error occurred while making this request!!!\", {\n          autoClose: 1000,\n        });\n      }\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const unFriend = async () => {\n    try {\n      if (!friendRequest && statusFriend === \"friend\") {\n        const response = await putDataAPI(`/friend-request/unfriend`, {\n          friendId: userProfile?._id,\n        });\n\n        const { message } = response;\n\n        toast.success(message, { autoClose: 1000 });\n\n        setStatusFriend(\"\");\n\n        dispatch({\n          type: REMOVE_FRIEND,\n          payload: userProfile?._id,\n        });\n\n        dispatch({\n          type: SET_STATUS_FRIEND,\n          payload: false,\n        });\n\n        socket?.emit(\"removeFriend\", {\n          friendId: userProfile?._id,\n          userId: userCurrent?._id,\n        });\n      } else {\n        toast.error(\"An error occurred while making this request!!!\", {\n          autoClose: 1000,\n        });\n      }\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  return (\n    <>\n      {statusFriend ? (\n        statusFriend === \"friend\" ? (\n          <>\n            <button className=\"card__action__button card__action--friend\">\n              friend\n            </button>\n\n            <button\n              data-toggle=\"modal\"\n              data-target={`#${idModal.current}`}\n              className=\"card__action__button card__action--unfriend\"\n            >\n              Unfriend\n            </button>\n          </>\n        ) : (\n          <>\n            {statusFriend === \"sender\" ? (\n              <>\n                <button\n                  data-toggle=\"modal\"\n                  data-target={`#${idModalRemoveFriendRequest.current}`}\n                  className=\"card__action__button card__action--deleteRequestFriend\"\n                >\n                  Cancel friend request\n                </button>\n              </>\n            ) : (\n              <>\n                <button\n                  className=\"card__action__button card__action--acceptFriendRequset\"\n                  onClick={acceptFriendRequest}\n                >\n                  Accept friend request\n                </button>\n\n                <button\n                  className=\"card__action__button card__action--refuseFriendRequset\"\n                  onClick={refuseFriendRequest}\n                >\n                  Refuse friend request\n                </button>\n              </>\n            )}\n          </>\n        )\n      ) : (\n        <>\n          <button\n            className=\"card__action__button card__action--addFriend\"\n            onClick={createFriendRequest}\n          >\n            add friend\n          </button>\n        </>\n      )}\n\n      <ModalConfirmDelete\n        id={idModalRemoveFriendRequest.current}\n        text={\"Are you sure you want to cancel this friend request?\"}\n        onRemove={removeFriendRequest}\n      />\n\n      <ModalConfirmDelete\n        id={idModal.current}\n        text={`You definitely want to unfriend ${userProfile?.userName}`}\n        onRemove={unFriend}\n      />\n    </>\n  );\n};\n\nexport default ButtonFriend;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  ADD_CONVERSATION,\n  ADD_CONVERSATION_ACCEPTS,\n  ADD_STATUS_CONVERSATION,\n  SET_CHAT,\n  SET_CONVERSATION_CHAT,\n  SET_NEW_CONVERSATION_CHAT,\n} from \"../../redux/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDataAPI } from \"../../api/fetchData\";\n\nconst ButtonMessage = () => {\n  const [isClick, setIsClick] = useState(false);\n\n  const { userProfile, isFriend } = useSelector((state) => state.profile);\n\n  const { listConversation, isChat, conversationChat } = useSelector(\n    (state) => state.chat\n  );\n\n  useEffect(() => {\n    if (isClick && isChat && listConversation) {\n      handleSetConversationChat();\n    }\n  }, [isChat, listConversation, isClick]);\n\n  const handleSetConversationChat = async () => {\n    if (!userProfile) return;\n    try {\n      const response = await getDataAPI(\n        `conversation?receiverId=${userProfile?._id}&isFriend=${\n          isFriend ? true : false\n        }`\n      );\n\n      const { message, conversation } = response;\n\n      if (conversation?._id === conversationChat?._id) return;\n\n      if (!listConversation?.find((item) => item?._id === conversation?._id)) {\n        dispatch({\n          type: ADD_CONVERSATION,\n          payload: { conversation },\n        });\n      }\n\n      dispatch({\n        type: SET_NEW_CONVERSATION_CHAT,\n        payload: { conversationChat: conversation },\n      });\n    } catch (err) {\n      console.log(\"err\", err);\n    }\n  };\n\n  const dispatch = useDispatch();\n\n  return (\n    <button\n      className=\"card__action__button card__action--message\"\n      onClick={() => {\n        setIsClick(true);\n        dispatch({\n          type: SET_CHAT,\n          payload: {\n            isChat: true,\n          },\n        });\n      }}\n    >\n      message\n    </button>\n  );\n};\n\nexport default ButtonMessage;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport ButtonFollow from \"./ButtonFollow\";\nimport ButtonFriend from \"./ButtonFriend\";\nimport ButtonMessage from \"./ButtonMessage\";\nimport \"./profileButtonActions.scss\";\n\nconst ProfileButtonAction = () => {\n  const { isMe } = useSelector((state) => state.profile);\n\n  return (\n    <>\n      {!isMe ? (\n        <div className=\"card-profile__action\">\n          <ButtonFriend />\n          <ButtonFollow />\n          <ButtonMessage />\n        </div>\n      ) : (\n        <></>\n      )}\n    </>\n  );\n};\n\nexport default ProfileButtonAction;\n","import React, { useEffect, useState } from \"react\";\nimport AboutProfile from \"./AboutProfile\";\nimport DisplayFriendList from \"./DisplayFriendList\";\nimport NavProfile from \"./NavProfile\";\nimport ProfileButtonActions from \"./ProfileButtonActions\";\n\nconst ProfileRight = () => {\n  const [option, setOption] = useState(\"friends\");\n\n  return (\n    <div className=\"right col-lg-8\">\n      <ProfileButtonActions  />\n      <NavProfile option={option} setOption={setOption} />\n      <div className=\"display-content\">\n        {option === \"about\" && <AboutProfile />}\n        {option === \"friends\" && <DisplayFriendList />}\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileRight;\n","import React from \"react\";\nimport \"./buttonSocials.scss\";\n\nconst ButtonSocials = () => {\n  return (\n    <ul className=\"button-socials\">\n      <li>\n        <span className=\"facebook\">\n          <i className=\"fab fa-facebook \" aria-hidden=\"true\"></i>\n        </span>\n      </li>\n      <li>\n        <span className=\"twitter\">\n          <i className=\"fab fa-twitter \" aria-hidden=\"true\"></i>\n        </span>\n      </li>\n      <li>\n        <span className=\"google\">\n          <i className=\"fab fa-google-plus-g \" aria-hidden=\"true\"></i>\n        </span>\n      </li>\n      <li>\n        <span className=\"linkedin\">\n          <i className=\"fab fa-linkedin \" aria-hidden=\"true\"></i>\n        </span>\n      </li>\n      <li>\n        <span className=\"instagram\">\n          <i className=\"fab fa-instagram \" aria-hidden=\"true\"></i>\n        </span>\n      </li>\n    </ul>\n  );\n};\n\nexport default ButtonSocials;\n","import \"./updateImage.scss\";\n\nimport React from \"react\";\nimport { PermMedia } from \"@material-ui/icons\";\n\nconst UpdateImage = ({ text, id, type }) => {\n  return (\n    <div className={`updateImage ${type}`}>\n      <button\n        data-toggle=\"modal\"\n        data-target={`#${id}`}\n        className=\"shareOption\"\n      >\n        <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n        <span className=\"shareOptionText\">{text}</span>\n      </button>\n    </div>\n  );\n};\n\nexport default UpdateImage;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Avatar from \"../../components/avatar/Avatar\";\nimport ButtonSocials from \"../../components/buttonSocials/ButtonSocials\";\nimport UpdateImage from \"../../components/UpdateImage/UpdateImage\";\n\nconst ProfileLeft = ({ idAvatar }) => {\n  const { userProfile } = useSelector((state) => state.profile);\n  const { userCurrent } = useSelector((state) => state.auth);\n\n  return (\n    <div className=\"left col-lg-4\">\n      <div className=\"photo-left\">\n        <Avatar\n          className=\"profile\"\n          width={\"200px\"}\n          height={\"200px\"}\n          user={userProfile}\n          isShowOffline={false}\n          link={false}\n        />\n        {userProfile?._id === userCurrent?._id && (\n          <UpdateImage id={idAvatar.current} type=\"avatar\" />\n        )}\n      </div>\n      <h4 className=\"name\">{userProfile?.userName}</h4>\n      <p className=\"info\">{userProfile?.email}</p>\n      <div className=\"stats row\">\n        <div className=\"stat col-4\">\n          <p className=\"number-stat\">{userProfile?.followers?.length}</p>\n          <p className=\"desc-stat\">Followers</p>\n        </div>\n        <div className=\"stat col-4\">\n          <p className=\"number-stat\">{userProfile?.followings?.length}</p>\n          <p className=\"desc-stat\">Following</p>\n        </div>\n        <div className=\"stat col-4\">\n          <p className=\"number-stat\">{userProfile?.friends?.length}</p>\n          <p className=\"desc-stat\">Friend</p>\n        </div>\n      </div>\n      <p className=\"desc\">{userProfile?.desc}</p>\n\n      <ButtonSocials />\n      {/* <div className=\"social\"> */}\n      {/* <i className=\"fa-brands fa-facebook-square\"></i>\n        <i className=\"fa-brands fa-twitter-square\"></i>\n        <i className=\"fa-brands fa-youtube-square\"></i>\n        <i className=\"fa-brands fa-github-square\"></i> */}\n      {/* </div> */}\n    </div>\n  );\n};\n\nexport default ProfileLeft;\n","import \"./friend.scss\";\nimport { toast } from \"react-toastify\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"../avatar/Avatar\";\nimport useCheckOnline from \"../../hooks/useCheckOnline\";\n\nexport default function Friend({ friend }) {\n  return (\n    <Link to={\"/profile/\" + friend?._id} className=\"rightbarFriend\">\n      <div className=\"rightbarProfileImgContainer\">\n        <Avatar user={friend} link={false} />\n      </div>\n      <span className=\"rightbarUsername\">{friend?.userName}</span>\n    </Link>\n  );\n}\n","import \"./rightbar.css\";\nimport Friend from \"../friend/Friend\";\nimport { useEffect, useState } from \"react\";\nimport { STORE_IMG, NO_AVATAR } from \"../../contants/imgContant\";\nimport { Link } from \"react-router-dom\";\nimport { Add, Remove } from \"@material-ui/icons\";\nimport { getDataAPI, putDataAPI } from \"../../api/fetchData\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { UN_FOLLOW, FOLLOW } from \"../../redux/actions\";\nimport { toast } from \"react-toastify\";\nimport moment from \"moment\";\n\nexport default function Rightbar({ user }) {\n  const [friendList, setFriendList] = useState([]);\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { usersOnline } = useSelector((state) => state.network);\n  const dispatch = useDispatch();\n\n  const [followed, setFollowed] = useState(() =>\n    userCurrent?.followings.includes(user?._id)\n  );\n\n  const { socket } = useSelector((state) => state.network);\n\n  useEffect(() => {\n    let isMount = true;\n\n    if (!socket) return;\n\n    const updateFriendList = ({ userDisconnectId, time }) => {\n      if (!isMount) return;\n      setFriendList((prev) =>\n        prev.map((friend) =>\n          friend?._id === userDisconnectId\n            ? {\n                ...friend,\n                lastLogin: time,\n              }\n            : friend\n        )\n      );\n    };\n\n    socket.on(\"friendLogout\", updateFriendList);\n\n    return () => {\n      isMount = false;\n      socket?.off(\"friendLogout\", updateFriendList);\n    };\n  }, [socket]);\n\n  useEffect(() => {\n    if (friendList.length) {\n      setFriendList((prev) =>\n        prev.map((friend) =>\n          usersOnline?.includes(friend?._id)\n            ? {\n                ...friend,\n                online: true,\n              }\n            : {\n                ...friend,\n                online: false,\n              }\n        )\n      );\n    }\n  }, [usersOnline]);\n\n  useEffect(() => {\n    setFollowed(userCurrent?.followings.includes(user?._id));\n  }, [userCurrent?.followings, user?._id]);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const handleFetchFriends = async () => {\n      if ((user && user._id) || (userCurrent && userCurrent._id)) {\n        try {\n          const response = await getDataAPI(\n            `/user/get-friends/${user?._id || userCurrent?._id}`\n          );\n\n          const { message, friends } = response;\n          // toast.success(message, { autoClose: 2000 });\n          const friendsUpdateStatus = friends.map((friend) =>\n            usersOnline?.includes(friend._id)\n              ? {\n                  ...friend,\n                  online: true,\n                }\n              : {\n                  ...friend,\n                  online: false,\n                }\n          );\n          if (isMount) {\n            setFriendList(friendsUpdateStatus);\n          }\n        } catch (err) {\n          console.log(\"err\", err);\n        }\n      }\n    };\n    handleFetchFriends();\n\n    return () => (isMount = false);\n  }, [user, userCurrent]);\n\n  const handleClick = async () => {\n    if (user?._id) {\n      try {\n        let response;\n        if (followed) {\n          response = await putDataAPI(`/user/unfollow/${user._id}`, {\n            userId: userCurrent._id,\n          });\n\n          dispatch({\n            type: UN_FOLLOW,\n            payload: user._id,\n          });\n        } else {\n          response = await putDataAPI(`/user/follow/${user._id}`, {\n            userId: userCurrent._id,\n          });\n          dispatch({\n            type: FOLLOW,\n            payload: user._id,\n          });\n        }\n\n        const { message } = response;\n        toast.success(message, { autoClose: 2000 });\n        setFollowed(!followed);\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    }\n  };\n\n  const HomeRightbar = () => {\n    return (\n      <>\n        <div className=\"birthdayContainer\">\n          <img className=\"birthdayImg\" src={STORE_IMG + \"gift.png\"} alt=\"\" />\n          <span className=\"birthdayText\"></span>\n        </div>\n        <img className=\"rightbarAd\" src={STORE_IMG + \"ad.png\"} alt=\"\" />\n        <h4 className=\"rightbarTitle\">Friends</h4>\n        <ul className=\"rightbarFriendList\">\n          {friendList.map((friend) => (\n            <Friend key={friend?._id} friend={friend} />\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  const ProfileRightbar = () => {\n    return (\n      <>\n        {user?.userName !== userCurrent?.userName && (\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\n            {followed ? \"Unfollow\" : \"Follow\"}\n            {followed ? <Remove /> : <Add />}\n          </button>\n        )}\n        <h4 className=\"rightbarTitle\">User information</h4>\n        <div className=\"rightbarInfo\">\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">City:</span>\n            <span className=\"rightbarInfoValue\">{user?.city}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">From:</span>\n            <span className=\"rightbarInfoValue\">{user?.from}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Relationship:</span>\n            <span className=\"rightbarInfoValue\">\n              {user?.relationships === 1\n                ? \"Single\"\n                : user?.relationships === 2\n                ? \"Marry\"\n                : \"In a complicated relationship\"}\n            </span>\n          </div>\n        </div>\n        <h4 className=\"rightbarTitle\">User friends</h4>\n        <div className=\"rightbarFollowings\">\n          {friendList.map((friend) => (\n            <div key={friend._id} className=\"rightbarFollowing\">\n              <Link to={`/profile/${friend?._id}`}>\n                <img\n                  src={\n                    (friend?.profilePicture?.length &&\n                      friend?.profilePicture[0]) ||\n                    NO_AVATAR\n                  }\n                  alt=\"\"\n                  className=\"rightbarFollowingImg\"\n                />\n              </Link>\n              <div\n                className={`active ${friend?.online ? \"online\" : \"offline\"} `}\n              >\n                8 hours\n              </div>\n              {/* <TimeOffline /> */}\n              <span className=\"rightbarFollowingName\">{friend?.userName}</span>\n            </div>\n          ))}\n        </div>\n      </>\n    );\n  };\n  return (\n    <div className=\"rightbar\">\n      {user ? <ProfileRightbar /> : <HomeRightbar />}\n    </div>\n  );\n}\n","export const generateKeywords = (displayName) => {\n  // liet ke tat cac hoan vi. vd: name = [\"David\", \"Van\", \"Teo\"]\n  // => [\"David\", \"Van\", \"Teo\"], [\"David\", \"Teo\", \"Van\"], [\"Teo\", \"David\", \"Van\"],...\n  const name = displayName.split(\" \").filter((word) => word);\n\n  const length = name.length;\n  let flagArray = [];\n  let result = [];\n  let stringArray = [];\n\n  /**\n   * khoi tao mang flag false\n   * dung de danh dau xem gia tri\n   * tai vi tri nay da duoc su dung\n   * hay chua\n   **/\n  for (let i = 0; i < length; i++) {\n    flagArray[i] = false;\n  }\n\n  const createKeywords = (name) => {\n    const arrName = [];\n    let curName = \"\";\n    name.split(\"\").forEach((letter) => {\n      curName += letter;\n      arrName.push(curName);\n    });\n    return arrName;\n  };\n\n  function findPermutation(k) {\n    for (let i = 0; i < length; i++) {\n      if (!flagArray[i]) {\n        flagArray[i] = true;\n        result[k] = name[i];\n\n        if (k === length - 1) {\n          stringArray.push(result.join(\" \"));\n        }\n\n        findPermutation(k + 1);\n        flagArray[i] = false;\n      }\n    }\n  }\n\n  findPermutation(0);\n\n  const keywords = stringArray.reduce((acc, cur) => {\n    const words = createKeywords(cur);\n    return [...acc, ...words];\n  }, []);\n\n  return keywords;\n};\n","import \"./register.css\";\nimport { register } from \"../../api/authApi\";\nimport { useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { generateKeywords } from \"../../helpers/createKeyUser\";\n\nexport default function Register() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const userNameRef = useRef();\n  const passwordAgainRef = useRef();\n\n  const navigate = useNavigate();\n\n  // const { user, isLoading, error, dispatch } = useSelector((state) => state.network);\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n\n    if (passwordRef.current.value !== passwordAgainRef.current.value) {\n      passwordAgainRef.current.setCustomValidity(\"Password don't match\");\n    } else {\n      const keys = generateKeywords(userNameRef.current.value);\n\n      register(\n        {\n          email: emailRef.current.value,\n          password: passwordRef.current.value,\n          userName: userNameRef.current.value,\n          keys,\n        },\n        navigate\n      );\n    }\n  };\n\n  return (\n    <div className=\"register\">\n      <div className=\"registerWrapper\">\n        <div className=\"registerLeft\">\n          <h3 className=\"registerLogo\">CoderNoob</h3>\n          <span className=\"registerDesc\">\n            Connect with friends and the world around you on CoderNoob.\n          </span>\n        </div>\n        <div className=\"registerRight\">\n          <form className=\"registerBox\" onSubmit={handleRegister}>\n            <input\n              required\n              ref={userNameRef}\n              placeholder=\"Username\"\n              className=\"registerInput\"\n            />\n            <input\n              required\n              ref={emailRef}\n              placeholder=\"Email\"\n              type=\"email\"\n              className=\"registerInput\"\n            />\n            <input\n              type=\"password\"\n              minLength={\"6\"}\n              required\n              ref={passwordRef}\n              placeholder=\"Password\"\n              className=\"registerInput\"\n            />\n            <input\n              type=\"password\"\n              minLength={\"6\"}\n              required\n              ref={passwordAgainRef}\n              placeholder=\"Password Again\"\n              className=\"registerInput\"\n            />\n            <button className=\"registerButton\">Sign Up</button>\n            <Link\n              to={\"/login\"}\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n              }}\n            >\n              <button className=\"registerRegisterButton\">\n                Log into Account\n              </button>\n            </Link>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./notFound.scss\";\n\nconst NotFound = () => {\n  return (\n    <div className=\"pageNotFound\">\n      <h1>404 Error Page</h1>\n      <p className=\"zoom-area\">\n        <b>Page Not Found</b>\n      </p>\n      <section className=\"error-container\">\n        <span className=\"four\">\n          <span className=\"screen-reader-text\">4</span>\n        </span>\n        <span className=\"zero\">\n          <span className=\"screen-reader-text\">0</span>\n        </span>\n        <span className=\"four\">\n          <span className=\"screen-reader-text\">4</span>\n        </span>\n      </section>\n      <div className=\"link-container\">\n        <Link to=\"/\" className=\"more-link\">\n          Visit page Home\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getDataAPI } from \"../../../api/fetchData\";\nimport { UPDATE_USER } from \"../../../redux/actions\";\nimport jwt_decode from \"jwt-decode\";\nimport { ACCESS_TOKEN } from \"../../../contants\";\n\nfunction ProtectLayOut({ children }) {\n  const [isLogin, setIslogin] = useState(false);\n  const { userCurrent } = useSelector((state) => state.auth);\n  const navigate = useNavigate();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (userCurrent) {\n      setIslogin(true);\n      return;\n    }\n    const accessToken = localStorage.getItem(ACCESS_TOKEN)\n      ? JSON.parse(localStorage.getItem(ACCESS_TOKEN))\n      : \"\";\n    if (!accessToken) return navigate(\"/login\");\n    const { exp, userId } = jwt_decode(accessToken);\n    const date = new Date();\n    if (exp < date.getTime() / 1000 || !userId) {\n      return navigate(\"/login\");\n    }\n\n    const handleGetUser = async () => {\n      try {\n        const response = await getDataAPI(`/user?userId=${userId}`);\n\n        const { message, user } = response;\n\n        dispatch({\n          type: UPDATE_USER,\n          payload: user,\n        });\n      } catch (err) {\n        console.log(\"err\", err);\n        navigate(\"/login\");\n      }\n    };\n\n    handleGetUser();\n    setIslogin(true);\n  }, []);\n\n  return isLogin ? <>{children}</> : <></>;\n}\n\nexport default ProtectLayOut;\n","import \"../home/home.css\";\nimport \"./postPage.css\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Post from \"../../components/post/Post\";\nimport { useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport { getDataAPI } from \"../../api/fetchData\";\n\nconst PostPage = () => {\n  const { postId } = useParams();\n  const [post, setPost] = useState(null);\n\n  useEffect(() => {\n    let isMount = true;\n\n    const fetchPost = async () => {\n      try {\n        const response = await getDataAPI(`/post/${postId}`);\n\n        const { post } = response;\n        if (isMount) {\n          setPost(post);\n        }\n      } catch (err) {\n        console.log(\"err\", err);\n      }\n    };\n    fetchPost();\n\n    return () => (isMount = false);\n  }, [postId]);\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"homeContainer\">\n        <Sidebar />\n        <div className=\"postPageContainer\">\n          {post && <Post post={post} className=\"postPage\" />}\n        </div>\n        <Rightbar />\n      </div>\n    </>\n  );\n};\n\nexport default PostPage;\n","import { v4 as uuidv4 } from \"uuid\";\n\n// Layouts\n\n// Pages\nimport Login from \"../pages/login/Login\";\nimport Profile from \"../pages/profile/Profile\";\nimport Register from \"../pages/register/Register\";\nimport NotFound from \"../pages/notFound/NotFound\";\nimport Home from \"../pages/home/Home\";\nimport { ProtectLayOut } from \"../components/Layout\";\nimport PostPage from \"../pages/post/PostPage\";\n\n// Public routes\nconst publicRoutes = [\n    { path: \"/*\", component: NotFound, layout: null, key: uuidv4() },\n    { path: \"/login\", component: Login, key: uuidv4(), layout: null },\n    {\n        path: \"/register\",\n        component: Register,\n        key: uuidv4(),\n        layout: null,\n    },\n];\n\nconst privateRoutes = [\n    { path: \"/\", component: Home, key: uuidv4(), layout: ProtectLayOut },\n    {\n        path: \"/messenger\",\n        component: Register,\n        key: uuidv4(),\n        layout: ProtectLayOut,\n    },\n    {\n        path: \"/profile/:id\",\n        component: Profile,\n        key: uuidv4(),\n        layout: ProtectLayOut,\n    },\n    {\n        path: \"/post/:postId\",\n        component: PostPage,\n        layout: ProtectLayOut,\n        key: uuidv4(),\n    },\n];\n\nexport { publicRoutes, privateRoutes };\n","import \"./login.css\";\nimport { useRef, useEffect } from \"react\";\nimport { login } from \"../../api/authApi\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nexport default function Login() {\n  const userNameRef = useRef();\n  const passwordRef = useRef();\n\n  const navigate = useNavigate();\n\n  // const { user, isLoading, error, dispatch } = useSelector((state) => state.network);\n  const dispatch = useDispatch();\n\n  const { isLoading } = useSelector((state) => state.auth);\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    dispatch(\n      login(\n        {\n          userName: userNameRef.current.value,\n          password: passwordRef.current.value,\n        },\n        navigate\n      )\n    );\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Coder Noob</h3>\n          <span className=\"loginDesc\">\n            Connect with friends and the world around you on CODE NOOB.\n          </span>\n        </div>\n        <form className=\"loginRight\" onSubmit={handleLogin}>\n          <div className=\"loginBox\">\n            <input\n              required\n              placeholder=\"User name\"\n              ref={userNameRef}\n              type=\"text\"\n              className=\"loginInput\"\n            />\n            <input\n              required\n              placeholder=\"Password\"\n              ref={passwordRef}\n              type=\"password\"\n              className=\"loginInput\"\n              minLength=\"6\"\n            />\n            <button className=\"loginButton\">\n              {isLoading ? (\n                <CircularProgress color={\"primary\"} size=\"30px\" />\n              ) : (\n                \"Log In\"\n              )}\n            </button>\n            <span className=\"loginForgot\">Forgot Password?</span>\n            <button\n              className=\"loginRegisterButton\"\n              onClick={() => navigate(\"/register\")}\n            >\n              {isLoading ? (\n                <CircularProgress color={\"primary\"} size=\"30px\" />\n              ) : (\n                \"Create a New Account\"\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport \"./home.css\";\n\nexport default function Home() {\n  return (\n    <div className=\"wrapper\">\n      <Topbar />\n      <div className=\"homeContainer\">\n        <Sidebar />\n        <Feed />\n        <Rightbar />\n      </div>\n    </div>\n  );\n}\n","import \"./profile.scss\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport ProfileRight from \"./ProfileRight\";\nimport ProflieLeft from \"./ProfileLeft\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useState, useEffect, useRef, useMemo } from \"react\";\nimport { getDataAPI, patchDataAPI } from \"../../api/fetchData\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport UpdateImage from \"../../components/UpdateImage/UpdateImage.jsx\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport ModalChooseImage from \"../../components/modal/ModalChooseImage\";\nimport {\n  UPDATE_BACKGROUND_USER,\n  UPDATE_AVATAR_USER,\n  UPDATE_USER,\n  SET_USER_PROFILE,\n  SET_IS_ME,\n} from \"../../redux/actions\";\nimport { imageUpload, removeImage } from \"../../helpers/image\";\nimport { NO_BACKGROUND } from \"../../contants/imgContant\";\n\nexport default function Profile() {\n  const { id } = useParams();\n\n  const { userCurrent } = useSelector((state) => state.auth);\n  const { userProfile } = useSelector((state) => state.profile);\n \n\n  const idBgc = useRef(uuidv4());\n  const idAvatar = useRef(uuidv4());\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let isMount = true;\n    if (userCurrent) {\n      if (userCurrent?._id !== id) {\n        const fetchUser = async () => {\n          try {\n            const response = await getDataAPI(`/user?userId=${id}`);\n\n            const { user } = response;\n\n            dispatch({\n              type: SET_USER_PROFILE,\n              payload: {\n                userProfile: user,\n                isFriend: user?.friends.includes(userCurrent?._id),\n              },\n            });\n          } catch (err) {\n            console.log(\"err\", err);\n          }\n        };\n        fetchUser();\n      } else {\n        if (isMount) {\n          dispatch({\n            type: SET_IS_ME,\n            payload: userCurrent,\n          });\n        }\n      }\n    }\n\n    return () => (isMount = false);\n  }, [userCurrent, id]);\n\n  const handleUpload = async (files, typeImage) => {\n    if (!files.length) return;\n\n    if (userProfile[typeImage]?.length) {\n      removeImage([userProfile[typeImage][1]]);\n    }\n\n    const images = await imageUpload(files);\n\n    const dataImage = [];\n    for (const key in images[0]) {\n      dataImage.push(images[0][key]);\n    }\n\n    const response = await patchDataAPI(`/user/update-user`, {\n      [typeImage]: dataImage,\n      userId: userProfile?._id,\n    });\n\n    dispatch({\n      type:\n        typeImage === \"coverPicture\"\n          ? UPDATE_BACKGROUND_USER\n          : UPDATE_AVATAR_USER,\n      payload: dataImage,\n    });\n  };\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"profile-container\">\n        <div\n          className=\"profile-bgc\"\n          style={{\n            backgroundImage: `url(${\n              (userProfile?.coverPicture?.length &&\n                userProfile?.coverPicture[0]) ||\n              NO_BACKGROUND\n            })`,\n          }}\n        >\n          <i className=\"fa fa-bars\" aria-hidden=\"true\"></i>\n\n          {userProfile?._id === userCurrent?._id && (\n            <UpdateImage\n              id={idBgc.current}\n              text={`${\n                userProfile?.coverPicture?.length &&\n                userProfile?.coverPicture[0]\n                  ? \"Change\"\n                  : \"Add\"\n              } cover photo`}\n              type=\"background\"\n            />\n          )}\n        </div>\n        {/* <hr className=\"separator\" /> */}\n\n        <hr className=\"separator separator--line\" />\n\n        {/* <hr className=\"separator separator--dots\" /> */}\n\n        {/* <hr className=\"separator separator--dotter\" /> */}\n        <main>\n          <div className=\"row\">\n            <ProflieLeft idAvatar={idAvatar} />\n            <ProfileRight />\n          </div>\n        </main>\n      </div>\n\n      <ModalChooseImage\n        onSave={handleUpload}\n        width={\"100%\"}\n        multiple={false}\n        height={\"300px\"}\n        id={idBgc.current}\n        text={\"Select the background image you want to update\"}\n        typeImage=\"coverPicture\"\n      />\n\n      <ModalChooseImage\n        onSave={handleUpload}\n        multiple={false}\n        width={\"100%\"}\n        height={\"250px\"}\n        id={idAvatar.current}\n        text={\"Select the avatar image you want to update\"}\n        typeImage=\"profilePicture\"\n      />\n    </>\n  );\n}\n","import { Routes, Route } from \"react-router-dom\";\nimport { Fragment, useEffect } from \"react\";\nimport { io } from \"socket.io-client\";\nimport Peer from \"peerjs\";\nimport {\n    ADD_FRIEND,\n    ADD_USER_ONLINE,\n    REMOVE_FRIEND,\n    REMOVE_USER_OFFLINE,\n    SET_CALL,\n    SET_PEER,\n    SET_SOCKET,\n    SET_USERS_ONLINE,\n} from \"./redux/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ModalCall from \"./components/modalCall/ModalCall\";\n\nimport { publicRoutes, privateRoutes } from \"./routes\";\n\nfunction App() {\n    const { firstConnect, socket, firstGetData, usersOnline } = useSelector(\n        (state) => state.network\n    );\n\n    const { userCurrent } = useSelector((state) => state.auth);\n    const { isCall, isInvited } = useSelector((state) => state.call);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (!socket) return;\n\n        const handleConnectCall = (data) => {\n            const { isVideo, userSendCall, roomCallId, isCreate, conversationId } =\n                data;\n\n            dispatch({\n                type: SET_CALL,\n                payload: {\n                    isCall: true,\n                    isVideo,\n                    userSendCall,\n                    roomCallId,\n                    isCreate,\n                    isSenderCall: false,\n                    conversationId,\n                },\n            });\n        };\n\n        socket.on(\"connectCall\", handleConnectCall);\n\n        return () => {\n            socket?.off(\"handleConnectCall\", handleConnectCall);\n        };\n    }, [socket]);\n\n    useEffect(() => {\n        const peer = new Peer(undefined, {\n            host: \"/\",\n            port: 9000,\n            // path: \"/\",\n        });\n\n        dispatch({ type: SET_PEER, payload: peer });\n    }, [dispatch]);\n\n    useEffect(() => {\n        const addUserOnline = (userLoginId) => {\n            if (usersOnline.includes(userLoginId)) {\n                return;\n            }\n            dispatch({\n                type: ADD_USER_ONLINE,\n                payload: userLoginId,\n            });\n        };\n\n        const removeUserOffline = ({ userDisconnectId }) => {\n            dispatch({\n                type: REMOVE_USER_OFFLINE,\n                payload: userDisconnectId,\n            });\n        };\n\n        if (socket) {\n            socket.on(\"friendOnline\", addUserOnline);\n            socket.on(\"friendLogout\", removeUserOffline);\n        }\n\n        return () => {\n            socket?.off(\"friendOnline\", addUserOnline);\n            socket?.off(\"friendLogout\", removeUserOffline);\n        };\n    }, [socket]);\n\n    useEffect(() => {\n        const addListFriend = (userId) => {\n            dispatch({\n                type: ADD_FRIEND,\n                payload: userId,\n            });\n        };\n\n        const removeListFriend = (userId) => {\n            dispatch({\n                type: REMOVE_FRIEND,\n                payload: userId,\n            });\n        };\n\n        if (socket) {\n            socket.on(\"addListFriend\", addListFriend);\n            socket.on(\"removeListFriend\", removeListFriend);\n        }\n\n        return () => {\n            socket?.off(\"addListFriend\", addListFriend);\n            socket?.off(\"removeListFriend\", removeListFriend);\n        };\n    }, [socket]);\n\n    useEffect(() => {\n        if (firstConnect && userCurrent) {\n            dispatch({\n                type: SET_SOCKET,\n                payload: io(\"ws://localhost:8900\"),\n            });\n        }\n    }, [userCurrent]);\n\n    useEffect(() => {\n        const handleSetUserOnline = (allUser) => {\n            if (!firstGetData) return;\n            const usersFollowOnline = userCurrent?.followings.filter((followingiD) =>\n                allUser.find((userId) => userId === followingiD)\n            );\n\n            dispatch({\n                type: SET_USERS_ONLINE,\n                payload: usersFollowOnline,\n            });\n        };\n\n        if (socket) {\n            socket.emit(\"userLogin\", {\n                userId: userCurrent?._id,\n                friends: userCurrent?.friends,\n                userName: userCurrent?.userName,\n            });\n            socket.on(\"getUsers\", handleSetUserOnline);\n        }\n\n        return () => {\n            socket?.off(\"getUsers\", handleSetUserOnline);\n        };\n    }, [socket, firstGetData]);\n\n    return (\n        <>\n            <Routes>\n                {publicRoutes.map((route) => {\n                    const Layout = route.layout ? route.layout : Fragment;\n\n                    const Page = route.component;\n\n                    return (\n                        <Route\n                            key={route.key}\n                            path={route.path}\n                            element={\n                                <Layout>\n                                    <Page />\n                                </Layout>\n                            }\n                        />\n                    );\n                })}\n\n                {privateRoutes.map((route) => {\n                    const Layout = route.layout ? route.layout : Fragment;\n\n                    const Page = route.component;\n\n                    return (\n                        <Route\n                            key={route.key}\n                            path={route.path}\n                            element={\n                                <Layout>\n                                    <Page />\n                                </Layout>\n                            }\n                        />\n                    );\n                })}\n            </Routes>\n\n            {isCall && <ModalCall />}\n        </>\n    );\n}\n\nexport default App;\n","import {\n  LOGIN_SUCCESS,\n  LOGIN_START,\n  LOGIN_FAILED,\n  UPDATE_USER,\n  USER_LOGOUT,\n  UN_FOLLOW,\n  FOLLOW,\n  UPDATE_BACKGROUND_USER,\n  UPDATE_AVATAR_USER,\n  ADD_FRIEND,\n  REMOVE_FRIEND,\n} from \"../actions\";\n\nconst initialState = {\n  userCurrent: null,\n  isLoading: false,\n  error: null,\n};\n\nconst authReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case USER_LOGOUT: {\n      return {\n        ...initialState,\n      };\n    }\n\n    case LOGIN_START: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case LOGIN_SUCCESS: {\n      return {\n        ...state,\n        userCurrent: payload,\n        isLoading: false,\n      };\n    }\n    case LOGIN_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        userCurrent: null,\n        error: payload,\n      };\n    }\n\n    case UPDATE_USER: {\n      return {\n        ...state,\n        userCurrent: payload,\n      };\n    }\n\n    case UN_FOLLOW: {\n      return {\n        ...state,\n        userCurrent: {\n          ...state.userCurrent,\n          followings: state.userCurrent.followings.filter(\n            (idUserFollow) => idUserFollow !== payload\n          ),\n        },\n      };\n    }\n\n    case FOLLOW: {\n      return {\n        ...state,\n        userCurrent: {\n          ...state.userCurrent,\n          followings: [payload, ...state.userCurrent.followings],\n        },\n      };\n    }\n\n    case UPDATE_AVATAR_USER: {\n      return {\n        ...state,\n        userCurrent: {\n          ...state.userCurrent,\n          profilePicture: [...payload],\n        },\n      };\n    }\n\n    case UPDATE_BACKGROUND_USER: {\n      return {\n        ...state,\n        userCurrent: {\n          ...state.userCurrent,\n          coverPicture: [...payload],\n        },\n      };\n    }\n\n    case ADD_FRIEND: {\n      return {\n        ...state,\n        userCurrent: {\n          ...state.userCurrent,\n          friends: [payload, ...state.userCurrent.friends],\n          followings: [payload, ...state.userCurrent.followings],\n        },\n      };\n    }\n\n    case REMOVE_FRIEND: {\n      return {\n        ...state,\n        userCurrent: {\n          ...state.userCurrent,\n          friends: state.userCurrent.friends.filter(\n            (friendId) => friendId !== payload\n          ),\n        },\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default authReducer;\n","import { addElment } from \"../../helpers\";\nimport {\n  UPDATE_LAST_MESSAGE,\n  UPDATE_STATUS_CONVERSATION,\n  SET_STATUS_CONVERSATION,\n  SET_CHAT,\n  SET_CONVERSATION_CHAT,\n  SET_LIST_CONVERSATION,\n  ADD_CONVERSATION_ACCEPTS,\n  SET_IS_SHOW,\n  DISPLAY_CONVERSATION_ACCEPTS,\n  UPDATE_CONVERSATION_DISPLAYS,\n  UPDATE_FRIEND_CHAT,\n  SET_NUMBER_UNREAD,\n  INCREASE_NUMBER_UNREAD,\n  DECREASE_NUMBER_UNREAD,\n  UPDATE_CONVERSATION,\n  ADD_CONVERSATION_PENDINGS,\n  ADD_CONVERSATION,\n  UPDATE_READ_CONVERSATION,\n  SET_NEW_CONVERSATION_CHAT,\n} from \"../actions\";\n\nconst initialState = {\n  lastMessageConversation: null,\n  isChat: false,\n  number: 0,\n  conversationChat: null,\n  conversationUnReads: [],\n  listConversation: [],\n  isShowConversationPending: false,\n};\n\nconst chatReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case SET_IS_SHOW: {\n      return {\n        ...state,\n        isShowConversationPending: payload,\n      };\n    }\n\n    case UPDATE_CONVERSATION: {\n      const { conversationId, ...newInfo } = payload;\n\n      const { listConversation } = state;\n\n      return {\n        ...state,\n        listConversation: listConversation.map((conversation) =>\n          conversation._id === conversationId\n            ? {\n                ...conversation,\n                ...newInfo,\n              }\n            : conversation\n        ),\n      };\n    }\n\n    case UPDATE_LAST_MESSAGE: {\n      return {\n        ...state,\n        lastMessageConversation: payload,\n      };\n    }\n\n    case UPDATE_STATUS_CONVERSATION: {\n      const { conversationId, isRead } = payload;\n      return {\n        ...state,\n        statusConversations: state.statusConversations.map((conversation) =>\n          conversation.conversationId === conversationId\n            ? {\n                ...conversation,\n                isRead,\n              }\n            : conversation\n        ),\n      };\n    }\n\n    case SET_STATUS_CONVERSATION: {\n      return {\n        ...state,\n        statusConversations: payload,\n      };\n    }\n\n    case SET_CHAT: {\n      return {\n        ...state,\n        ...payload,\n        number: 0,\n      };\n    }\n\n    case SET_LIST_CONVERSATION: {\n      const { userId, conversations } = payload;\n\n      const conversationUnReads = [];\n      conversations.forEach((conversation) => {\n        const { reads, status, _id } = conversation;\n\n        if (status.includes(userId)) {\n          if (!reads.includes(userId)) conversationUnReads.push(_id);\n        }\n      });\n\n      return {\n        ...state,\n        listConversation: conversations,\n        conversationUnReads,\n      };\n    }\n\n    case ADD_CONVERSATION: {\n      const { conversation } = payload;\n\n      const { listConversation } = state;\n\n      return {\n        ...state,\n        listConversation: addElment(\n          listConversation,\n          conversation,\n          (array, value) => array.find((el) => el._id !== value._id)\n        ),\n      };\n    }\n\n    case UPDATE_READ_CONVERSATION: {\n      const { conversationId, userId } = payload;\n\n      return {\n        ...state,\n        conversationAccepts: state.conversationAccepts.map((conversation) =>\n          conversation._id === conversationId\n            ? {\n                ...conversation,\n                reads: [...conversation.reads, userId],\n              }\n            : conversation\n        ),\n        conversationDisplays: state.conversationDisplays.map((conversation) =>\n          conversation._id === conversationId\n            ? {\n                ...conversation,\n                reads: [...conversation.reads, userId],\n              }\n            : conversation\n        ),\n      };\n    }\n\n    case UPDATE_CONVERSATION_DISPLAYS: {\n      const isExit = state.conversationAccepts.find(\n        (conversation) => conversation?._id === payload?._id\n      );\n\n      if (isExit)\n        return {\n          ...state,\n        };\n\n      const conversationAccepts = [payload, ...state.conversationAccepts];\n\n      const conversationPendings = state.conversationPendings.filter(\n        (conversation) => conversation?._id !== payload?._id\n      );\n\n      return {\n        ...state,\n        conversationAccepts,\n        conversationDisplays: conversationAccepts,\n        conversationPendings,\n      };\n    }\n\n    case SET_CONVERSATION_CHAT: {\n      const { conversationChat, isChangeType } = payload;\n\n      const { isShowConversationPending, listConversation } = state;\n      return {\n        ...state,\n        listConversation: listConversation.map((conversation) =>\n          conversation._id === conversationChat._id\n            ? conversationChat\n            : conversation\n        ),\n        conversationChat,\n        isShowConversationPending: isChangeType\n          ? !isShowConversationPending\n          : isShowConversationPending,\n      };\n    }\n\n    case SET_NEW_CONVERSATION_CHAT: {\n      const { conversationChat } = payload;\n      return {\n        ...state,\n        conversationChat,\n      };\n    }\n\n    case UPDATE_FRIEND_CHAT: {\n      return {\n        ...state,\n        friendChat: {\n          ...state.friendChat,\n          lastLogin: payload,\n        },\n      };\n    }\n\n    case SET_NUMBER_UNREAD: {\n      return {\n        ...state,\n        number: payload,\n      };\n    }\n\n    case INCREASE_NUMBER_UNREAD: {\n      return {\n        ...state,\n        conversationUnReads: addElment(state.conversationUnReads, payload),\n      };\n    }\n\n    case DECREASE_NUMBER_UNREAD: {\n      return {\n        ...state,\n        number: state.number - 1,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default chatReducer;\n","import {\n  SET_TYPE,\n  SET_LIST_FRIEND_REQUEST,\n  ADD_LIST_FRIEND_REQUEST,\n  REMOVE_FRIEND_REQUEST,\n  INCREASE_NUMBER_FRIEND_REQUEST,\n  SET_NUMBER_FRIEND_REQUEST,\n  UPDATE_FRIEND_REQUEST,\n} from \"../actions\";\n\nconst initialState = {\n  type: \"received\",\n  listFriendRequest: null,\n  number: 0,\n};\n\nconst friendRequestReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case SET_TYPE: {\n      const types = [\"received\", \"sent\"];\n      if (!types.includes(payload)) return { ...state };\n\n      return {\n        ...state,\n        type: payload,\n      };\n    }\n    case SET_LIST_FRIEND_REQUEST: {\n      return {\n        ...state,\n        listFriendRequest: payload,\n        number: payload.length,\n      };\n    }\n    case ADD_LIST_FRIEND_REQUEST: {\n      const isExit = state.listFriendRequest.find(\n        (friendRequest) => friendRequest?._id === payload?._id\n      );\n\n      if (isExit)\n        return {\n          ...state,\n        };\n\n      return {\n        ...state,\n        listFriendRequest: [payload, ...state.listFriendRequest],\n        number: state.number + 1,\n      };\n    }\n\n    case REMOVE_FRIEND_REQUEST: {\n      return {\n        ...state,\n        listFriendRequest: state.listFriendRequest.filter(\n          (friendRequest) => friendRequest?._id !== payload\n        ),\n        number: state.number - 1,\n      };\n    }\n\n    case INCREASE_NUMBER_FRIEND_REQUEST: {\n      return {\n        ...state,\n        number: state.number + 1,\n      };\n    }\n\n    case SET_NUMBER_FRIEND_REQUEST: {\n      return {\n        ...state,\n        number: payload,\n      };\n    }\n\n  \n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default friendRequestReducer;\n","import { SET_FILES, ADD_FILE, REMOVE_FILE } from \"../actions\";\n\nconst initialState = {\n  files: [],\n};\n\nconst authReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case SET_FILES: {\n      return {\n        ...state,\n        files: payload,\n      };\n    }\n    case ADD_FILE: {\n      const isExit = state.files.find((file) => file?.uuid === payload?.uuid);\n\n      if (isExit)\n        return {\n          ...state,\n        };\n\n      return {\n        ...state,\n        files: [payload, ...state.files],\n      };\n    }\n    case REMOVE_FILE: {\n      return {\n        ...state,\n        files: state.files.filter((file) => file?.uuid !== payload),\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default authReducer;\n","import {\n  SET_SOCKET,\n  SET_USERS_ONLINE,\n  ADD_USER_ONLINE,\n  REMOVE_USER_OFFLINE,\n  RESET_NETWORK,\n} from \"../actions\";\nimport { addElment } from \"../../helpers\";\n\nconst initialState = {\n  firstConnect: true,\n  socket: null,\n  usersOnline: [],\n  firstGetData: true,\n};\n\nconst networkReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case RESET_NETWORK: {\n      return {\n        ...initialState,\n      };\n    }\n\n    case SET_SOCKET: {\n      return {\n        ...state,\n        socket: payload,\n        firstConnect: false,\n      };\n    }\n\n    case SET_USERS_ONLINE: {\n      return {\n        ...state,\n        usersOnline: payload ? payload : [],\n        firstGetData: false,\n      };\n    }\n\n    case ADD_USER_ONLINE: {\n      return {\n        ...state,\n        usersOnline: addElment(state.usersOnline, payload),\n      };\n    }\n\n    case REMOVE_USER_OFFLINE: {\n      return {\n        ...state,\n        usersOnline: state.usersOnline.filter((user) => user !== payload),\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default networkReducer;\n","import {\n  SET_LIST_NOTIFICATION,\n  ADD_NOTIFICATION,\n  SET_NUMBER_NOTIFICATION_UNREAD,\n  INCREASE_NUMBER_NOTIFICATION_UNREAD,\n  DECREASE_NUMBER_NOTIFICATION_UNREAD,\n  SET_SHOW_NOTIFICATION,\n  SET_SHOW_NOTIFICATION_MENU,\n  REMOVE_NOTIFICATION,\n  SET_NOTIFICATIONs_DISPLAY,\n  ADD_NOTIFICATION_DISPLAY,\n  SET_TYPE_NOTIFICATION,\n  REMOVE_ALL_NOTIFICATION,\n  UPDATE_LIST_CONVERSATION,\n} from \"../actions\";\n\nimport { addElment } from \"../../helpers\";\n\nconst initialState = {\n  // first: true,\n  isShow: false,\n  isShowMenu: false,\n  number: 0,\n  listNotifycation: null,\n  notificationDisplays: null,\n  type: \"all\",\n};\n\nconst chatReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case SET_SHOW_NOTIFICATION: {\n      return {\n        ...state,\n        isShow: payload,\n        number: 0,\n      };\n    }\n\n    case SET_LIST_NOTIFICATION: {\n      return {\n        ...state,\n        listNotifycation: payload,\n        // first: false,\n        notificationDisplays: payload,\n      };\n    }\n\n    case SET_NUMBER_NOTIFICATION_UNREAD: {\n      return {\n        ...state,\n        number: payload,\n      };\n    }\n\n    case INCREASE_NUMBER_NOTIFICATION_UNREAD: {\n      return {\n        ...state,\n        number: state.number + 1,\n      };\n    }\n\n    case DECREASE_NUMBER_NOTIFICATION_UNREAD: {\n      return {\n        ...state,\n        number: state.number - 1,\n      };\n    }\n\n    case ADD_NOTIFICATION: {\n      return {\n        ...state,\n        listNotifycation: addElment(\n          state.listNotifycation,\n          payload,\n          (array, payload) => array.find((el) => el?._id === payload?._id)\n        ),\n      };\n    }\n\n    case ADD_NOTIFICATION_DISPLAY: {\n      return {\n        ...state,\n        notificationDisplays: addElment(\n          state.notificationDisplays,\n          payload,\n          (array, payload) => array.find((el) => el?._id === payload?._id)\n        ),\n      };\n    }\n\n    case REMOVE_NOTIFICATION: {\n      return {\n        ...state,\n        listNotifycation: state.listNotifycation.filter(\n          (notification) => notification?._id !== payload\n        ),\n        notificationDisplays: state.notificationDisplays.filter(\n          (notification) => notification?._id !== payload\n        ),\n      };\n    }\n\n    case SET_NOTIFICATIONs_DISPLAY: {\n      return {\n        ...state,\n        notificationDisplays: payload,\n      };\n    }\n\n    case SET_TYPE_NOTIFICATION: {\n      const types = [\"all\", \"read\", \"unread\"];\n\n      if (!types.includes(payload)) return { ...state };\n\n      return {\n        ...state,\n        type: payload,\n      };\n    }\n\n    case REMOVE_ALL_NOTIFICATION: {\n      return {\n        ...state,\n        listNotifycation: [],\n        notificationDisplays: [],\n      };\n    }\n\n    case UPDATE_LIST_CONVERSATION: {\n      return {\n        ...state,\n        listNotifycation: state.listNotifycation.map((el) =>\n          el?._id === payload?._id ? payload : el\n        ),\n        notificationDisplays: state.notificationDisplays.map((el) =>\n          el?._id === payload?._id ? payload : el\n        ),\n      };\n    }\n\n    case SET_SHOW_NOTIFICATION_MENU: {\n      return {\n        ...state,\n        isShowMenu: !state.isShowMenu,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default chatReducer;\n","import { SET_STATUS_FRIEND, SET_USER_PROFILE, SET_IS_ME } from \"../actions\";\n\nimport { addElment } from \"../../helpers\";\n\nconst initialState = {\n  isFriend: null,\n  userProfile: null,\n  isMe: false,\n};\n\nconst chatReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n\n    \n    case SET_STATUS_FRIEND: {\n      return {\n        ...state,\n        isFriend: payload,\n      };\n    }\n\n    case SET_USER_PROFILE: {\n      const { userProfile, isFriend } = payload;\n      return {\n        ...state,\n        userProfile,\n        isFriend,\n      };\n    }\n\n    case SET_IS_ME: {\n      return {\n        ...state,\n        isMe: true,\n        userProfile: payload,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default chatReducer;\n","import {\n  SET_CALL,\n  END_CALL,\n  SET_IS_ANSWER,\n  SET_IS_COMPLETE,\n  SET_FRIEND_INVITES,\n  SET_USER_STREAM,\n  REFUSE_INVITE,\n  SET_ACCEPT_INVITE,\n} from \"../actions\";\n\nconst initialState = {\n  isVideo: null,\n  isCall: null,\n  userSendCall: null,\n  userReciverCall: null,\n  isSenderCall: false,\n  isAnswer: false,\n  friendInvites: [],\n  fristLoadFriends: true,\n  isCreate: null,\n  roomCallId: null,\n  userStream: null,\n  conversationId: null,\n  isComplete: false,\n};\n\nconst networkReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case SET_IS_COMPLETE: {\n      return {\n        ...state,\n        isComplete: true,\n      };\n    }\n\n    case SET_USER_STREAM: {\n      return {\n        ...state,\n        userStream: payload,\n      };\n    }\n\n    case REFUSE_INVITE: {\n      return {\n        ...state,\n        isCreate: false,\n        isCall: false,\n        isVideo: null,\n        userSendCall: null,\n      };\n    }\n\n    case SET_ACCEPT_INVITE: {\n      return {\n        ...state,\n        isAnswer: true,\n        isCall: true,\n        isCreate: false,\n      };\n    }\n\n    case SET_FRIEND_INVITES: {\n      return {\n        ...state,\n        friendInvites: payload,\n        fristLoadFriends: false,\n      };\n    }\n\n    case SET_CALL: {\n      return {\n        ...state,\n        ...payload,\n      };\n    }\n\n    case END_CALL: {\n      const { userStream } = state;\n      if (userStream) {\n        const tracks = userStream.getTracks();\n        tracks.forEach((track) => track.stop());\n      }\n\n      return {\n        ...initialState,\n      };\n    }\n\n    case SET_IS_ANSWER: {\n      return {\n        ...state,\n        isAnswer: payload,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default networkReducer;\n","import { SET_PEER, SET_USER_PROFILE, SET_IS_ME } from \"../actions\";\n\nconst initialState = null;\n\nconst peerReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case SET_PEER: {\n      return payload;\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default peerReducer;\n","import { addElment } from \"../../helpers\";\nimport {\n  SET_CREATE_ROOM,\n  ADD_FRIEND_TO_ROOM,\n  REMOVE_FRIEND_TO_ROOM,\n  SET_LIST_FRIEND,\n  RESET_CREATE_ROOM,\n} from \"../actions\";\n\nconst initialState = {\n  isCreate: false,\n  friends: [],\n  friendAdds: [],\n};\n\nconst createRoomChatReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case RESET_CREATE_ROOM: {\n      return {\n        ...state,\n        ...initialState,\n      };\n    }\n\n    case SET_LIST_FRIEND: {\n      return {\n        ...state,\n        friends: payload,\n      };\n    }\n\n    case SET_CREATE_ROOM: {\n      return {\n        ...state,\n        isCreate: payload,\n      };\n    }\n\n    case ADD_FRIEND_TO_ROOM: {\n      return {\n        ...state,\n        friendAdds: addElment(state.friendAdds, payload, (array, value) =>\n          array.find((el) => el?._id === value?._id)\n        ),\n        friends: state.friends.filter((friend) => friend?._id !== payload?._id),\n      };\n    }\n\n    case REMOVE_FRIEND_TO_ROOM: {\n      return {\n        ...state,\n        friends: addElment(state.friends, payload, (array, value) =>\n          array.find((el) => el?._id === value?._id)\n        ),\n        friendAdds: state.friendAdds.filter(\n          (friend) => friend?._id !== payload?._id\n        ),\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default createRoomChatReducer;\n","import authReducer from \"./authReducer\";\nimport chatReducer from \"./chatReducer\";\nimport friendRequestReducer from \"./friendRequestReducer\";\nimport messageReducer from \"./messageReducer\";\nimport networkReducer from \"./networkReducer\";\nimport notifycationReducer from \"./notifycationReducer\";\nimport profileReducer from \"./profileReducer\";\nimport callReducer from \"./callReducer\";\nimport peerReducer from \"./peerReducer\";\nimport createRoomChatReducer from \"./createRoomChatReducer\";\n\nconst rootReducer = (state = {}, action) => ({\n  auth: authReducer(state.auth, action),\n  chat: chatReducer(state.chat, action),\n  friendRequest: friendRequestReducer(state.friendRequest, action),\n  message: messageReducer(state.message, action),\n  network: networkReducer(state.network, action),\n  notification: notifycationReducer(state.notification, action),\n  profile: profileReducer(state.profile, action),\n  peer: peerReducer(state.peer, action),\n  call: callReducer(state.call, action),\n  createRoomChat: createRoomChatReducer(state.createRoomChat, action),\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers/index\";\n// import { persistStore, persistReducer } from \"redux-persist\";\n// import storage from \"redux-persist/lib/storage\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\n// const persistConfig = {\n//   key: \"root\",\n//   storage,\n// };\n\n// const persistedReducer = persistReducer(persistConfig, rootReducer);\n\n// export const store = createStore(persistedReducer, composeEnhancers);\n\n// export const persistor = persistStore(store);\n\nconst composeEnhancers = composeWithDevTools(applyMiddleware(thunk));\n\nexport default createStore(rootReducer, composeEnhancers);\n","import \"./GlobalStyles.scss\";\n\nconst GlobalStyles = ({ children }) => {\n  return children;\n};\n\nexport default GlobalStyles;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\n// import { persistor, store } from \"./redux/store\";\n// import { PersistGate } from \"redux-persist/integration/react\";\nimport store from \"./redux/store\";\n\nimport \"./index.css\";\nimport GlobalStyles from \"./components/GlobalStyles\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <BrowserRouter>\n        {/* <PersistGate loading={null} persistor={persistor}> */}\n        <GlobalStyles>\n          <App />\n        </GlobalStyles>\n      </BrowserRouter>\n      {/* </PersistGate> */}\n      <ToastContainer />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}